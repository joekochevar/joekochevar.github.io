!function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(_&&_(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={15:0},i={15:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{52:1,54:1,55:1,57:1,61:1,62:1}[e]&&t.push(o[e]=new Promise((function(t,n){for(var r=({}[e]||e)+"."+{52:"27e37708f38fa6078b26",54:"90815571620551022e97",55:"c3ea2a90ad43adb383e8",57:"eed0c3655edebb535a0e",61:"2ad1393aa364844ce5d7",62:"de7e88a44ba32db1b38a"}[e]+".css",i=s.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=(_=a[c]).getAttribute("data-href")||_.getAttribute("href");if("stylesheet"===_.rel&&(l===r||l===i))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var _;if((l=(_=u[c]).getAttribute("data-href"))===r||l===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],d.parentNode.removeChild(d),n(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){o[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+""+({}[e]||e)+"."+{52:"72c1d227f49d0f5546d7",54:"f30137768b7f4f256ee2",55:"a9cd9ce6314340aeeaed",57:"898728d75ad27f0fe10a",61:"02c42f278c022bf14a6e",62:"3f3c919dc93c43d2c086"}[e]+".js"}(e);var l=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}i[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var _=l;a.push([1343,0,1]),n()}({0:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.floor(1e6*Math.random());return"".concat(e,"_").concat(t,"_").concat(n)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u,_,d,p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,c(t).call(this,e))).bindMethodsToThis(),n.enclosing_class("auto__base_component"),n.name=n.constructor.name,n.element_uids={},n}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,React.Component),n=t,(o=[{key:"track_rats",value:function(e,t){$(this.container).track_rats(e,t)}},{key:"track_rats_with_vid",value:function(e){window.$rat.root().withVid((function(t){e("".concat(t,".0"))}))}},{key:"trigger",value:function(e,t){t?$(this.container).trigger(e,t):$(this.container).trigger(e)}},{key:"uid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.uid_generator?this.props.uid_generator(e):(this.element_uids[e]||(this.element_uids[e]=r(this.name,e)),this.element_uids[e])}},{key:"image_url",value:function(e){var t="qa"===Scribd.rails_env?"":Scribd.asset_host;return"".concat(t,"/images/").concat(e.trim().replace(/\/+/g,"/"))}},{key:"get_focusable_children",value:function(){if(!this.container)return[];var e=t.FOCUSABLE_CHILDREN.map((function(e){return e+":not(.visually_hidden)"}));return Array.from(this.container.querySelectorAll(e.join(", ")))}},{key:"enclosing_class",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._enclosing_classes=this._enclosing_classes||[],e&&this._enclosing_classes.push(e),this._enclosing_classes.join(" ")}},{key:"component_classes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}},{key:"get_component_classname",value:function(){return"".concat(this.enclosing_class()," ").concat(this.component_classes())}},{key:"getMethodNames",value:function(){var e=["bindMethodsToThis","componentDidMount","componentDidUpdate","componentWillMount","componentWillReceiveProps","componentWillUnmount","componentWillUpdate","constructor","render","shouldComponentUpdate"],t=Object.getOwnPropertyNames(this.constructor.prototype),n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;"function"==typeof this[c]&&-1===e.indexOf(c)&&n.push(c)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"bindMethodsToThis",value:function(){var e=this;this.getMethodNames().forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"enclosing_tag",value:function(){return"div"}},{key:"enclosing_element_args",value:function(){return{}}},{key:"render_content",value:function(){"test"!==Scribd.rails_env&&console.log("".concat(this.constructor.name," needs render_content method instead of render for auto_encapsulation"))}},{key:"render",value:function(){var e=this,t=this.enclosing_tag();return React.createElement(t,i({ref:function(t){e.container=t,e.props.node_ref&&e.props.node_ref(t)},className:this.get_component_classname()},this.enclosing_element_args()),this.render_content())}},{key:"hook_tooltips",value:function(){Scribd.hook_tooltips($(this.container))}},{key:"render_visually_hidden",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className?n.className="".concat(n.className," visually_hidden"):n.className="visually_hidden",React.createElement(t,n,e)}},{key:"render_icon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=null;return t.length&&(r=this.render_visually_hidden(t)),React.createElement(n,{className:"icon icon-ic_".concat(e),"aria-hidden":"true"},r)}}])&&a(n.prototype,o),u&&a(n,u),t}();d=["button","[href]","input","select","textarea","[tabindex]:not([tabindex='-1'])"],(_="FOCUSABLE_CHILDREN")in(u=p)?Object.defineProperty(u,_,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[_]=d,Scribd.addComponent("Shared.BaseComponent",p);t.a=p},1:function(e,t,n){"use strict";n.d(t,"f",(function(){return"signup_lightbox:email_missing:view"})),n.d(t,"g",(function(){return"signup_lightbox:error:view"})),n.d(t,"h",(function(){return"signup_lightbox:facebook_btn:click"})),n.d(t,"i",(function(){return"signup_lightbox:facebook_error:view"})),n.d(t,"j",(function(){return"signup_lightbox:facebook_success:view"})),n.d(t,"k",(function(){return"signup_lightbox:forgot_password:click"})),n.d(t,"l",(function(){return"signup_lightbox:forgot_password:view"})),n.d(t,"m",(function(){return"signup_lightbox:google_btn:click"})),n.d(t,"n",(function(){return"signup_lightbox:google_error:view"})),n.d(t,"o",(function(){return"signup_lightbox:google_success:view"})),n.d(t,"p",(function(){return"signup_lightbox:show_join:click"})),n.d(t,"q",(function(){return"signup_lightbox:show_login:click"})),n.d(t,"r",(function(){return"signup_lightbox:submit_btn:click"})),n.d(t,"s",(function(){return"signup_lightbox:successful_submission:view"})),n.d(t,"t",(function(){return"signup_lightbox:view"})),n.d(t,"e",(function(){return"login:track"})),n.d(t,"d",(function(){return"login:success"})),n.d(t,"a",(function(){return"email"})),n.d(t,"b",(function(){return"facebook"})),n.d(t,"c",(function(){return"google"}))},10:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return c}));var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).state={lightbox:null},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=$(this.container);if(e.on("Scribd:lightbox:closed",this.handle_click_close),!e.closest("#lightboxes").length&&!e.closest(".inline_lightbox").length&&"test"!==Scribd.rails_env)throw new Error("Tried to render a react lightbox not inside #lightboxes");var t=this.props.stacked?Scribd.StackedLightbox:Scribd.Lightbox,n=this.state.lightbox||new t(this.container,!1);$(this.container).hide(),this.setState({lightbox:n}),n.show()}},{key:"component_classes",value:function(){return classNames("lightbox",{no_fullscreen:this.props.no_fullscreen,lite:this.props.render_lite},this.props.className)}},{key:"enclosing_element_args",value:function(){return{"aria-describedby":this.props.aria_describedby,"aria-hidden":"true","aria-label":this.get_aria_label(),"aria-labelledby":this.get_aria_labelled_by(),onBlur:this.handle_blur,role:"dialog",tabIndex:"-1"}}},{key:"handle_blur",value:function(e){e.stopPropagation(),$(this.container).attr("tabindex",null)}},{key:"handle_click_close",value:function(e){e.preventDefault(),this.props.handle_click_close&&this.props.handle_click_close()}},{key:"get_aria_labelled_by",value:function(){return this.props.aria_labelled_by||this.uid("lightbox")}},{key:"get_aria_label",value:function(){if(this.props.aria_label)return this.props.aria_label}},{key:"render_close_button",value:function(){if(!1!==this.props.show_close)return React.createElement("a",{href:"#",className:"close_button"},React.createElement("span",{className:"icon icon-ic_close_small"},React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.lightbox.close_dialog"))))}},{key:"render_title",value:function(){if(this.props.title)return React.createElement("h2",{className:"title",id:this.get_aria_labelled_by()},this.props.title)}},{key:"render_content",value:function(){var e=this.props.children;return this.props.render_lite||(e=React.createElement(React.Fragment,null,this.render_close_button(),React.createElement("div",{className:"content"},this.render_title(),this.props.children))),React.createElement("div",{className:"wrapper"},e)}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);c.defaultProps={render_lite:!1},Scribd.addComponent("Shared.Lightbox",c)},100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}};n(103),Scribd.Footer=function(){function e(e){this.setup_events=r(this.setup_events,this),this.container=$(e),this.mouse_down=!1,this.back_to_top=this.container.find(".back_to_top_link"),this.container.one("inview",(function(){return $(document.body).track_rats("footer:show")})),this.setup_events()}return e.prototype.setup_events=function(){var e;return this.container.dispatch("click",{back_to_top_link:(e=this,function(t){return e.scroll_to_top(t),"continue"})}),this.container.on("mousedown",function(e){return function(){return e.set_mouse_true()}}(this)),this.container.on("focusin",function(e){return function(){return e.check_for_tab_user()}}(this)),this.container.on("focusout",function(e){return function(){return e.hide_back_to_top()}}(this))},e.prototype.check_for_tab_user=function(){if(!this.mouse_down)return this.show_back_to_top()},e.prototype.set_mouse_true=function(){if(!this.back_to_top.is(":visible"))return this.mouse_down=!0},e.prototype.show_back_to_top=function(){if(!this.back_to_top.is(":visible"))return this.back_to_top.show().focus()},e.prototype.hide_back_to_top=function(){return setTimeout((e=this,function(){if(!$(document.activeElement).closest(e.container).length)return e.mouse_down=!1,e.back_to_top.hide()}),100);var e},e.prototype.scroll_to_top=function(e){return 0===$("#global_header").length?(e.preventDefault,$("h1").first().attr("tabIndex",-1).focus()):$("#global_header").attr("tabIndex",-1).focus(),window.scrollTo(0,0)},e}()},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){(function(e){n(107),Scribd.RatsLog=function(){function t(t,n){this.opts=null!=n?n:{},this.container=$(t),this.log=this.container.find(".rats_log .contents"),this.filter=this.container.find(".filter_input"),this.template=e.template(this.container.find(".rats_log_row_template").html()),this.unread_events=0,this.is_open=!0,this.visibility_btn=this.container.find(".visibility_btn"),this.captured_events=[],this.setup_events(),this.hide()}return[""],t.prototype.setup_events=function(){var t;return $(document.body).on("scribd:rats_event",(t=this,function(e,n,r){return t.rats_event($(e.target),n,r)})),this.container.dispatch("click",{open_log_btn:function(e){return function(t){return e.visibility_btn.hasClass("open_btn")?e.open():e.hide()}}(this),element:function(e){return function(t){return e.highlight_box(t.data("selector"))}}(this),clear_filter:function(e){return function(t){return e.filter.val(""),e.filter_events(!1)}}(this),unique_filter:function(e){return function(t){return e.filter_events(e.current_filter,e.unique_events())}}(this)}),this.filter.on("keydown",e.debounce(function(e){return function(t){return e.filter_events(e.filter.val())}}(this),100)),this.container.on("click",(function(e){return e.stopPropagation()})),$(window).on("keyup",function(e){return function(t){if(27===t.keyCode&&e.is_open)return e.hide()}}(this))},t.prototype.rats_event=function(e,t,n){var r,o;return this.unread_event(1),o={label:t,data:this.stringify(n),element:this.identify(e),idx:this.captured_events.length,uclassname:"rat_event_"+t+"_"+n.action+"_"+n.label},this.captured_events.push(o),!this.current_filter||this.current_filter&&this.matches(o,this.current_filter)?this.log.prepend(this.template(o)):(r=$(this.template(o)).hide(),this.log.prepend(r))},t.prototype.matches=function(t,n){var r,o,i,a,s,c,l,u,_;if(l=!1,a=!1,"-"===n.charAt(0)&&(n=n.substr(1),a=!0),n.indexOf(":")>-1)"parts",l=!((u=n.split(":")).length<2)&&(u[0]=e.str.trim(u[0]),u[1]=e.str.trim(u[1].toLowerCase()),null!=t.data&&t.data.replace(/\s/g,"").indexOf(u[0]+":"+u[1])>-1);else if("unique"===n){for(o=!1,i=s=0,c=(_=this.captured_events).length;s<c;i=++s)if((r=_[i]).category===t.category&&r.label===t.label&&r.data===t.data){o=!0;break}l=!o}else"label",l=t.label.toLowerCase().indexOf(n)>-1;return a&&(l=!l),l},t.prototype.filter_events=function(t,n){var r,o,i,a,s,c,l,u,_,d,p;if(null==n&&(n=this.captured_events),e.isEmpty(t))return this.current_filter=!1,void this.container.find(".logged_event").show();for(this.current_filter=t,"unique"===t&&(n=this.unique_events(),t=""),a=s=0,u=(i=t.indexOf(",")>-1?t.split(","):[t]).length;s<u;a=++s)o=i[a],i[a]=e.str.trim(o.toLowerCase());for(p=[],a=c=0,_=n.length;c<_;a=++c)for(r=n[a],l=0,d=i.length;l<d;l++)o=i[l],this.matches(r,o)&&p.push(a);return this.update_visible(p),p},t.prototype.update_visible=function(t){var n,r,o,i,a,s,c;for(this.container.find(".logged_event").show(),c=[],o=i=0,a=(s=this.captured_events).length;i<a;o=++i)r=s[o],n=this.container.find(".event_"+r.idx),e.indexOf(t,o)>-1?c.push(n.show()):c.push(n.hide());return c},t.prototype.unique_events=function(){var e,t,n,r,o,i,a,s,c,l,u;for(u=[],r=o=0,a=(c=this.captured_events).length;o<a;r=++o){for(t=c[r],n=!1,i=0,s=u.length;i<s;i++)if(e=u[i],(l=this.captured_events[e]).category===t.category&&l.label===t.label&&l.data===t.data){n=!0;break}n||u.push(r)}return this.current_filter="unique",console.log("Of "+this.captured_events.length+" captured events, "+u.length+" were unique"),u},t.prototype.unread_event=function(e){return this.unread_events+=e,this.visibility_btn.text(this.unread_events)},t.prototype.read_event=function(e){return this.unread_events=Math.max(0,this.unread_events-e),this.visibility_btn.text(this.unread_events)},t.prototype.identify=function(e){return"."+e[0].className.split(" ")[0]},t.prototype.stringify=function(t,n){var r,o;return null==n&&(n=": "),function(){var i;for(r in i=[],t)o=t[r],e.isObject(o)?i.push(r+n+this.stringify(o)):i.push(r+n+o);return i}.call(this).join("\n")},t.prototype.hide=function(){return this.container.find(".rats_log").hide(),this.is_open=!1,this.visibility_btn.removeClass("close_btn icon_caret").addClass("open_btn icon-ic_arrow_small_left_alt "),this.read_event(this.unread_events),this.container.find(".new").removeClass("new")},t.prototype.open=function(){return this.container.find(".rats_log").show(),this.filter.focus(),this.is_open=!0,this.visibility_btn.removeClass("open_btn icon-ic_arrow_small_left_alt").addClass("close_btn icon-ic_right_caret_alt")},t.prototype.highlight_elm=function(e){var t,n;return(n=$(e)).length?(this.highlight_box||(t=$("<div></div>").css({position:"absolute",border:"3px solid #ff0",width:n.outerWidth(),height:n.outerHeight(),left:n.offset().left,top:n.offset().top}),this.highlight_box=t),$(document.body).append(this.highlight_box)):console.error("could not find "+e)},t}()}).call(this,n(4))},107:function(e,t,n){},108:function(e,t,n){n(27),n(58),Scribd.SignIn=function(){function e(){}return e.open=function(e){var t,n;return null==e&&(e={}),/iPad|iPhone/.test(navigator.userAgent)?(n="join"===e.initial_view?"/join?":"/login?",n+=$.param({opts:e}),void(window.location=n)):(t=Scribd.Lightbox.lightboxes||$("#lightboxes"),Scribd.location_data_deferred.then((function(n){var r;return e=Object.assign({},Scribd.login_props_base,e,{optin:!n.is_in_eu}),(r=t.find("#login_drop")).length||(r=$('<div id="login_drop"></div>').appendTo(t)),ReactDOM.unmountComponentAtNode(r[0]),Scribd.Lightbox.open_react("login_drop",React.createElement(Scribd.Shared.Login.Lightboxes,e))})))},e.logout=function(){return window.location="/logout?return_to="+encodeURIComponent(window.location.pathname)},e}()},109:function(e,t,n){n(111),Scribd.CheckoutFlowLogin=function(){function e(e,t){var n;this.container=$(e),this.next_url=t,this.page_name="checkout_flow_login",this.forgot_pw_lb=null,this.container.track({action:"view",label:this.page_name}),this.container.dispatch("click",{default_input:function(e,t){var n;if((n=$(t.target)).removeClass("greyed"),n.attr("value")===n.attr("default"))return n.attr("value","")},forgot_password:(n=this,function(e,t){return n.forgot_pw_lb=Scribd.Lightbox.open("forgot_password_lb",Scribd.ForgotPasswordLightbox,n),!1})}),this.initialize_input_labels(),this.container.on("Scribd:Facebook:login_success",function(e){return function(t,n){return window.location.href=e.next_url}}(this))}return e.prototype.initialize_input_labels=function(){var e,t,n,r,o;for(o=[],e=0,n=(r=$(".default_input")).length;e<n;e++)t=r[e],""===(t=$(t)).attr("value")?(t.attr("value",t.attr("default")),o.push(t.addClass("greyed"))):o.push(void 0);return o},e.prototype.show=function(){if(this.forgot_pw_lb)return this.forgot_pw_lb.close()},e}()},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);n(42),n(108),n(119),n(109),n(121);var r=n(6);n(39),n(36),n(38),n(37);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.a,n(28),n(58),n(40)},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){n(120),n(56),Scribd.FacebookLoginButton=function(){function e(e){var t;this.container=$(e),this.container.data("created",!0),this.form=this.container.find("form"),this.button=this.container.find(".flat_btn"),this.container.click((t=this,function(){return t.container.trigger("scribd:facebook_login"),t.button.addClass("loading").prop("disabled",!0),Scribd.facebook.login((function(e){return t.on_login(e)}))}))}return e.prototype.parse_cookie=function(){var e,t,n,r;return(e=document.cookie.match(/(fbs_[a-f0-9]*)\s*=\s*([^;]+)/))?(e[0],t=e[1],{fbs_cookie:r=(null!=(n=(r=e[2]).match(/^"(.*)"$/))?n[1]:void 0)||r,fbs_cookie_name:t}):{fbs_cookie:"none"}},e.prototype.on_login=function(e){var t,n,r,o;if(this.button.removeClass("loading").prop("disabled",!1),null!=e?e.authResponse:void 0){for(t in n=this.parse_cookie())o=n[t],this.add_hidden(t,o);for(t in r=e.authResponse)o=r[t],this.add_hidden("facebook_session["+t+"]",o);return this.container.data("remote")?this.submit_remotely():this.form.submit()}},e.prototype.submit_remotely=function(){var e,t,n;return e=this.form.serialize(),t=this.form.attr("action"),$.ajax({url:t,type:"post",dataType:"json",data:e,success:(n=this,function(e){return e.success?n.container.trigger("Scribd:Facebook:login_success",[e]):n.container.find(".fb_fail_message").show()}),complete:function(e){return function(n){if("/facebook_link"===t)return e.container.trigger("Scribd:Facebook:login_success",[n])}}(this)})},e.prototype.add_hidden=function(e,t){return this.fields||(this.fields=this.form.find(".session_fields")),$('<input type="hidden" />').attr("name",e).attr("value",t).appendTo(this.fields)},e}()},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){var t=window.open(e,"_blank");if(!t||void 0===t)return console.error("popup blocked"),$(document.body).track({category:"audiobooks",action:"popup",label:"blocked"})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e&&"number"==typeof e){var t=Math.floor(e/1e3)%60,n=Math.floor(e/6e4)%60,r=Math.floor(e/36e5);return n=n<10?"0"+n:n,t=t<10?"0"+t:t,r?"".concat(r,":").concat(n,":").concat(t):"".concat(n,":").concat(t)}return"00:00"}},127:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return g}));var r=n(0),o=n(70),i=n(128),a=n(130),s=n(129),c=n(136),l=n(137);n(33),n(188);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,m,b,g=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=d(this,p(n).call(this,e))).enclosing_class("auto__shared_react_lists_list_items"),t}var r,u,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,t),r=n,f=[{key:"is_narrow",value:function(){return $(window).width()<951}}],(u=[{key:"componentDidMount",value:function(){this.setup_tracking(this.props.rec_tracking_json)}},{key:"componentDidUpdate",value:function(e){this.setup_tracking(e.rec_tracking_json)}},{key:"component_classes",value:function(){return classNames(this.props.display_type,"list_items",{in_carousel:this.props.use_in_carousel,not_in_carousel:!this.props.use_in_carousel})}},{key:"setup_tracking",value:function(e){var t=this;!this.props.use_in_carousel&&this.props.setup_tracking&&e&&(this.recommendationTracking=new Scribd.RecommendationTracking.Module(this.container,{widget_name:"list_items",compilation_id:e.compilation_id,module_id:e.uuid,on_tracking:function(e){t.tracking=e,t.props.handle_tracking&&t.props.handle_tracking(e)},on_in_view:function(e){t.setup_items_tracking(e)}}))}},{key:"setup_items_tracking",value:function(e){return $(this.container).find(".object_cell:not(.visibility_tracked)").on("inview",(function(t){var n=$(t.currentTarget);if(!n.hasClass("visibility_tracked"))return Scribd.RecommendationTracking.track_obj_view(e.view_id,n.data("track_uuid"),e.widget_name),n.addClass("visibility_tracked")}))}},{key:"get_aria_label",value:function(){if(this.props.aria_label)return this.props.aria_label}},{key:"get_aria_labelled_by",value:function(){if(!1!==this.props.aria_labelled_by)return this.props.aria_labelled_by?this.props.aria_labelled_by:this.uid("list_labelledby")}},{key:"no_controls",value:function(e){return this.props.no_controls?this.props.no_controls:e.flag&&"not_available"===e.flag.type}},{key:"render_controls",value:function(e,t){return"function"==typeof this.props.controls?this.props.controls(e,t):null}},{key:"get_base_props",value:function(e,t){var n=this.props.rec_tracking_json;return{compilation_id:n?n.compilation_id:null,controls:this.render_controls(e,t),display_type:this.props.display_type,hide_hover_cta:this.props.hide_hover_cta||!1,item:e,key:e.id,module_id:n?n.uuid:null,narrow:this.props.narrow||!1,no_clamp:this.props.no_clamp,no_controls:this.no_controls(e),paused:this.props.paused,payment_fix_url:this.props.payment_fix_url,pre_rendered:this.props.pre_rendered,rec_uuid:n&&n.recs?n.recs[t]:"",undo_label:this.props.undo_label,undo_xhr:this.props.undo_xhr,use_in_carousel:this.props.use_in_carousel,uploader_avatar_url:this.props.uploader_avatar_url}}},{key:"renderCell",value:function(e,t){switch(e){case"article":return React.createElement(o.a,t);case"publication_issue":return React.createElement(i.a,t);case"audiobook":case"book":case"sheet_music":case"sheet_music_chapter":return React.createElement(a.a,t);case"summary_canonical":return React.createElement(c.a,t);case"podcast_episode":return React.createElement(l.a,t);default:return React.createElement(s.a,t)}}},{key:"render_cells",value:function(){var t=this,n=this.props.items_json||this.props.documents;return e.map(n,(function(e,n){var r=t.get_base_props(e,n);return t.renderCell(e.type,r)}))}},{key:"render_content",value:function(){return React.createElement("ul",{"aria-labelledby":this.get_aria_labelled_by(),"aria-label":this.get_aria_label(),className:this.props.extra_classes,id:this.props.list_id,key:"list_items"},this.render_cells())}}])&&_(r.prototype,u),f&&_(r,f),n}(r.a);b={display_type:"grid",use_in_carousel:!1,setup_tracking:!0,pre_rendered:!1,uploader_avatar_url:"/images/document_cells/metadata_cards/avatar.png"},(m="defaultProps")in(f=g)?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b,Scribd.addComponent("Shared.React.Lists.ListItems",g)}.call(this,n(4))},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19);n(182);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__shared_react_cells_issue"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"render_reading_time_estimate",value:function(){if(this.props.item.read_time_estimate)return React.createElement("span",{className:"read_time_estimate"},I18n.t("shared.react.cells.issue.issue"))}},{key:"render_list_item_content",value:function(){return[this.render_image(),React.createElement("div",{className:"metadata",key:"metadata"},React.createElement("div",{className:"title_author"},this.render_author(!1),this.render_title()),this.render_reading_time_estimate())]}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);Scribd.addComponent("Shared.React.Cells.Issue",l)},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(19),o=n(32),i=n(132),a=n(135);n(186);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,h(t).call(this,e))).enclosing_class("auto__shared_react_cells_document"),n.page_width=window.innerWidth,n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"handle_download_click",value:function(e,t){return this.track_rats("search:download_button:click",{document_id:t})}},{key:"render_reading_progress",value:function(){if(!["sheet_music","sheet_music_chapter"].includes(this.props.item.type))return p(h(t.prototype),"render_reading_progress",this).call(this)}},{key:"render_star_ratings",value:function(){if("sheet_music_chapter"===this.props.item.type)return p(h(t.prototype),"render_star_ratings",this).call(this)}},{key:"render_upvotes",value:function(){if(this.props.item.upvote_props&&"sheet_music_chapter"!==this.props.item.type){var e=l({},this.props.item.upvote_props,{use_in_carousel:this.props.use_in_carousel});return React.createElement(i.a,e)}}},{key:"render_document_uploaded_by",value:function(){var e=this.props.item.uploader_avatar_url||this.props.uploader_avatar_url;return React.createElement("div",{className:"uploaded_by_container"},React.createElement("p",{className:"uploaded_by_text"},I18n.t("shared.react.cells.base.uploaded_by")),React.createElement("div",{className:"uploader_container"},React.createElement("div",{className:"icon_and_name"},React.createElement("img",{className:"icon doc_avatar",src:e,alt:""}),React.createElement("span",{className:"uploader author"},this.props.item.author))))}},{key:"render_controls",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.props.controls)return this.props.controls;if(!this.props.no_controls){var n,r,i=l({},this.props.item.download_button_props,{on_click:this.handle_download_click,document_title:this.props.item.title});return e&&(n=React.createElement(a.a,i)),t&&(r=React.createElement(o.default,{item:this.props.item,show_text:!1,on_remove:this.remove_cell,on_save:this.unremove_cell})),React.createElement("div",{className:"controls"},n,r)}}},{key:"render_list_item_content",value:function(){return[this.render_image(),React.createElement("div",{className:"metadata",key:"metadata_".concat(this.props.item.id)},React.createElement("div",{className:"title_author"},this.render_title(),this.render_document_uploaded_by()),this.render_reading_progress(),this.render_reading_time_estimate())]}}])&&_(n.prototype,r),s&&_(n,s),t}(r.a);Scribd.addComponent("Shared.React.Cells.Document",m)},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(89);var r=function(){var e=function(e,t){return React.createElement("div",{className:classNames("color_section",e),style:{width:"".concat(t,"%")}})};return React.createElement("div",{className:"color_divider flex_row"},e("seafoam_regular",4),e("teal_dark",12),e("teal_light",48),e("midnight_light",12),e("wine_light",16),e("yellow_dark",8))}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(19);n(183);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,c(t).call(this,e))).enclosing_class("auto__shared_react_cells_book"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"get_image_aria_label_text",value:function(){var e=s(c(t.prototype),"get_image_aria_label_text",this).call(this);return this.props.item.series&&(e+=" series"),e}},{key:"render_list_item_content",value:function(){return[this.render_image(),React.createElement("div",{className:"metadata",key:"metadata_".concat(this.props.item.id)},React.createElement("div",{className:"title_author"},this.render_availability_notice(),this.render_title(),this.render_author()),this.render_reading_progress(),this.render_star_ratings(),this.render_reading_time_estimate())]}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);Scribd.addComponent("Shared.React.Cells.Book",u)},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0);n(176);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l,u,_,d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__shared_react_reading_progress_bar"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return"reading_progress_wrapper"}},{key:"render_content",value:function(){var e=I18n.t("shared.react.reading_progress_bar.math_round_props_percentage_0_of_props_short_title_completed",{math_round_props_percentage_0:Math.round(this.props.percentage||0),props_short_title:this.props.short_title});return React.createElement("div",{className:"reading_progress_outer"},React.createElement("div",{className:"reading_progress_outer_dark_overlay"}),React.createElement("img",{style:{width:"".concat(this.props.percentage||0,"%")},className:"reading_progress_inner reading_progress_percentage",src:this.props.image_url,alt:e}))}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);_={short_title:"",percentage:0},(u="defaultProps")in(l=d)?Object.defineProperty(l,u,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[u]=_,Scribd.addComponent("Shared.React.ReadingProgressBar",d)},132:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(0);n(184);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,c(t).call(this,e))).enclosing_class("auto__shared_react_upvotes"),n.state={initial_rating:e.user_rating,user_rating:e.user_rating,upvotes:e.upvote_count,downvotes:e.downvote_count},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Scribd.Shared.React.Upvotes.instances.push(this),Scribd.Shared.React.Upvotes.bind_global_handlers()}},{key:"component_classes",value:function(){return"upvotes_container"}},{key:"enclosing_element_args",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.props.active&&(e.href="javascript:void(0)"),e}},{key:"upvote",value:function(){this.rate_title(5)}},{key:"downvote",value:function(){this.rate_title(1)}},{key:"showTooltip",value:function(e){$(e.target.children[0]).trigger("mouseenter")}},{key:"hideTooltip",value:function(e){$(e.target.children[0]).trigger("mouseleave")}},{key:"rate_title",value:function(e){if(this.props.active){var t={initial_view:"join",track_location:"upvotes",join_header_text:I18n.t("shared.react.star_ratings.sign_up_to_rate_this_title")};Scribd.with_login(t,this.handle_rating.bind(this,e))}}},{key:"handle_rating",value:function(e){var t=this,n=this.state.user_rating;this.setState({user_rating:e},(function(){var e=[t,0===n];$(t.container).trigger("scribd:upvote_update",e)})),$.post(this.props.ratings_path,{rated:e,source:4}).fail((function(){Scribd.Flasher.standard("error",I18n.t("shared.react.star_ratings.your_rating_was_not_saved_please")),t.setState({user_rating:n},(function(){$(this.container).trigger("scribd:upvote_update",this)}))})).always((function(){return t.track_rats("ratings:upvote:update",{word_document_id:t.props.doc_id,rating:t.state.user_rating})}))}},{key:"get_upvotes_hidden_msg",value:function(e){return e?I18n.t("shared.react.upvotes.upvotes_you_marked_this_as_useful"):I18n.t("shared.react.upvotes.up_votes_mark_as_useful")}},{key:"get_downvotes_hidden_msg",value:function(e){return e?I18n.t("shared.react.upvotes.down_votes_you_marked_this_as_not_useful"):I18n.t("shared.react.upvotes.down_votes_mark_as_not_useful")}},{key:"render_content",value:function(){return this.props.render_stats_first?[this.render_stats(),this.render_upvotes()]:[this.render_upvotes(),this.render_stats()]}},{key:"render_live_region",value:function(e){var t=e?I18n.t("shared.react.upvotes.document_is_marked_as_useful"):I18n.t("shared.react.upvotes.document_is_marked_as_not_useful");return React.createElement("span",{key:"upvotes_live_region",className:"visually_hidden",role:"status","aria-live":"polite","aria-atomic":"true"},t)}},{key:"get_icons",value:function(e,n,r){var o={upvote:t.ICON_PATHS.UPVOTE.OUTLINE,downvote:t.ICON_PATHS.DOWNVOTE.OUTLINE};return e&&n&&(o.upvote=t.ICON_PATHS.UPVOTE.FILL),e&&r&&(o.downvote=t.ICON_PATHS.DOWNVOTE.FILL),o}},{key:"render_upvotes",value:function(){var e=this.state,t=e.user_rating,n=e.upvotes,r=e.downvotes,o=this.props.user_rating,a=5===t,s=1===t;t!==o&&(o?a?(r--,n++):(r++,n--):a?n++:r++);var c=Boolean(a||s),l=this.get_icons(c,a,s),u={onFocus:this.showTooltip,onBlur:this.hideTooltip,onMouseLeave:this.hideTooltip},_={key:"upvotes_thumbs_up",className:classNames("vote upvote",{selected:a,has_selection:c}),onClick:this.upvote,children:[React.createElement("span",{key:"icon","aria-hidden":"true",className:classNames("thumbs_up","icon",l.upvote),"data-tooltip":!this.props.hide_tooltips,"aria-label":I18n.t("shared.react.upvotes.useful"),"aria-disabled":Boolean(a),role:"presentation"}),React.createElement("span",{key:"count",className:"count"},n),React.createElement("span",{key:"count_hidden_msg",className:"visually_hidden"},this.get_upvotes_hidden_msg(a))]},d={key:"upvotes_thumbs_down",className:classNames("vote downvote",{selected:s,has_selection:c}),onClick:this.downvote,children:[React.createElement("span",{key:"icon","aria-hidden":"true",className:classNames("thumbs_down","icon",l.downvote),"data-tooltip":!this.props.hide_tooltips,"aria-label":I18n.t("shared.react.upvotes.not_useful"),"aria-disabled":Boolean(s),role:"presentation"}),React.createElement("span",{key:"count",className:"count"},r),React.createElement("span",{key:"count_hidden_msg",className:"visually_hidden"},this.get_downvotes_hidden_msg(s))]},p=[];return this.props.active?(p.push(React.createElement("button",i({type:"button"},u,_))),p.push(React.createElement("button",i({type:"button"},u,d)))):(p.push(React.createElement("span",i({},u,_))),p.push(React.createElement("span",i({},u,d)))),React.createElement("div",{key:"upvotes_actions",className:classNames("upvotes",{disabled:!this.props.active})},React.createElement("div",{className:"votes_inner_container"},p,c&&this.render_live_region(a)))}},{key:"render_stats",value:function(){if(this.props.show_stats){var e=null;return this.props.score&&(e=React.createElement("div",{className:"views score"},I18n.t("shared.react.upvotes.props_score_5_score",{props_score:this.props.score}))),React.createElement("div",{key:"upvote-stats",className:"stats"},React.createElement("div",null,React.createElement("div",{className:"views"},I18n.t("shared.react.upvotes.props_views_views",{props_views:this.props.views})),e))}}}])&&a(n.prototype,r),o&&a(n,o),t}(r.a);u(_,"defaultProps",{user_rating:0,upvote_count:0,downvote_count:0,force_outline_icon:!1,render_stats_first:!1}),u(_,"ICON_PATHS",{UPVOTE:{FILL:"icon-ic_thumbsup_fill_small",OUTLINE:"icon-ic_thumbsup_outline_small"},DOWNVOTE:{FILL:"icon-ic_thumbsdown_fill_small",OUTLINE:"icon-ic_thumbsdown_outline_small"}}),u(_,"instances",[]),u(_,"bind_global_handlers",e.once((function(){$(window).on("scribd:upvote_update",(function(e,t){for(var n=0,r=Array.from(Scribd.Shared.React.Upvotes.instances);n<r.length;n++){var o=r[n];o!==t&&t.props.doc_id===o.props.doc_id&&o.setState({user_rating:t.state.user_rating})}})),$(window).on("scribd:upvote_update:pdf_reader",(function(e,t){for(var n=0,r=Array.from(Scribd.Shared.React.Upvotes.instances);n<r.length;n++){var o=r[n];t.doc_id===o.props.doc_id&&o.setState({user_rating:t.rating})}}))}))),Scribd.addComponent("Shared.React.Upvotes",_)}).call(this,n(4))},133:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(0);n(198);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l,u,_,d=function(t){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=a(this,s(n).call(this,t))).enclosing_class("auto__shared_react_content_carousel"),r.state={render_back_paddle:!1,render_forward_paddle:!1},r.throttled_scroll_handler=e.throttle(r.handle_carousel_scroll,80),r}var r,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){this.cell_width=this.get_cell_width(),this.align_carousel_paddles(),this.carousel_scrolling.addEventListener("scroll",this.throttled_scroll_handler),window.addEventListener("resize",this.throttled_scroll_handler)}},{key:"componentWillUnmount",value:function(){this.carousel_scrolling.removeEventListener("scroll",this.throttled_scroll_handler),window.removeEventListener("resize",this.throttled_scroll_handler)}},{key:"component_classes",value:function(){var e=this.state,t=e.render_back_paddle,n=e.render_forward_paddle;return classNames("has_paddles has_document_cells carousel_widget",{paddles_visible:t||n})}},{key:"handle_carousel_scroll",value:function(){this.align_carousel_paddles(),this.scroll_handler(this.props.content_type)}},{key:"scroll_handler",value:function(e){"function"==typeof this.props.scroll_handler&&this.props.scroll_handler(e)}},{key:"align_carousel_paddles",value:function(){this.setState({render_back_paddle:this.is_not_at_scroll_start(),render_forward_paddle:this.is_at_scroll_end()})}},{key:"get_cell_width",value:function(){if(null==this.carousel_scrolling.querySelector("ul > li"))throw new Error("ContentCarousel needs a <ul> containing an <li> in order to run");var e=this.carousel_scrolling.querySelector("li"),t=window.getComputedStyle(e);return e.getBoundingClientRect().width+parseInt(t.marginLeft)+parseInt(t.marginRight)}},{key:"on_animation_complete",value:function(){this.manage_focus_between_paddles(),this.scroll_handler(this.props.content_type)}},{key:"scroll_to",value:function(e){$(this.carousel_scrolling).animate({scrollLeft:e},{easing:"smoothstep",complete:this.on_animation_complete})}},{key:"manage_focus_between_paddles",value:function(){this.is_not_at_scroll_start()?this.is_at_scroll_end()||this.back_paddle.focus():this.forward_paddle.focus()}},{key:"get_number_of_cells_in_view",value:function(){var e=Math.floor(this.carousel_scrolling.clientWidth/this.cell_width);return 0===e&&(e=1),e}},{key:"get_forward_paddle_scroll_position",value:function(e){e.preventDefault();var t=this.get_number_of_cells_in_view(),n=this.carousel_scrolling.scrollLeft+this.cell_width*t;this.scroll_to(n)}},{key:"get_back_paddle_scroll_position",value:function(e){e.preventDefault();var t=this.get_number_of_cells_in_view(),n=this.carousel_scrolling.scrollLeft-this.cell_width*t;this.scroll_to(n)}},{key:"is_not_at_scroll_start",value:function(){return this.carousel_scrolling.scrollLeft>0}},{key:"is_at_scroll_end",value:function(){var e=this.carousel_scrolling;return e.scrollLeft+e.clientWidth<e.scrollWidth}},{key:"render_back_paddle",value:function(){var e=this;if(this.state.render_back_paddle)return React.createElement("a",{onClick:this.get_back_paddle_scroll_position,ref:function(t){return e.back_paddle=t},href:"#",className:"paddle page_left back_paddle"},React.createElement("span",{className:"paddle_icon icon left icon-ic_right_caret_alt"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.content_carousel.carousel_previous")))}},{key:"render_forward_paddle",value:function(){var e=this;if(this.state.render_forward_paddle)return React.createElement("a",{href:"#",className:"paddle page_right forward_paddle",ref:function(t){return e.forward_paddle=t},onClick:this.get_forward_paddle_scroll_position},React.createElement("span",{className:"paddle_icon icon icon-ic_right_caret_alt"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.content_carousel.carousel_next")))}},{key:"render_content",value:function(){var e=this,t=this.state,n=t.render_back_paddle,r=t.render_forward_paddle;return React.createElement("div",{className:"carousel_wrap"},React.createElement("div",{className:"carousel_outer"},React.createElement("div",{className:"paddles_container all_paddles"},this.render_back_paddle(),this.render_forward_paddle()),React.createElement("div",{className:classNames("carousel",{right_paddle:r,left_paddle:n}),tabIndex:"-1"},React.createElement("div",{tabIndex:"-1",ref:function(t){return e.carousel_scrolling=t},className:"carousel_scrolling"},this.props.children))))}}])&&i(r.prototype,o),l&&i(r,l),n}(r.a);_={scroll_handler:function(e){return e}},(u="defaultProps")in(l=d)?Object.defineProperty(l,u,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[u]=_,Scribd.addComponent("Shared.React.ContentCarousel",d)}).call(this,n(4))},134:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return c}));var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_availability_notice"),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"render_content",value:function(){return React.createElement("div",{className:"availability_info ".concat(this.props.flag_class," ").concat(this.props.extra_classes)},React.createElement("span",{className:"icon ".concat(this.props.icon)}),React.createElement("span",{className:"availability_text"},this.props.text))}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);Scribd.addComponent("Shared.AvailabilityNotice",c)},1343:function(e,t,n){n(138),e.exports=n(1877)},1344:function(e,t,n){},1345:function(e,t,n){(function(e){var t,r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty;n(628),t=function(t){function n(e){var t;this.opts=null!=e?e:{},this.update=r(this.update,this),this.handle_input=r(this.handle_input,this),this.setup_events=r(this.setup_events,this),n.__super__.constructor.call(this,this.opts),this.container=$(this.opts.container),this.doc_id=this.opts.doc_id,this.is_embed=this.opts.is_embed||!1,this.setup=!1,$(this.opts.scroll_node).off(this.events.scroll).on(this.events.scroll,this.update),setTimeout((t=this,function(){return t.container.on("scroll",t.handle_input),$(window).on("resize",t.handle_input),t.container.on("click",t.setup_events)}),250),this.is_embed||this.setup_events()}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,Scribd.ReadingProgress.Base),n.prototype.enabled=function(){return!!window.docManager&&(!!this.opts.scroll_node&&n.__super__.enabled.apply(this,arguments))},n.prototype.default_opts=function(){return e.extend(n.__super__.default_opts.apply(this,arguments),{scroll_node:null})},n.prototype.setup_events=function(){var t;if(!this.setup)return this.setup=!0,this.track_view(),setTimeout((t=this,function(){return t.tracking_enabled=!0,t.track_view()}),1e3),this.tick_track_later=e.debounce(function(e){return function(){return e.tick_track.apply(e,arguments)}}(this),1e3),setInterval(function(e){return function(){if(e.current_event)return new Date-e.current_event.time>6e5?e.flush_current_event():void 0}}(this),5e3),$(window).on("beforeunload unload",function(e){return function(){return e.flush_current_event()}}(this))},n.prototype.handle_input=function(e){return this.is_embed&&this.setup_events(),this.track_view()},n.prototype.update=function(){var e;if(this.enabled())return this.updated=!0,e=window.docManager.currentPageNum()-1,this.offset_type="page",this.offset=e,this.percentage=e/this.opts.total_pages*100,this.throttled_post_handler()},n.prototype.flush_current_event=function(){if(this.current_event)return $rat("doc:view_end",{top_view_position:this.current_event.left,bottom_view_position:this.current_event.right,duration:(new Date-this.current_event.time)/1e3,doc_id:this.opts.doc_id,is_embed:this.is_embed}),this.current_event=null,"undefined"!=typeof $rat&&null!==$rat?$rat.root().flushEvents():void 0},n.prototype.tick_track=function(e,t){return this.flush_current_event(),this.current_event={left:e,right:t,time:+new Date},$rat("doc:view",{top_view_position:e,bottom_view_position:t,doc_id:this.opts.doc_id,is_embed:this.is_embed})},n.prototype.track_view=function(){var e,t,n,r,o,i;if(this.tracking_enabled&&this.container.is(":visible")&&(t=this.container[0],e=this.container.find(".document_container")[0],i=t.scrollTop,n=e.scrollHeight,(r=Math.max(0,Math.min(1,i/n)))!==(o=Math.max(0,Math.min(1,(i+t.offsetHeight)/n)))))return this.tick_track_later(Math.floor(100*r),Math.floor(100*o))},n}(),Scribd.addComponent("ReadingProgress.Pdf",t)}).call(this,n(4))},1346:function(e,t,n){n(153),Scribd.BuyDocManager=function(){function e(){}return e.for_current_doc=function(e,t,n){var r,o,i;return null==e&&(e=null),null==t&&(t=null),null==n&&(n=null),this.buy_manager?this.buy_manager:(r=Scribd.current_doc,this.buy_manager=new Scribd.BuyDocManager,i=this,o=function(){var e,t,n;return t=I18n.t("shared.buy_doc_manager.you_re_reading_a_preview_unlock_full"),e=I18n.t("shared.buy_doc_manager.download_with_free_trial"),n=I18n.t("shared.buy_doc_manager.unlock_full_access_with_a_free"),i.buy_manager.setup_buy_buttons(e),i.buy_manager.setup_missing_page_title(t,n)},"loading"!==r.readyState?o():r.addEventListener("DOMContentLoaded",o),this.buy_manager)},e.prototype.setup_buy_buttons=function(e){return Scribd.ServerOptions&&!0===Scribd.ServerOptions.payments_store_disabled?$(".missing_page_buy_button").hide():Scribd.current_doc.show_archive_paywall?$(".missing_page_buy_link .btn_inner").text(e):$(".missing_page_buy_button").hide(),this.setup_buy_buttons_callbacks()},e.prototype.setup_buy_buttons_callbacks=function(){var e;return e=Scribd.current_doc.is_pmp?this.get_premium_callback("missing_page_signup"):Scribd.current_doc.view_restricted?this.get_archive_callback("missing_page_signup"):void 0,$(document).dispatch("click",{missing_page_buy_button:function(t,n){var r;return(r=t.closest(".page_missing_explanation").length?"doc:read_full_version_link:click":t.closest(".page_blur_promo").length?"doc:free_preview_blur_button:click":void 0)&&$(document.body).track_rats(r,{doc_id:Scribd.current_doc.id}),e(n)}})},e.prototype.setup_missing_page_title=function(e,t){if(Scribd.current_doc.is_pmp||Scribd.current_doc.can_purchase||Scribd.current_doc.show_archive_paywall)return $(".missing_page_number_title").text(e)},e.prototype.get_subscription_callback=function(e,t){return function(){var n,r,o;return n={context:Scribd.current_doc.signup_context,page:"read",action:e,platform:"web",logged_in:!!Scribd.logged_in},n=encodeURIComponent(JSON.stringify(n)),r="doc="+Scribd.current_doc.id+"&metadata="+n,o=function(){return $(document.body).track({category:"payments",action:"newdoc",label:Scribd.current_doc.signup_context+":missing_page_button:click"}),window.location.href=t+"?"+r},Scribd.logged_in?Scribd.FacebookSession.attempt_facebook_upgrade(o):$.ajax({url:Scribd.archive_login_url+"?"+r,type:"post",data:Scribd.toolbar_params(Scribd.current_doc),dataType:"json"}).done(Scribd.SignIn.open),!1}},e.prototype.get_premium_callback=function(e){return this.get_subscription_callback(e,"/archive/pmp_checkout")},e.prototype.get_archive_callback=function(e){return this.get_subscription_callback(e,"/archive/plans")},e}()},1347:function(e,t,n){},1348:function(e,t,n){},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),o=n(2),i=n(46);n(152),n(185);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).enclosing_class("auto__shared_react_download_button"),n.state={downloadable:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return"download_button_container"}},{key:"handle_click",value:function(e){var t=this;"function"==typeof this.props.on_click&&this.props.on_click(e,this.props.document_id),this.props.dunning_lock_restrict_doc_download?$.get("".concat(this.props.dunning_lock_downloadable_status_url,"?document_id=").concat(this.props.document_id)).then((function(e){e&&!e.downloadable?Object(i.async_render_lock_shock_roadblock)({payment_fix_url:t.props.payment_fix_url}):t.initiate_download()})).fail((function(){Scribd.Flasher.toast("error",I18n.t("shared.react.download_button.unable_to_download_please_try_again"))})):this.initiate_download()}},{key:"initiate_download",value:function(){var e=this;Scribd.Lightbox.show_loading(),Scribd.download_actions.download(this.props.document_id,"search","results",(function(t){t.downloadable?Scribd.download_actions.download_dialog_lightbox(t,e.props.show_after_download_suggestions):(Scribd.Lightbox.close(),Scribd.Flasher.toast("error",I18n.t("shared.react.download_button.this_document_is_not_available_for")),e.setState({downloadable:!1}))}))}},{key:"render_content",value:function(){if(this.state.downloadable)return React.createElement(o.c,{type:"button","data-tooltip":Scribd.is_mobile?null:I18n.t("shared.react.download_button.download"),className:"download_button text_btn",onClick:this.handle_click},React.createElement("span",{className:"icon icon-ic_download_with_line","aria-hidden":"true"}),React.createElement("span",{className:"visually_hidden"},"".concat(I18n.t("shared.react.download_button.download")," ").concat(this.props.document_title)))}}])&&s(n.prototype,r),a&&s(n,a),t}(r.a);Scribd.addComponent("Shared.React.DownloadButton",_)},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19);n(187);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__shared_react_cells_summary"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"render_finished",value:function(){return this.props.is_finished?this.render_marked_as_finished():this.render_reading_time_estimate()}},{key:"render_list_item_content",value:function(){return[this.render_image(),React.createElement("div",{className:"metadata",key:"metadata_".concat(this.props.item.id)},React.createElement("div",{className:"title_author"},this.render_availability_notice(),this.render_snapshot_author(),this.render_title()),this.render_reading_time_estimate())]}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);Scribd.addComponent("Shared.React.Cells.Summary",l)},137:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return c}));var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_react_cells_podcast_episode"),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"render_list_item_content",value:function(){return[this.render_image(),React.createElement("div",{className:"metadata",key:"metadata_".concat(this.props.item.id)},React.createElement("div",{className:"title_author"},this.render_availability_notice(),this.render_title(),this.render_author()),this.render_reading_time_estimate())]}}])&&o(n.prototype,r),c&&o(n,c),t}(n(19).a);Scribd.addComponent("Shared.React.Cells.PodcastEpisode",c)},139:function(e,t,n){},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=n(31),i=n(10),a=n(2);n(92);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,u(t).call(this,e))).enclosing_class("auto__shared_navigation_language_modal"),n.state={selected_language:n.props.current_language},n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return"language_modal"}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:modal:language:click",{locale:e.lang,current_locale:t.props.current_language.lang}),t.setState({selected_language:e})}}},{key:"handle_save_click",value:function(){this.track_rats("language_picker:modal:save",{locale:this.state.selected_language.lang,current_locale:this.props.current_language.lang}),window.location=this.state.selected_language.href}},{key:"handle_cancel_click",value:function(){this.track_rats("language_picker:modal:cancel"),Scribd.Lightbox.close()}},{key:"handle_close",value:function(){this.track_rats("language_picker:modal:close"),"function"==typeof this.props.handle_lightbox_close&&this.props.handle_lightbox_close()}},{key:"get_description",value:function(){return this.props.recommender_test?I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_and_tailor"):I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_to_match")}},{key:"render_radio_buttons",value:function(){var e=this;return this.props.languages.map((function(t,n){return React.createElement("div",{lang:t.lcid,key:n},React.createElement(o.a,{key:t.lcid,class:"language_radio",name:"radios",value:n.toString(),id:"modal-radio".concat(n),label_text:t.name,selected:e.state.selected_language.lang===t.lang,onChange:e.handle_select(t)}))}))}},{key:"render_buttons",value:function(){return React.createElement("div",{className:"buttons_container flex_row"},React.createElement(a.c,{onClick:this.handle_cancel_click,className:"text_btn cancel_button"},I18n.t("shared.navigation.language.modal.cancel")),React.createElement(a.c,{onClick:this.handle_save_click,className:"save_button"},I18n.t("shared.navigation.language.modal.save")))}},{key:"render_btn",value:function(){var e=this.props,t=e.current_language,n=e.extra_classes;return React.createElement("a",{className:classNames("text_btn language_btn flex_row",n),onClick:this.toggle_menu},React.createElement("span",{className:"icon icon-ic_language"}),React.createElement("span",{className:"lcid icon_button_text"},t.lcid),this.render_arrow())}},{key:"render_content",value:function(){return React.createElement(i.a,{title:I18n.t("shared.navigation.language.modal.language_options"),handle_click_close:this.handle_close},React.createElement("div",{className:"description"},this.get_description()),React.createElement("fieldset",null,React.createElement("legend",{className:"second_header"},I18n.t("shared.navigation.language.modal.select_your_preferred_language")),this.render_radio_buttons()),this.render_buttons())}}])&&c(n.prototype,r),s&&c(n,s),t}(r.a)},141:function(e,t,n){},144:function(e,t){Scribd.Shared||(Scribd.Shared={}),Scribd.Shared.CollectionAPI=function(){function e(){}return e.create_collection=function(e,t,n){return null==n&&(n=null),$.ajax({url:"/user-document-collections/",type:"post",dataType:"json",data:{name:e,privacy_type:t,document_id:n}})},e.update_collection=function(e,t,n,r){return $.ajax({url:"/user-document-collections/"+e,type:"post",dataType:"json",data:{name:t,privacy_type:n,description:r}})},e.delete_collection=function(e){return $.ajax({url:"/user-document-collections/"+e,type:"delete",dataType:"json"})},e.add_document=function(e,t){return $.ajax({url:"/user-document-collections/"+e+"/add-document",type:"post",dataType:"json",data:{document_id:t}})},e.remove_document=function(e,t){return $.ajax({url:"/user-document-collections/"+e+"/remove-document",type:"delete",dataType:"json",data:{document_id:t}})},e.collections_containing_document=function(e){return $.ajax({url:"/user-document-collections/collections-containing-document/"+e,type:"get",dataType:"json"})},e.mark_privacy=function(e,t){return $.ajax({url:"/collections/set-collection-privacy",type:"post",dataType:"json",data:{id:e,privacy_type:t}})},e}()},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t){Scribd.Shared||(Scribd.Shared={}),Scribd.Shared.LibraryAPI=function(){function e(){}return e.trigger_updated_in_library=function(e,t){return $(document).trigger("scribd:updated_in_library",[e,t])},e.add=function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e},url:"/saved/add",done:function(){return Scribd.Shared.LibraryAPI.trigger_updated_in_library(!0,e)}})},e.remove=function(e){return $.ajax({type:"DELETE",dataType:"json",data:{id:e},url:"/saved/remove",done:function(){return Scribd.Shared.LibraryAPI.trigger_updated_in_library(!1,e)}})},e.mark_as_finished=function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"finished_reading"},url:"/saved/finish"})},e.unmark_as_finished=function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"saved"},url:"/saved/finish"})},e}()},15:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));n(95);var r=n(0),o=n(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,u(t).call(this,e))).enclosing_class("auto__shared_react_button_menu"),n.state={menu_open:n.props.is_open||!1,position:""},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,i=[{key:"close_all",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,o=void 0;try{for(var i,a=t.instances[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s!==e&&s.hide_menu()}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}],(r=[{key:"component_classes",value:function(){return"button_menu_container"}},{key:"componentDidMount",value:function(){t.instances.push(this),$(document.body).on("click",this.handle_body_click)}},{key:"componentWillUnmount",value:function(){var e=t.instances;$(document.body).off("click",this.handle_body_click),e.splice(e.indexOf(this),1)}},{key:"componentDidUpdate",value:function(e,t){var n=this.get_position();t.position!==n&&this.setState({position:n}),this.props.is_open!==e.is_open&&this.props.is_open!==this.state.menu_open&&this.setState({menu_open:this.props.is_open}),Scribd.using_keyboard&&(this.state.menu_open&&!t.menu_open?$(this.get_buttons()[0]).focus():!this.state.menu_open&&t.menu_open&&($(this.container).find("[aria-haspopup]").focus(),"function"==typeof this.props.hide_tooltip&&this.props.hide_tooltip()))}},{key:"get_buttons",value:function(){return $(this.container).focusable_children().not(".menu_handle")}},{key:"handle_body_click",value:function(e){if(!$(e.target).closest(".button_menu_container").length)return t.close_all()}},{key:"handle_key_down",value:function(e){if(this.state.menu_open){var t=this.get_buttons(),n=t[0],r=t[t.length-1],o=t.index(document.activeElement);switch(e.keyCode){case 27:return this.hide_menu();case 40:e.preventDefault(),r===document.activeElement?n.focus():t[o+1].focus();break;case 38:e.preventDefault(),n===document.activeElement?r.focus():t[o-1].focus();break;case 9:e.shiftKey?(e.preventDefault(),n===document.activeElement?this.hide_menu():t[o-1].focus()):r===document.activeElement&&this.hide_menu()}}}},{key:"handle_close_btn",value:function(e){e.preventDefault(),this.hide_menu()}},{key:"handle_container_click",value:function(){this.props.autoclose&&this.toggle_visible()}},{key:"get_position",value:function(){if(this.state.menu_open){if(null!=this.props.force_position)return this.props.force_position;var e=this.container.querySelectorAll(".button_menu")[0],t=e.getBoundingClientRect(),n=window.innerWeight-t.right>e.offsetWidth?"right":"left",r=window.innerHeight-t.bottom>e.offsetHeight?"bottom":"top";return"".concat(n," ").concat(r)}}},{key:"toggle_visible",value:function(e){this.state.menu_open?this.hide_menu(e):this.show_menu(e)}},{key:"show_menu",value:function(e){if(t.close_all(this),!this.state.menu_open)return"function"==typeof this.props.on_show&&this.props.on_show(),this.setState({menu_open:!0},(function(){"function"==typeof e&&e()}))}},{key:"hide_menu",value:function(e){if(this.state.menu_open)return"function"==typeof this.props.on_hide&&this.props.on_hide(),this.setState({menu_open:!1,current_focus:0},(function(){"function"==typeof e&&e()}))}},{key:"get_aria_and_data_props",value:function(e){return{aria_props:s({},e.aria_props,{expanded:this.state.menu_open,haspopup:!0}),data_props:{button:!0}}}},{key:"render_button",value:function(){var e=this,t=Object.assign({},this.props.button),n=t.props.onClick;if(this.props.skip_aria_and_data_props)t.props=s({},t.props);else{var r=this.get_aria_and_data_props(t.props),o=r.aria_props,i=r.data_props;t.props=s({},t.props,{aria_props:o,data_props:i})}return t.props.className=classNames(t.props.className,"menu_handle"),t.props.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.toggle_visible((function(){Scribd.using_keyboard&&e.container.querySelectorAll(".button_menu")[0].focus()})),n&&n(t,e.state.menu_open)},t}},{key:"render_arrow",value:function(){if(this.props.has_arrow)return React.createElement("div",{className:"button_menu_arrow","aria-hidden":"true"})}},{key:"render_menu",value:function(){if(this.state.menu_open){var e=this.props.no_fullscreen;return React.createElement("div",{onKeyDown:this.handle_key_down,className:classNames("button_menu",this.state.position,this.props.extra_classes,{no_fullscreen:e})},this.render_arrow(),React.createElement(o.c,{href:"#",className:"close_btn text_btn icon_btn",onClick:this.handle_close_btn},React.createElement("span",{className:"icon-ic_close","aria-hidden":"true"},React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.button_menu.close_menu")))),this.props.menu)}}},{key:"render_content",value:function(){return React.createElement("div",{onClick:this.handle_container_click},this.render_button(),this.render_menu())}}])&&c(n.prototype,r),i&&c(n,i),t}(r.a);d(p,"defaultProps",{autoclose:!0,no_fullscreen:!1,has_arrow:!0,skip_aria_and_data_props:!1}),d(p,"instances",[]),Scribd.addComponent("Shared.React.ButtonMenu",p)},151:function(e,t){!function(e){"use strict";var t,n,r,o,i="dotdotdot";e.dotdotdot&&e.dotdotdot.version>"3.2.2"||(e.dotdotdot=function(e,t){this.$dot=e,this.api=["getInstance","truncate","restore","destroy","watch","unwatch"],this.opts=t;var n=this.$dot.data(i);return n&&n.destroy(),this.init(),this.truncate(),this.opts.watch&&this.watch(),this},e.dotdotdot.version="3.2.2",e.dotdotdot.uniqueId=0,e.dotdotdot.defaults={ellipsis:" ",callback:function(e){},truncate:"word",tolerance:0,keep:null,watch:"window",height:null},e.dotdotdot.prototype={init:function(){this.watchTimeout=null,this.watchInterval=null,this.uniqueId=e.dotdotdot.uniqueId++,this.originalStyle=this.$dot.attr("style")||"",this.originalContent=this._getOriginalContent(),"break-word"!==this.$dot.css("word-wrap")&&this.$dot.css("word-wrap","break-word"),"nowrap"===this.$dot.css("white-space")&&this.$dot.css("white-space","normal"),null===this.opts.height&&(this.opts.height=this._getMaxHeight()),"string"==typeof this.opts.ellipsis&&(this.opts.ellipsis=document.createTextNode(this.opts.ellipsis))},getInstance:function(){return this},truncate:function(){this.$inner=this.$dot.wrapInner("<div />").children().css({display:"block",height:"auto",width:"auto",border:"none",padding:0,margin:0}),this.$inner.empty().append(this.originalContent.clone(!0)),this.maxHeight=this._getMaxHeight();var e=!1;return this._fits()||(e=!0,this._truncateToNode(this.$inner[0])),this.$dot[e?"addClass":"removeClass"](t.truncated),this.$inner.replaceWith(this.$inner.contents()),this.$inner=null,this.opts.callback.call(this.$dot[0],e),e},restore:function(){this.unwatch(),this.$dot.empty().append(this.originalContent).attr("style",this.originalStyle).removeClass(t.truncated)},destroy:function(){this.restore(),this.$dot.data(i,null)},watch:function(){var e=this;this.unwatch();var t={};"window"==this.opts.watch?o.on(r.resize+e.uniqueId,(function(n){e.watchTimeout&&clearTimeout(e.watchTimeout),e.watchTimeout=setTimeout((function(){t=e._watchSizes(t,o,"width","height")}),100)})):this.watchInterval=setInterval((function(){t=e._watchSizes(t,e.$dot,"innerWidth","innerHeight")}),500)},unwatch:function(){o.off(r.resize+this.uniqueId),this.watchInterval&&clearInterval(this.watchInterval),this.watchTimeout&&clearTimeout(this.watchTimeout)},_api:function(){var t=this,n={};return e.each(this.api,(function(e){var r=this;n[r]=function(){var e=t[r].apply(t,arguments);return void 0===e?n:e}})),n},_truncateToNode:function(n){var r=[],o=[];if(e(n).contents().each((function(){var n=e(this);if(!n.hasClass(t.keep)){var i=document.createComment("");n.replaceWith(i),o.push(this),r.push(i)}})),o.length){for(var i=0;i<o.length;i++){e(r[i]).replaceWith(o[i]),e(o[i]).append(this.opts.ellipsis);var a=this._fits();if(e(this.opts.ellipsis,o[i]).remove(),!a){if("node"==this.opts.truncate&&i>1)return void e(o[i-2]).remove();break}}for(var s=i;s<r.length;s++)e(r[s]).remove();var c=o[Math.max(0,Math.min(i,o.length-1))];if(1==c.nodeType){var l=e("<"+c.nodeName+" />");l.append(this.opts.ellipsis),e(c).replaceWith(l),this._fits()?l.replaceWith(c):(l.remove(),c=o[Math.max(0,i-1)])}1==c.nodeType?this._truncateToNode(c):this._truncateToWord(c)}},_truncateToWord:function(e){for(var t=e,n=this.__getTextContent(t),r=-1!==n.indexOf(" ")?" ":"",o=n.split(r),i="",a=o.length;a>=0;a--)if(i=o.slice(0,a).join(r),this.__setTextContent(t,this._addEllipsis(i)),this._fits()){"letter"==this.opts.truncate&&(this.__setTextContent(t,o.slice(0,a+1).join(r)),this._truncateToLetter(t));break}},_truncateToLetter:function(e){for(var t=this.__getTextContent(e).split(""),n="",r=t.length;r>=0&&(!(n=t.slice(0,r).join("")).length||(this.__setTextContent(e,this._addEllipsis(n)),!this._fits()));r--);},_fits:function(){return this.$inner.innerHeight()<=this.maxHeight+this.opts.tolerance},_addEllipsis:function(t){for(var n=[" ","",",",";",".","!","?"];e.inArray(t.slice(-1),n)>-1;)t=t.slice(0,-1);return t+=this.__getTextContent(this.opts.ellipsis)},_getOriginalContent:function(){var n=this;return this.$dot.find("script, style").addClass(t.keep),this.opts.keep&&this.$dot.find(this.opts.keep).addClass(t.keep),this.$dot.find("*").not("."+t.keep).add(this.$dot).contents().each((function(){var t=this,r=e(this);if(3==t.nodeType){if(""==e.trim(n.__getTextContent(t))){if(r.parent().is("table, thead, tbody, tfoot, tr, dl, ul, ol, video"))return void r.remove();if(r.prev().is("div, p, table, td, td, dt, dd, li"))return void r.remove();if(r.next().is("div, p, table, td, td, dt, dd, li"))return void r.remove();if(!r.prev().length)return void r.remove();if(!r.next().length)return void r.remove()}}else 8==t.nodeType&&r.remove()})),this.$dot.contents()},_getMaxHeight:function(){if("number"==typeof this.opts.height)return this.opts.height;for(var e=["maxHeight","height"],t=0,n=0;n<e.length;n++)if("px"==(t=window.getComputedStyle(this.$dot[0])[e[n]]).slice(-2)){t=parseFloat(t);break}e=[];switch(this.$dot.css("boxSizing")){case"border-box":e.push("borderTopWidth"),e.push("borderBottomWidth");case"padding-box":e.push("paddingTop"),e.push("paddingBottom")}for(n=0;n<e.length;n++){var r=window.getComputedStyle(this.$dot[0])[e[n]];"px"==r.slice(-2)&&(t-=parseFloat(r))}return Math.max(t,0)},_watchSizes:function(e,t,n,r){if(this.$dot.is(":visible")){var o={width:t[n](),height:t[r]()};return e.width==o.width&&e.height==o.height||this.truncate(),o}return e},__getTextContent:function(e){for(var t=["nodeValue","textContent","innerText"],n=0;n<t.length;n++)if("string"==typeof e[t[n]])return e[t[n]];return""},__setTextContent:function(e,t){for(var n=["nodeValue","textContent","innerText"],r=0;r<n.length;r++)e[n[r]]=t}},e.fn.dotdotdot=function(a){return function(){o=e(window);t={};n={};r={};e.each([t,n,r],(function(e,t){t.add=function(e){for(var n=0,r=(e=e.split(" ")).length;n<r;n++)t[e[n]]=t.ddd(e[n])}}));t.ddd=function(e){return"ddd-"+e};t.add("truncated keep");n.ddd=function(e){return"ddd-"+e};r.ddd=function(e){return e+".ddd"};r.add("resize");(function(){})}(),a=e.extend(!0,{},e.dotdotdot.defaults,a),this.each((function(){e(this).data(i,new e.dotdotdot(e(this),a)._api())}))})}(jQuery)},152:function(e,t,n){var r,o;o=n(167).default,r=n(168).default,n(153),Scribd.toolbar_params=function(e){var t,n;return(null!=(n=Scribd.current_doc)?n.id:void 0)===e.id&&(e=Scribd.current_doc),t={id:e.id},e.secret_password&&(t.secret_password=e.secret_password),t},Scribd.download_actions={register_download_attempt:function(e,t,n,r){return $.ajax(Scribd.download_document.register_download_attempt,{type:"post",data:{doc_id:r.id,next_screen:n,source:e}}),$(document.body).track({category:"download",action:"click",label:e}),"search"===e?$rat("analytics.search.document.download",{title:r.title}):$rat("analytics.sidebar.document.download",{title:r.title})},download_attempt:function(e,t,n,r){var o,i,a,s,c,l,u,_,d;return o="toolbar_download"===t,i=!(Scribd.logged_in||null!=Scribd._anonymous_current_user),s=encodeURIComponent(JSON.stringify({context:r.signup_context,page:t,action:o,platform:"web",logged_in:!i})),r.show_archive_paywall?(c="doc="+r.id+"&metadata="+s,void(i?(this.register_download_attempt(t,o,"login_lightbox",r),$.ajax({url:Scribd.archive_login_url+"?"+c,type:"post",data:Scribd.toolbar_params(r),dataType:"json"}).done((function(e){return Scribd.SignIn.open($.extend(e,{track_location:n||e.track_location}))}))):(d=this,l=function(){return d.register_download_attempt(t,o,"paywall",r),window.location="/archive/plans?"+c},Scribd.FacebookSession.attempt_facebook_upgrade(l)))):i?(this.register_download_attempt(t,o,"login_lightbox",r),a=r.is_archived?I18n.t("shared.download_document.sign_up_today_for_unlimited_downloads"):I18n.t("shared.download_document.sign_up_to_download_doc_title",{doc_title:r.title}),Scribd.SignIn.open({initial_view:"join",join_type:"archive",join_header_text:a,track_location:n,next_url:r.url+"#download",login_params:{source:"download",context:Scribd.current_ca,doc_signup_context:(null!=(u=Scribd.current_doc)?u.signup_context:void 0)||r.signup_context,document_id:(null!=(_=Scribd.current_doc)?_.id:void 0)||r.id}})):(this.register_download_attempt(t,o,"download_lightbox",r),e(r))},download_dialog_lightbox:function(e,t){return null==t&&(t=!0),$.ajax({type:"POST",url:Scribd.download_document.download_dialog_path,data:$.extend({},Scribd.toolbar_params(e),{show_after_download_suggestions:t}),success:function(e){return Scribd.download_actions.render_lightbox(e.props,e.show_receipt_lightbox)}})},download:function(e,t,n,r){var o,i;return i=r||this.download_dialog_lightbox,(null!=(o=Scribd.current_doc)?o.id:void 0)===e?Scribd.download_actions.download_attempt(i,t,n,Scribd.current_doc):$.ajax(Scribd.download_document.request_document_for_download_path,{type:"post",data:{id:e},success:function(e){return Scribd.download_actions.download_attempt(i,t,n,e)}})},render_lightbox:function(e,t){var n;return n=t?React.createElement(o,e):React.createElement(r,e),Scribd.Lightbox.open_react("document_download_lb",n)}}},153:function(e,t){Scribd.FacebookSession={getUserId:function(){var e;if(e=FB.getAuthResponse())return e.userID},correct:function(){return!(!window.facebookUser||void 0===window.facebookUserId)&&this.getUserId()===facebookUserId},verifyExec:function(e,t){var n;if(window.facebookUser)return(n=this).correct()?e():t?FB.getLoginStatus((function(t){return t.authResponse?FB.logout((function(t){return FB.login((function(t){return n.withValid(e)}))})):FB.login((function(t){return n.withValid(e)}))})):void 0},ensureValid:function(e){return this.verifyExec(e,!0)},withValid:function(e){return this.verifyExec(e,!1)},attempt_facebook_upgrade:function(e,t){return t||(t=e),Scribd.with_named_current_user((function(){var n;return(n=Scribd.named_current_user())&&n.is_facebook_user&&!n.has_email?Scribd.facebook.login((function(n){return n&&n.authResponse?($("#loading_lb").length&&Scribd.Lightbox&&Scribd.Lightbox.open("loading_lb"),$.ajax({url:"/facebook_session",type:"post",dataType:"json",success:e})):t()})):e()}))}}},157:function(e,t,n){"use strict";n.r(t),t.default=function(e){var t,n,r={};for(var o in e){var i=e[o],a={id:o,name:i.name,weight:i.weight};r[a.name]=a,!t&&a.weight>0&&(t=a)}return(n=r.control)&&n.weight>0?n:t||n}},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=/^[^\!\#\$\%\&\*\+\<\=\>\?\@\\\^\_\`\{\}\|\~]+$/,o=/^[a-zA-Z0-9][a-zA-Z0-9._%+-]{0,63}@(?:(?=[a-zA-Z0-9-]{1,63}\.)[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*\.){1,8}[a-zA-Z]{2,63}$/},167:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r);t.default=o()({loader:function(){return n.e(52).then(n.bind(null,261))},loading:function(){return null}})},168:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r);t.default=o()({loader:function(){return n.e(55).then(n.bind(null,262))},loading:function(){return null}})},17:function(e,t,n){"use strict";t.a={breakpoint_320:320,breakpoint_450:450,breakpoint_550:550,breakpoint_700:700,breakpoint_950:950,breakpoint_1024:1024,breakpoint_1141:1141,breakpoint_1190:1190,breakpoint_1376:1376}},172:function(e,t,n){},173:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t){
/*!
* Clamp.js 0.5.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*/
window.$clamp=function(e,t){function n(e,t){return c.getComputedStyle||(c.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(e,t,n){return n.toUpperCase()}))),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),c.getComputedStyle(e,null).getPropertyValue(t)}function r(t){t=t||e.clientHeight;var n=o(e);return Math.max(Math.floor(t/n),0)}function o(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"))),parseInt(t)}function i(t){return t.lastChild.children&&0<t.lastChild.children.length?i(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=l.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),i(e))}function a(e,t){e.nodeValue=t+l.truncationChar}t=t||{};var s,c=window,l={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","",""," "],animate:t.animate||!1,truncationChar:t.truncationChar||"",truncationHTML:t.truncationHTML},u=e.style,_=e.innerHTML,d=void 0!==e.style.webkitLineClamp,p=l.clamp,h=p.indexOf&&(-1<p.indexOf("px")||-1<p.indexOf("em"));l.truncationHTML&&((s=document.createElement("span")).innerHTML=l.truncationHTML);var f,m,b,g,y=l.splitOnChars.slice(0),v=y[0];return"auto"==p?p=r():h&&(p=r(parseInt(p))),d&&l.useNativeClamp?(u.overflow="hidden",u.textOverflow="ellipsis",u.webkitBoxOrient="vertical",u.display="-webkit-box",u.webkitLineClamp=p,h&&(u.height=l.clamp+"px")):(g=p,(u=o(e)*g)<=e.clientHeight&&(b=function t(n,r){if(r){var o=n.nodeValue.replace(l.truncationChar,"");if(f||(v=0<y.length?y.shift():"",f=o.split(v)),1<f.length?(m=f.pop(),a(n,f.join(v))):f=null,s&&(n.nodeValue=n.nodeValue.replace(l.truncationChar,""),e.innerHTML=n.nodeValue+" "+s.innerHTML+l.truncationChar),f){if(e.clientHeight<=r){if(!(0<=y.length&&""!=v))return e.innerHTML;a(n,f.join(v)+v+m),f=null}}else""==v&&(a(n,""),n=i(e),y=l.splitOnChars.slice(0),v=y[0],m=f=null);if(!l.animate)return t(n,r);setTimeout((function(){t(n,r)}),!0===l.animate?10:l.animate)}}(i(e),u))),{original:_,clamped:b}}},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},1877:function(e,t,n){"use strict";n.r(t);n(42),n(112),n(72),n(202),n(927);var r=n(0);n(1347),n(459);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=a(t).call(this,e),n=!i||"object"!==o(i)&&"function"!=typeof i?s(r):i,l(s(n),"get_share_btn_ref",(function(e){n.share_btn=e})),l(s(n),"get_share_popup_ref",(function(e){n.share_popup=e})),n.enclosing_class("auto__embeds_new_toolbar"),n.state={recommendations_dismissed:!1,share_open:!1},n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"widget_css_classes",value:function(e){return classNames(e,"view_mode_".concat(this.props.view_mode),{can_shrink_logo:this.props.current_user||this.props.buy_url})}},{key:"componentDidMount",value:function(){var e=this;new Scribd.SharingButtons(this.container,this.props.share_opts);var t={"scribd:share:email":"embed:share_email:click","scribd:share:facebook":"embed:share_facebook:click","scribd:share:twitter":"embed:share_twitter:click","scribd:share:pinterest":"embed:share_pinterest:click"},n=function(n){var r=t[n];$(e.container).on(n,(function(){return e.track_rats(r)}))};for(var r in t)n(r);return $(document.body).on("click",(function(t){!e.props.hide_controls&&e.state.share_open&&($(t.target).closest([e.share_popup,e.share_btn]).length||e.setState({share_open:!1}))}))}},{key:"number_format",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"handle_toggle_recs_click",value:function(){this.props.toggle_recommendations()}},{key:"handle_dismiss_recs_click",value:function(){this.track_rats("embed:rec_bar_dismiss:click"),this.setState({recommendations_dismissed:!0})}},{key:"handle_embed_logo_click",value:function(){this.track_rats("embed:logo:click")}},{key:"handle_left_paddle_click",value:function(){this.track_rats("embed:previous_page:click",{location:"paddle"}),this.props.previous_page()}},{key:"handle_right_paddle_click",value:function(){this.track_rats("embed:next_page:click",{location:"paddle"}),this.props.next_page()}},{key:"handle_share_close_click",value:function(){this.setState({share_open:!1})}},{key:"handle_blur",value:function(e){if(void 0!==this.state.changing_to_page){if(e.target.value.match(/\d/)){var t=parseInt(e.target.value,10);t!==this.props.current_page&&this.props.goto_page(t)}this.setState({changing_to_page:void 0})}}},{key:"handle_focus",value:function(){this.track_rats("embed:page_num_box:click")}},{key:"handle_key_down",value:function(e){if(this.state.changing_to_page)switch(e.keyCode){case Scribd.KeyMappings.enter:return this.props.goto_page(parseInt(e.target.value,10)),this.setState({changing_to_page:void 0});case Scribd.KeyMappings.esc:return this.setState({changing_to_page:void 0});default:return}}},{key:"handle_change",value:function(e){this.setState({changing_to_page:e.target.value})}},{key:"handle_zoom_in_click",value:function(){this.props.current_zoom>=Scribd.EmbedsShow.max_zoom||(this.track_rats("embed:zoom_in:click"),this.props.zoom_in())}},{key:"handle_zoom_out_click",value:function(){this.props.current_zoom<=Scribd.EmbedsShow.min_zoom||(this.track_rats("embed:zoom_out:click"),this.props.zoom_out())}},{key:"handle_left_arrow_click",value:function(){this.props.on_first_page||(this.track_rats("embed:previous_page:click",{location:"toolbar"}),this.props.previous_page())}},{key:"handle_right_arrow_click",value:function(){this.props.on_last_page||(this.track_rats("embed:next_page:click",{location:"toolbar"}),this.props.next_page())}},{key:"handle_download_click",value:function(){this.track_rats("embed:download:click")}},{key:"handle_embeds_share_click",value:function(){this.track_rats("embed:share:click"),this.setState({share_open:!this.state.share_open})}},{key:"handle_fullscreen_click",value:function(){this.track_rats("embed:fullscreen:click")}},{key:"render_download_link",value:function(){if(this.props.downloadable&&!this.props.is_mobile)return React.createElement("a",{"data-tooltip":I18n.t("embeds.new.toolbar.download"),className:"toolbar_btn download",target:"_blank",href:"".concat(this.props.document.url,"#download&from_embed"),onClick:this.handle_download_click},this.render_icon("download_with_line"))}},{key:"render_share_wrapper",value:function(){var e;return this.state.share_open&&!this.props.hide_controls&&(e=this.render_share_popup()),React.createElement("div",{className:"share_wrapper"},React.createElement("div",{"data-tooltip":I18n.t("embeds.new.toolbar.share"),ref:this.get_share_btn_ref,className:classNames("toolbar_btn","share_btn","icon-ic_share_web",{active:this.state.share_open}),onClick:this.handle_embeds_share_click}),e)}},{key:"render_fullscreen_btn",value:function(){return React.createElement("a",{"data-tooltip":I18n.t("embeds.new.toolbar.fullscreen"),className:"toolbar_btn fullscreen",target:"_blank",href:"".concat(this.props.document.url,"#fullscreen&from_embed"),onClick:this.handle_fullscreen_click},this.render_icon("fullscreen_window"))}},{key:"render_right_tools",value:function(){var e;return"slideshow"!==this.props.view_mode||this.props.hide_controls||(e=this.render_zoomers()),React.createElement("div",{className:"right_tools"},e,this.render_download_link(),this.render_share_wrapper(),this.render_fullscreen_btn())}},{key:"render_center_tools",value:function(){if(this.props.hide_controls)return React.createElement("div",{className:"center_tools"},this.render_page_display());var e="scroll"===this.props.view_mode;return React.createElement("div",{className:"center_tools"},!e&&this.render_left_arrow(),this.render_pager(),!e&&this.render_right_arrow(),e&&this.render_zoomers())}},{key:"render_page_display",value:function(){var e="scroll"===this.props.view_mode;return React.createElement("div",{className:"flex_row narrow_center"},!e&&this.render_left_arrow(),React.createElement("div",{className:"page_display"},I18n.t("embeds.new.toolbar.props_current_page_of_numberformat_props_document_total_pages",{props_current_page:this.props.current_page,numberformat_props_document_total_pages:this.number_format(this.props.document.total_pages)})),!e&&this.render_right_arrow())}},{key:"render_left_arrow",value:function(){return React.createElement("div",{"data-tooltip":I18n.t("embeds.new.toolbar.previous_page"),className:classNames("toolbar_btn icon-ic_slide_back left_arrow",{disabled:this.props.on_first_page}),onClick:this.handle_left_arrow_click})}},{key:"render_right_arrow",value:function(){return React.createElement("div",{"data-tooltip":I18n.t("embeds.new.toolbar.next_page"),className:classNames("toolbar_btn icon-ic_slide_fwd",{disabled:this.props.on_last_page}),onClick:this.handle_right_arrow_click})}},{key:"render_zoomers",value:function(){var e=this.props.current_zoom<=Scribd.EmbedsShow.min_zoom,t=this.props.current_zoom>=Scribd.EmbedsShow.max_zoom;return[React.createElement("div",{"data-tooltip":I18n.t("embeds.new.toolbar.zoom_in"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_in_default zoom_in",{disabled:t}),onClick:this.handle_zoom_in_click,key:"zoom_in"}),React.createElement("div",{"data-tooltip":I18n.t("embeds.new.toolbar.zoom_out"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_out_default zoom_out",{disabled:e}),onClick:this.handle_zoom_out_click,key:"zoom_out"})]}},{key:"render_pager",value:function(){var e=this.props.current_page;return void 0!==this.state.changing_to_page&&(e=this.state.changing_to_page),React.createElement("div",{className:"toolbar_pager"},React.createElement("input",{type:"text",className:"page_input",value:e,onFocus:this.handle_focus,onBlur:this.handle_blur,onKeyDown:this.handle_key_down,onChange:this.handle_change}),React.createElement("span",{className:"total_pages"},I18n.t("embeds.new.toolbar.of_numberformat_props_document_total_pages",{numberformat_props_document_total_pages:this.number_format(this.props.document.total_pages)})))}},{key:"render_share_buttons",value:function(){return React.createElement("div",{className:"share_buttons"},React.createElement("span",{className:"icon icon-ic_facebook share_facebook_btn"}),React.createElement("span",{className:"icon icon-ic_pinterest share_pinterest_btn"}),React.createElement("span",{className:"icon icon-ic_twitter share_twitter_btn"}),React.createElement("a",{target:"_blank",href:this.props.share_opts.mailto_url},this.render_icon("email")))}},{key:"render_share_overlay",value:function(){if(this.state.share_open&&this.props.hide_controls)return React.createElement("div",{className:"share_box"},React.createElement("div",{className:"icon icon-ic_close close_btn",onClick:this.handle_share_close_click}),React.createElement("div",{className:"centered_content"},React.createElement("div",{className:"share_label"},I18n.t("embeds.new.toolbar.share")),this.render_share_buttons()))}},{key:"render_share_popup",value:function(){return React.createElement("div",{ref:this.get_share_popup_ref,className:"share_popup"},this.render_share_buttons())}},{key:"render_left_paddle",value:function(){if(!this.props.hide_controls&&"slideshow"===this.props.view_mode&&!this.props.on_first_page)return React.createElement("div",{className:"pagination_paddle paddle_left",onClick:this.handle_left_paddle_click},React.createElement("span",{className:"icon icon-ic_arrow_small_left_alt"}))}},{key:"render_right_paddle",value:function(){if(!this.props.hide_controls&&"slideshow"===this.props.view_mode&&!this.props.on_last_page)return React.createElement("div",{className:"pagination_paddle paddle_right",onClick:this.handle_right_paddle_click},React.createElement("span",{className:"icon icon-ic_right_caret_alt"}))}},{key:"render_recommendations_bar",value:function(){if(this.props.show_recommendations&&!this.state.recommendations_dismissed)return React.createElement("div",{className:"recommendations_bar"},React.createElement("a",{href:"javascript:void(0)",onClick:this.handle_toggle_recs_click},I18n.t("embeds.new.toolbar.show_me_more_about_this_topic")+" ",React.createElement("span",{className:"icon icon-ic_down_arrow"})),React.createElement("span",{className:"icon icon-ic_close close_btn",onClick:this.handle_dismiss_recs_click}))}},{key:"render_toolbar_items",value:function(){return React.createElement("div",{className:"toolbar_items"},React.createElement("a",{"data-tooltip":I18n.t("embeds.new.toolbar.view_on_scribd_com"),href:"".concat(this.props.document.url,"#from_embed"),target:"_blank",onClick:this.handle_embed_logo_click},React.createElement("span",{className:"toolbar_scribd_logo"})),this.render_right_tools(),this.render_center_tools())}},{key:"render_content",value:function(){return React.createElement("div",null,this.render_share_overlay(),this.render_left_paddle(),this.render_right_paddle(),this.render_recommendations_bar(),this.render_toolbar_items())}}])&&i(n.prototype,r),u&&i(n,u),t}(r.a);Scribd.addComponent("Embeds.New.Toolbar",u);n(1348)},188:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(0),o=n(2);n(200);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,u(t).call(this,e))).enclosing_class("auto__shared_promos_app_download_promo"),n.state={dismissed:!1,input_value:"",loading:!1,error:"",content_height:""},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"error",value:function(e){return null==this.errors&&(this.errors={generic:I18n.t("shared.app_download_promo.module.an_error_occurred_please_try_again"),input:I18n.t("shared.app_download_promo.module.please_enter_a_valid_phone_number"),email:I18n.t("shared.app_download_promo.module.please_enter_a_valid_email"),phone:I18n.t("shared.app_download_promo.module.please_enter_a_valid_phone_number_"),twilio:I18n.t("shared.app_download_promo.module.an_error_occurred_please_try_an")}),this.props.twilio_enabled?this.errors[e]:["input","email","phone"].includes(e)?this.errors.email:"twilio"===e?this.errors.generic:void 0}},{key:"component_classes",value:function(){return classNames(this.props.extra_classes,{dismissed:this.state.dismissed})}},{key:"componentDidMount",value:function(){if(!this.props.lightbox&&($(this.container).one("inview",this.track_view),this.content_inner)){var e=this.container.offsetHeight/2-this.content_inner.offsetHeight/2;this.setState({content_height:"".concat(e,"px")})}}},{key:"handle_close_promo",value:function(){return $(this.container).trigger("close_promo_wrapper"),this.setState({dismissed:!0}),this.props.promo_id&&$.post(this.props.close_promo_url,{id:this.props.promo_id}),this.track("click",{item:"close banner"})}},{key:"handle_key_down",value:function(e){if(this.typing_email_address()&&("Tab"===e.key&&e.preventDefault(),["Tab","Enter","ArrowRight"].includes(e.key)))return this.setState({input_value:this.props.email_address})}},{key:"handle_key_up",value:function(e){"Enter"===e.key&&this.submit()}},{key:"handle_change",value:function(e){this.setState({input_value:e.target.value})}},{key:"handle_response",value:function(e,t){var n="server_error";"phone"===t.type?n="text_sent":"email"===t.type&&(n="email_sent"),t.success?this.flash(e,"success"):this.setState({error:e}),this.track(n,{success:t.success,input_text:this.state.input_value},"response")}},{key:"track_app_store",value:function(){this.track("click",{item:"app store"})}},{key:"track_play_store",value:function(){this.track("click",{item:"google play store"})}},{key:"track_view",value:function(e,t){t&&(this.track("view"),$(this.container).off("inview"))}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.doc_id?{doc_id:this.props.doc_id}:{},o=this.props.lightbox?{page:this.props.track_page}:{},i=s({},t,{},o,{},r);n||(n=this.props.lightbox?"lightbox":"banner"),this.track_rats("download_app_promo:".concat(n,":").concat(e),i)}},{key:"client_error",value:function(e){this.focus_input_and_mark_invalid(),this.setState({error:e}),this.track("click",{item:"send link",input_valid:!1,input_text:this.state.input_value})}},{key:"success",value:function(e){this.flash(e,"success")}},{key:"flash",value:function(e,t){this.props.lightbox?Scribd.Flasher.toast(t,e,{container:$("#".concat(this.props.lightbox_id))[0]}):Scribd.Flasher.toast(t,e)}},{key:"focus_input_and_mark_invalid",value:function(){$(this.container).find(".email_phone_input").attr("aria-invalid",!0).focus()}},{key:"submit",value:function(){if(!this.state.loading){var e=this.state.input_value.replace(t.REGEX.spaces,"");this.props.twilio_enabled&&e.match(t.REGEX.type.phone)?(e=e.replace(t.REGEX.non_digits,"")).match(t.REGEX.valid.phone)?this.send(e):this.client_error(this.error("phone")):e.match(t.REGEX.type.email)?e.match(t.REGEX.valid.email)?this.send(e):this.client_error(this.error("email")):this.client_error(this.error("input"))}}},{key:"send",value:function(e){this.track("click",{item:"send link",input_valid:!0,input_text:this.state.input_value}),this.setState({loading:!0}),this.trigger("scribd:app_download:send_link"),$.post(this.props.app_download_link,{phone_or_email:e}).done(this.handle_send_complete).fail(this.handle_post_failure)}},{key:"handle_send_complete",value:function(e){e.success?(this.handle_response(I18n.t("shared.app_download_promo.module.link_sent_please_check_your_mobile"),e),this.props.lightbox&&Scribd.AppDownloadPromoLightbox.close()):this.handle_response(this.errors[e.error]||this.errors.generic,e),this.setState({loading:!1})}},{key:"handle_post_failure",value:function(){this.handle_response(this.errors.generic,{success:!1,type:"server"}),this.setState({loading:!1})}},{key:"typing_email_address",value:function(){return!!this.props.email_address&&this.state.input_value.length&&0===this.props.email_address.indexOf(this.state.input_value)}},{key:"placeholder",value:function(){return this.props.twilio_enabled?I18n.t("shared.app_download_promo.module.phone_number_or_email"):I18n.t("shared.app_download_promo.module.enter_your_email")}},{key:"render_store_link",value:function(e,t,n){return[React.createElement("a",{key:"store-link",href:t,target:"_blank",onClick:n},e,React.createElement("span",{className:"visually_hidden"},I18n.t("shared.app_download_promo.module.opens_new_window"))),React.createElement("span",{key:"store-link-text",className:"app_store_link_just_text"},e)]}},{key:"render_header",value:function(){return React.createElement("div",{className:"header"},React.createElement("h2",{id:"download_promo_content_header"},I18n.t("shared.app_download_promo.module.read_anytime_everywhere_you_go")),React.createElement("p",null,React.createElement("span",null,I18n.t("shared.app_download_promo.module.scribd_is_available_on_the")," "),this.render_store_link(I18n.t("shared.app_download_promo.module.app_store"),this.props.ios_app_link,this.track_app_store),React.createElement("span",null," ",I18n.t("shared.app_download_promo.module.and")," "),this.render_store_link(I18n.t("shared.app_download_promo.module.google_play_store"),this.props.android_app_link,this.track_play_store)))}},{key:"render_form",value:function(){var e=null,t=null;return this.typing_email_address()&&(e=React.createElement("input",{className:"email_suggestion",placeholder:this.props.email_address,type:"text",value:"","aria-label":this.placeholder(),"aria-required":"true","aria-invalid":!1})),this.state.error&&(t=React.createElement("span",{className:"error_msg"},React.createElement("span",{className:"icon-ic_warn","aria-hidden":"true"}),React.createElement("span",{className:"visually_hidden"},"Error"),React.createElement("span",null,this.state.error))),React.createElement("div",{className:"form"},React.createElement("label",{className:classNames("input_container",{suggesting:this.typing_email_address(),has_error:this.state.error}),htmlFor:"email_phone_input"},React.createElement("div",{className:"label"},I18n.t("shared.app_download_promo.module.enter_your_phone_number_or_email")),e,React.createElement("input",{type:"text",placeholder:this.placeholder(),className:"email_phone_input",id:"email_phone_input",value:this.state.input_value,"aria-label":this.placeholder(),"aria-required":"true","aria-invalid":!1,onKeyDown:this.handle_key_down,onKeyUp:this.handle_key_up,onChange:this.handle_change}),React.createElement(o.c,{className:classNames("send_link_btn",{loading:this.state.loading}),disable:this.state.loading,onClick:this.submit},I18n.t("shared.app_download_promo.module.send_link"))),t)}},{key:"render_app_download_badges",value:function(){return React.createElement("div",{className:"app_download_badges_container"},React.createElement("a",{className:"android_store_download_badge_link left",href:this.props.android_app_link},React.createElement("img",{className:"android_store_badge",src:this.props.android_app_badge_img_src,alt:I18n.t("shared.app_download_promo.module.android_app_store_badge")})),React.createElement("a",{className:"ios_store_download_badge_link",href:this.props.ios_app_link},React.createElement("img",{className:"ios_store_badge",src:this.props.ios_app_badge_img_src,alt:I18n.t("shared.app_download_promo.module.ios_app_store_badge")})))}},{key:"render_content",value:function(){var e=this;if(this.state.dismissed)return null;var t=null,n=null,r={},o=React.createElement("div",{className:"devices_container"},React.createElement("div",{className:"devices"}));return this.props.lightbox?t=o:(n=o,this.state.content_height&&(r.top=this.state.content_height)),[React.createElement("button",{key:"close_promo","aria-label":I18n.t("shared.app_download_promo.module.hide_promo_content"),className:"close_promo_btn",onClick:this.handle_close_promo,type:"button"},React.createElement("span",{className:"icon-ic_close","aria-hidden":"true"})),React.createElement("section",{key:"promo_content",className:"app_download_promo_content","aria-labelledby":"download_promo_content_header"},t,React.createElement("div",{className:"content_inner",ref:function(t){e.content_inner=t},style:r},React.createElement("div",{className:"header_and_form_container"},this.render_header(),this.render_form(),this.render_app_download_badges())),n)]}}])&&c(n.prototype,r),i&&c(n,i),t}(r.a);d(p,"REGEX",{valid:{email:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,phone:/^\+?\d{10,15}$/},type:{email:/@/,phone:/^\+?[\d\-_\(\).]*\d[\d\-_\(\).]*$/},spaces:/\s/g,non_digits:/[^\d+]/g}),Scribd.addComponent("Shared.Promos.AppDownloadPromo.Module",p)},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(178),n(12);var r=n(0),o=n(2),i=n(32),a=n(64),s=n(124),c=n(25),l=n(131),u=n(134),_=n(46);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="audiobook",y="podcast_episode",v="book",k="sheet_music",w="sheet_music_chapter",S="summary_canonical",E="publication_issue",O="article",x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=h(t).call(this,e),n=!o||"object"!==d(o)&&"function"!=typeof o?f(r):o,b(f(n),"handle_dunning_lock_anchor_click",(function(){return Object(_.async_render_lock_shock_roadblock)({payment_fix_url:n.props.payment_fix_url}),!1})),b(f(n),"handle_audiobook_anchor_click",(function(e){e.preventDefault(),Object(s.b)(e.currentTarget.href)})),n.enclosing_class("auto__shared_react_cells_base"),n.state={undo_loading:!1,removed:e.item.removed},n.update_removed_state=n.update_removed_state.bind(f(n)),n.handle_removed_event=n.handle_removed_event.bind(f(n)),n.remove_cell=n.remove_cell.bind(f(n)),n.unremove_cell=n.unremove_cell.bind(f(n)),n.focus_unsaved_tile=n.focus_unsaved_tile.bind(f(n)),n}var n,r,x;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"enclosing_tag",value:function(){return this.props.enclosing_tag}},{key:"enclosing_element_args",value:function(){return{"data-track_uuid":this.props.rec_uuid,"data-track":!0}}},{key:"component_classes",value:function(){return"react_cell_base object_cell list_item ".concat(this.props.item.type)}},{key:"componentDidMount",value:function(){$(this.container).on("shared:react:lists:list_item:removed",this.handle_removed_event)}},{key:"componentWillUnmount",value:function(){$(this.container).off("shared:react:lists:list_item:removed",this.handle_removed_event)}},{key:"componentDidUpdate",value:function(e,t){this.state.removed?$(this.container).find(".undo_btn").focus():t.removed&&$(this.container).find(".list_anchor").focus()}},{key:"handle_removed_event",value:function(e,t){this.update_removed_state(t)}},{key:"update_removed_state",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};this.setState({removed:e},t)}},{key:"should_open_in_reader",value:function(){return this.props.item.open_in_reader||![v,g,k,w,S,y].includes(this.props.item.type)}},{key:"remove_cell",value:function(){this.update_removed_state(!0)}},{key:"unremove_cell",value:function(){this.update_removed_state(!1)}},{key:"cell_under_dunning_lock",value:function(){return this.props.item.cell_under_dunning_lock&&this.props.payment_fix_url}},{key:"handle_removed_cell_click",value:function(){var e=this;this.setState({undo_loading:!0}),this.props.undo_xhr(this.props.item).done((function(){$(e.container).trigger("shared:react:lists:list_item:removed",[!1,e.props.item.id])})).fail((function(){$(e.container).trigger("shared:react:lists:list_item:removed",[!0,e.props.item.id]),Scribd.Flasher.standard("error",I18n.t("shared.react.cells.base.failed_to_undo_action"))})).always((function(){e.setState({undo_loading:!1})}))}},{key:"get_content_url",value:function(){if(!this.props.no_anchors)return this.cell_under_dunning_lock()?"#":this.should_open_in_reader()?this.props.item.reader_url:this.props.item.book_preview_url}},{key:"get_list_anchor_click",value:function(){var e=this.props,t=e.item,n=e.handle_list_anchor_click;return this.cell_under_dunning_lock()?this.handle_dunning_lock_anchor_click:n||(t.type===g&&t.open_in_reader?this.handle_audiobook_anchor_click:void 0)}},{key:"get_image_aria_label_text",value:function(){if(this.props.item.type){var e=this.props.item.type.toLowerCase(),t={book:I18n.t("shared.react.cells.base.book"),audiobook:I18n.t("shared.react.cells.base.audiobook"),publication_issue:I18n.t("shared.react.cells.base.publication_issue"),sheet_music:I18n.t("shared.react.cells.base.sheet_music"),sheet_music_chapter:I18n.t("shared.react.cells.base.sheet_music_chapter"),article:I18n.t("shared.react.cells.base.article_in_props_item_author",{props_item_author:this.props.item.author}),document:I18n.t("shared.react.cells.base.pdf_document"),podcast_episode:I18n.t("shared.react.cells.base.podcast_episode"),summary_canonical:I18n.t("shared.react.cells.base.summary_key_insights")};return Object.prototype.hasOwnProperty.call(t,e)?t[e]:e}}},{key:"get_image_alt_text",value:function(){return this.props.item.title}},{key:"focus_unsaved_tile",value:function(){this.unsaved_tile&&this.unsaved_tile.focus()}},{key:"should_show_book_preview_lightbox",value:function(){return!(this.props.item.open_in_reader||Scribd.is_mobile||!this.props.item.is_book||[O,E,w].includes(this.props.item.type))}},{key:"can_show_removed",value:function(){return(this.props.show_removed||"list"===this.props.display_type)&&this.props.undo_xhr}},{key:"render_removed",value:function(){return React.createElement("div",{className:"undo_container"},React.createElement("div",{className:"undo"},React.createElement("div",{className:"undo_btn_label"},React.createElement("span",null,this.props.undo_label)),React.createElement(o.c,{ref:this.props.item.id,type:"button",text:I18n.t("shared.react.cells.base.undo"),disabled:this.state.undo_loading,"aria-disabled":this.state.undo_loading,tabIndex:"0",className:classNames("undo_btn text_btn",{loading:this.state.undo_loading}),onClick:this.handle_removed_cell_click.bind(this)},React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.cells.base.props_item_title_-_removed_from_saved",{props_item_title:this.props.item.title})))))}},{key:"render_new_indicator",value:function(){if(this.props.item.new_item&&!this.props.is_finished)return React.createElement("span",{className:"new_items_indicator"},React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.cells.base.new")))}},{key:"render_title",value:function(){return React.createElement("div",{className:"title document_title"},this.props.item.title)}},{key:"render_author",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.cells.base.author")):null;return React.createElement("div",{className:"author_container"},t,React.createElement("span",{className:"author"},this.props.item.author))}},{key:"render_snapshot_author",value:function(){var e={__html:I18n.t("shared.react.cells.base.key_insights_from_authors_html",{author_possessive:this.props.item.author_possessive})};return React.createElement("div",{className:"author_container snapshot_author"},React.createElement("span",{className:"author",dangerouslySetInnerHTML:e}))}},{key:"render_reading_progress",value:function(){if(this.props.item.reading_progress_bar_props)return React.createElement(l.a,this.props.item.reading_progress_bar_props)}},{key:"render_star_ratings",value:function(){if(this.props.item.star_rating_props)return React.createElement(a.a,this.props.item.star_rating_props)}},{key:"render_image_flag",value:function(){if(this.props.item.flag&&this.props.item.flag.label)return React.createElement("div",{className:"banner_flag flag ".concat(this.props.item.flag.classes)},this.props.item.flag.label)}},{key:"render_image_cta",value:function(){if(!this.props.hide_hover_cta){var e=I18n.t("shared.react.cells.base.read_now");return this.props.item.type===g?e=I18n.t("shared.react.cells.base.listen_now"):this.props.item.type===y&&(e=I18n.t("shared.react.cells.base.listen")),React.createElement("div",{role:"presentation",className:"hover_cta reader"},e)}}},{key:"render_image",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return React.createElement("div",{className:classNames("image",{is_book:this.props.item.is_book}),key:"image_".concat(this.props.item.id)},this.render_image_flag(),React.createElement(c.a,{alt_text:this.get_image_alt_text(),aria_label_text:this.get_image_aria_label_text(),image_url:this.props.item.image_url,lazy_load:e,retina_image_url:this.props.item.retina_image_url,use_in_carousel:this.props.use_in_carousel}),this.render_image_cta())}},{key:"render_marked_as_finished",value:function(){if(this.props.is_finished)return React.createElement("div",{className:"marked_as_finished_container"},React.createElement("span",{className:"icon icon-ic_finished_small","aria-hidden":"true"}),React.createElement("span",{className:"finished_text"},I18n.t("shared.react.cells.base.finished")))}},{key:"render_reading_time_estimate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.props.item.read_time_estimate){var t=React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.cells.base.total"));return React.createElement("div",{className:"read_time_estimate"},React.createElement("span",null,React.createElement("span",null,this.props.item.read_time_estimate),e?t:null))}}},{key:"render_availability_notice",value:function(){if("list"===this.props.display_type&&this.props.item.availability)return React.createElement(u.a,{icon:this.props.item.availability.icon,text:this.props.item.availability.text,flag_class:this.props.item.flag.classes})}},{key:"render_author_container",value:function(e){return React.createElement("div",{className:"author_container"},React.createElement("span",{className:"author"},e))}},{key:"render_secondary_subtitle",value:function(){var e=this.props.item.secondary_subtitle;if(e)return this.render_author_container(e)}},{key:"render_series_name",value:function(){if(this.props.item.series)return React.createElement("span",{className:"series"},this.render_author_container(I18n.t("shared.react.cells.base.series")))}},{key:"render_saved_carousel_unsaved",value:function(){var e=this,t=this.props.no_anchors?"span":"a";return React.createElement(t,{className:"unsaved",href:this.get_content_url(),ref:function(t){return e.unsaved_tile=t}},React.createElement("div",{className:"removed_indicator_text"},React.createElement("p",{className:"document_title"},this.props.item.title),React.createElement("p",{className:"subtitle"},I18n.t("shared.react.cells.base.removed_from_saved"))))}},{key:"render_content_progress",value:function(){var e=this.props.item.content_progress;if(e){var t=I18n.t("shared.react.cells.base.content_to_go",{duration:e});return this.render_author_container(t)}}},{key:"render_content_left",value:function(){if(this.props.item.content_progress)return React.createElement("span",{className:"content_left_text"},this.props.item.content_progress)}},{key:"render_controls",value:function(){if(this.props.controls)return this.props.controls;if(!this.props.no_controls){var e=!this.props.item.star_rating_props;return React.createElement("div",{className:"controls"},React.createElement(i.default,{item:this.props.item,show_text:!1,classes:classNames({no_star_ratings:e}),on_save:this.unremove_cell,on_remove:this.remove_cell}))}}},{key:"render_list_item_content",value:function(){}},{key:"render_list_item_wrapper",value:function(){var e=this.props.item,t={className:classNames("list_anchor",{book_link:this.should_show_book_preview_lightbox(),new_item:e.new_item}),onClick:this.props.no_anchors?void 0:this.get_list_anchor_click(),href:this.get_content_url(),id:e.id};!this.cell_under_dunning_lock()&&e.type===g&&e.open_in_reader&&(t.target="_blank");var n=this.props.no_anchors?"span":"a";return React.createElement("div",{className:"list_anchor_container"},React.createElement(n,t,this.render_new_indicator(),this.render_list_item_content()),this.render_controls())}},{key:"render_content",value:function(){return this.can_show_removed()&&this.state.removed?this.render_removed():this.render_list_item_wrapper()}}])&&p(n.prototype,r),x&&p(n,x),t}(r.a);b(x,"defaultProps",{no_controls:!1,series:!1,show_removed:!1,enclosing_tag:"li",no_anchors:!1})},193:function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;n(68),n(127),n(216),r=function(e){function t(e,n){this.opts=n,this.mount_react_cells=o(this.mount_react_cells,this),this.container=$(e),this.mount_react_cells(),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Scribd.UI.Carousel),t.prototype.mount_react_cells=function(){var e,t;return t=this.container.find(".react_carousel_mount")[0],e=React.createElement(Scribd.Shared.React.Lists.ListItems,{aria_label:this.opts.aria_label,aria_labelled_by:!1,documents:this.opts.documents,hide_hover_cta:!0,pre_rendered:this.opts.pre_rendered,rec_tracking_json:this.opts.rec_tracking_json,use_in_carousel:!0}),ReactDOM.render(e,t)},t}(),Scribd.addComponent("Recommenders.Modules.ContentCohesiveCarousel",r)},194:function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;n(223),n(43),r=function(e){function t(e,n){this.opts=null!=n?n:{},this.track_all_interests_btn_mc=o(this.track_all_interests_btn_mc,this),this.open_all_interests=o(this.open_all_interests,this),this.send_android_bridge=o(this.send_android_bridge,this),this.container=$(e),this.container.dispatch("click",{all_interests_btn:this.open_all_interests,interest_link:this.send_android_bridge}),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Scribd.UI.Carousel),t.prototype.send_android_bridge=function(e,t){var n,r,o;return(null!=(r=Scribd.AndroidJsBridge)?r.present:void 0)?(t.preventDefault(),n=e.data("object_id"),o=e.find(".interest_title").text(),Scribd.AndroidJsBridge.send("openInterest",n,o)):"continue"},t.prototype.open_all_interests=function(){var e;return e=this.opts.lightbox_url+"?content_type="+this.opts.content_type,this.track_all_interests_btn_mc(),Scribd.Lightbox.remote_open("interests_lightbox",e)},t.prototype.track_all_interests_btn_mc=function(){return window.$rat.root().withVid((e=this,function(t){var n;return n=t+".0",Scribd.RecommendationTracking.track_module_click(n,e.opts.module_id)}));var e},t}(),Scribd.addComponent("Recommenders.Modules.InterestTilesCarousel",r)},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(5),o=n.n(r),i=n(54),a=(n(199),n(25));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,_(t).call(this,e))).enclosing_class("auto__recommenders_modules_trending_now"),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,i=[{key:"propTypes",get:function(){return Object.assign({},u(_(t),"propTypes",this),{title:o.a.string.isRequired,items:o.a.arrayOf(o.a.object).isRequired,rec_uuids:o.a.arrayOf(o.a.string).isRequired})}}],(r=[{key:"componentDidUpdate",value:function(e){this.props.items!==e.items&&u(_(t.prototype),"instantiate_tracking",this).call(this)}},{key:"render_cell",value:function(e,t){var n=this.props.rec_uuids,r=e.book_preview_url,o=e.image_url,i=e.retina_image_url,s=e.short_title,c=e.description,l=e.open_in_reader,u=e.reader_url,_=e.editorial_title,d=e.type,p={alt_text:s,aria_label_text:d,image_url:o,lazy_load:!1,retina_image_url:i};return React.createElement("li",{className:classNames("trending_cell",{is_audiobook:"audiobook"===d}),key:t,"data-track":!0,"data-track_uuid":n[t]},React.createElement("a",{href:l?u:r,className:classNames("cell_link",{book_link:!l})},React.createElement(a.a,p),React.createElement("div",{className:"title_description"},React.createElement("div",{className:"list_name"},React.createElement("span",null,_)),React.createElement("div",null,React.createElement("h3",{className:"title"},s)),React.createElement("div",null,React.createElement("p",{className:"description"},c)))))}},{key:"render_cells",value:function(){var e=this;return React.createElement("ul",{className:"trending_cells"},this.props.items.map((function(t,n){return e.render_cell(t,n)})))}},{key:"render_content",value:function(){return React.createElement("div",{className:"trending_now_container"},React.createElement("h2",{className:"title"},this.props.title),this.render_cells())}}])&&c(n.prototype,r),i&&c(n,i),t}(i.a);Scribd.addComponent("Recommenders.Modules.TrendingNow",p)},198:function(e,t,n){},199:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(e){var n;return s(this,t),(n=u(this,_(t).call(this,e))).enclosing_class("auto__shared_react_common_button"),n}return d(t,e),l(t,[{key:"render",value:function(){var e=this.get_tag(),t=classNames(this.props.className,"flat_btn",this.get_component_classname(),{disabled:this.props.disabled||this.props.loading,loading:this.props.loading});return React.createElement(e,a({className:t,title:this.props.title,onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,"aria-disabled":this.props.disabled||this.props.loading?"true":null,role:this.props.role,type:"button"===e?this.props.type:null,target:this.props.target,"data-tooltip":this.props["data-tooltip"]||null,href:this.props.href,id:this.props.id},this.get_data_props(),this.get_aria_props(),{ref:this.props.node_ref}),this.render_content(),this.render_spinner(),this.props.text,this.render_visually_hidden_text())}},{key:"render_visually_hidden_text",value:function(){if(this.props.visually_hidden_text)return React.createElement("span",{className:"visually_hidden"},this.props.visually_hidden_text)}},{key:"render_spinner",value:function(){if(!this.props.className||!this.props.className.match(/text_btn/))return React.createElement("div",{key:"spinner","aria-hidden":"true",className:"scribd_spinner","data-size":30})}},{key:"render_content",value:function(){var e=React.Children.toArray(this.props.children)||[];return this.props.is_facebook_button||/\bfacebook\b/.test(this.props.className)?e.unshift(this.render_facebook_icon()):(this.props.is_google_button||/\bgoogle\b/.test(this.props.className))&&e.unshift(this.render_google_icon()),e}},{key:"render_facebook_icon",value:function(){return React.createElement("span",{key:"facebook_icon","aria-hidden":"true",className:"icon icon-ic_facebook"})}},{key:"render_google_icon",value:function(){return React.createElement("span",{key:"google_icon","aria-hidden":"true",className:"icon icon-google"})}},{key:"get_tag",value:function(){var e="button";return void 0===this.props.href&&void 0===this.props.target||(e="a",void 0!==this.props.disabled&&console.error("You can't disable anchors")),e}},{key:"get_data_props",value:function(){var e=this,t={};return this.props.data_props&&Object.keys(this.props.data_props).forEach((function(n){var r=e.props.data_props[n];t["data-".concat(n)]=r})),t}},{key:"get_aria_props",value:function(){var e=this,t={};return this.props.aria_props&&Object.keys(this.props.aria_props).forEach((function(n){var r=e.props.aria_props[n];t["aria-".concat(n)]=r})),t}}]),t}(r.a);function m(e){var t=Object.assign({},e);return t.className=classNames(e.className,"text_btn"),React.createElement(f,t)}h(f,"defaultProps",{type:"button",is_facebook_button:!1,is_google_button:!1,data_props:{},aria_props:{},loading:!1});var b=function(e){function t(){return s(this,t),u(this,_(t).apply(this,arguments))}return d(t,e),l(t,[{key:"get_button_props",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props,{className:classNames(this.props.className,"text_btn icon_btn")})}},{key:"render_content",value:function(){return React.createElement(f,this.get_button_props(),this.render_icon(this.props.icon)," ",this.render_visually_hidden(this.props.hidden_label))}}]),t}(r.a);Scribd.addComponent("Shared.React.CommonButton",f)},20:function(e,t,n){"use strict";function r(e){return window.Scribd&&window.Scribd.Sentry&&window.Scribd.Sentry.queue&&window.Scribd.Sentry.queue[e]||[]}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!window.Scribd||!window.Scribd.Sentry.disabled)&&(console.error(e,t),!0)}function i(){return window.Sentry&&window.Sentry.captureException&&window.Sentry.captureMessage&&window.Sentry.configureScope&&window.Sentry.withScope}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o(e,t))if(i()){var n=Object.keys(t);n.length?window.Sentry.withScope((function(r){n.forEach((function(e){r.setExtra(e,t[e])})),window.Sentry.captureException(e)})):window.Sentry.captureException(e)}else!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r("errors");n?n.push({errorObject:e,extraInfo:t}):console.error(e,t)}(e,t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o(e,t))if(i()){var n=Object.keys(t);n.length?window.Sentry.withScope((function(r){n.forEach((function(e){r.setExtra(e,t[e])})),window.Sentry.captureMessage(e)})):window.Sentry.captureMessage(e)}else!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r("messages");n?n.push({message:e,extraInfo:t}):console.error(e,t)}(e,t)}function c(e){i()&&e&&window.Sentry.configureScope((function(t){t.setTag("page",e)}))}function l(){r("errors").concat(r("messages")).forEach((function(e){var t=e.extraInfo;e.message&&s(e.message,t),e.errorObject&&a(e.errorObject,t)}))}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}))},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);n(42),n(72),n(210),n(212);var r=n(25);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__recommenders_modules_article_tile"),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(o=[{key:"handle_resize",value:function(){}},{key:"enclosing_tag",value:function(){return"div"}},{key:"render_interest",value:function(){var e=this.props.item.interest?this.props.item.interest:I18n.t("recommenders.modules.article_tile.top_picks");return React.createElement("div",{className:"interest"},e)}},{key:"render_image",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return React.createElement("div",{className:classNames("image",{is_book:this.props.item.is_book}),key:"image_".concat(this.props.item.id)},React.createElement("a",{href:this.props.item.publication_url,className:"publication_link"},this.render_image_flag(),React.createElement(r.a,{alt_text:this.get_image_alt_text(),image_url:this.props.item.image_url,lazy_load:e,retina_image_url:this.props.item.retina_image_url,use_in_carousel:this.props.use_in_carousel}),this.render_image_cta()))}},{key:"render_list_item_content",value:function(){return React.createElement("div",{className:"wrapper"},this.render_article_image(),React.createElement("div",{className:"body"},this.render_interest(),this.render_title()))}},{key:"handle_meta_data_click",value:function(){window.location.href=this.get_content_url()}},{key:"render_header",value:function(){return React.createElement("div",{className:"header"},this.render_image(!1),React.createElement("div",{className:"metadata",onClick:this.handle_meta_data_click.bind(this),"aria-hidden":"true"},this.render_author(!1),this.render_reading_time_estimate()))}},{key:"render_list_item_wrapper",value:function(){return React.createElement("div",{className:"list_anchor_container"},this.render_header(),React.createElement("a",{className:classNames("list_anchor",{book_link:this.should_show_book_preview_lightbox(),new_item:this.props.item.new_item}),href:this.get_content_url(),id:this.props.item.id},this.render_new_indicator(),this.render_list_item_content()),this.render_controls())}}])&&i(n.prototype,o),l&&i(n,l),t}(n(70).a);Scribd.addComponent("Recommenders.Modules.ArticleTile",l);var u=n(5),_=n.n(u);n(213);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,m(t).call(this,e))).enclosing_class("auto__recommenders_article_tiles_row"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,o=[{key:"propTypes",get:function(){return Object.assign({},f(m(t),"propTypes",this),{aria_label:_.a.string,documents:_.a.arrayOf(_.a.shape({article_image_url:_.a.string,author:_.a.string,image_url:_.a.string,in_library:_.a.bool,interest:_.a.string,is_book:_.a.bool,publication_date:_.a.string,read_time_estimate:_.a.string,reader_url:_.a.string,retina_article_image_url:_.a.string,retina_image_url:_.a.string,show_reading_time_estimate:_.a.bool,short_title:_.a.string})),default_img_urls:_.a.arrayOf(_.a.string),rec_uuids:_.a.arrayOf(_.a.string)})}}],(r=[{key:"enclosing_tag",value:function(){return"ul"}},{key:"component_classes",value:function(){return"article_tile_row"}},{key:"remove_default_image",value:function(e){var t=this.props.default_img_urls.indexOf(e);this.props.default_img_urls.splice(t,1)}},{key:"get_random_index",value:function(){return Math.floor(Math.random()*this.props.default_img_urls.length)}},{key:"sub_default_thumbnail_url",value:function(e){var t=this.props.default_img_urls[this.get_random_index()];return this.remove_default_image(t),e.article_image_url=t,e.retina_article_image_url=t,e}},{key:"render_content",value:function(){var e=this,t=this.props,n=t.documents,r=t.rec_uuids;return n.map((function(t,n){return t.article_image_url||e.sub_default_thumbnail_url(t),React.createElement("li",{className:"article_tile_list_item",key:n,"data-track":!0,"data-track_uuid":r[n]},React.createElement(l,{item:t,no_clamp:!0}))}))}}])&&p(n.prototype,r),o&&p(n,o),t}(n(54).a);Scribd.addComponent("Recommenders.Modules.ArticleTilesRow",g);n(214),n(215);var y=n(0),v=n(2),k=n(15);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R,j,N,P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,O(t).call(this,e))).enclosing_class("auto__recommenders_modules_browse_dropdown"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"render_menu",value:function(){var e=this.props.content_types.map(this.render_menu_item);return React.createElement("ul",{className:"menu_list"},e)}},{key:"render_menu_item",value:function(e,t){return React.createElement("li",{className:"menu_item",key:t},React.createElement(v.c,{className:"text_btn flat_btn",href:e.url,text:e.title,data_props:e.data_props}))}},{key:"render_button",value:function(){return React.createElement(v.c,{className:"label_btn text_btn flat_btn",data_props:this.props.data_props},React.createElement("span",{key:"label_title",className:"label_title"},this.props.label),React.createElement("span",{key:"icon_down_arrow",className:"icon icon-ic_down_arrow"}))}},{key:"render_content",value:function(){var e=this.props.content_types;return 1===e.length?React.createElement("span",{className:"label_no_options"},React.createElement("span",{className:"label_title"},e[0].title)):React.createElement(k.default,{menu:this.render_menu(),button:this.render_button(),arrow:!0,force_position:"bottom",autoclose:!0})}}])&&S(n.prototype,r),o&&S(n,o),t}(y.a);N={content_types:[]},(j="defaultProps")in(R=P)?Object.defineProperty(R,j,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[j]=N,Scribd.addComponent("Recommenders.Modules.BrowseDropdown",P);n(193),n(217);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=T(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?M(r):o,q(M(n),"MESSAGES",{left:I18n.t("recommenders.modules.doc_education_banner.court_filings"),center:I18n.t("recommenders.modules.doc_education_banner.academic_papers"),right:I18n.t("recommenders.modules.doc_education_banner.business_templates")}),q(M(n),"SUB_MESSAGES",{left:I18n.t("recommenders.modules.doc_education_banner.get_the_facts_on_landmark_cases"),center:I18n.t("recommenders.modules.doc_education_banner.learn_from_scholars_around_the_world"),right:I18n.t("recommenders.modules.doc_education_banner.customize_proposals_contracts_business_plans_and")}),n.enclosing_class("auto__recommenders_modules_doc_education_banner"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){$.post(this.props.close_promo_url,{id:this.props.promo_id})}},{key:"component_classes",value:function(){return"module_row doc_education_banner"}},{key:"render_title",value:function(){return React.createElement("h2",{className:"title"},this.props.title)}},{key:"render_subtitle",value:function(){return React.createElement("span",{className:"subtitle"},this.props.subtitle)}},{key:"render_image",value:function(e){return React.createElement("li",{className:"image_container ".concat(e)},React.createElement("img",{className:"image_".concat(e),src:this.props.image_paths[e],alt:"",role:"presentation"}),React.createElement("span",{className:"message ".concat(e)},this.MESSAGES[e]),React.createElement("span",{className:"sub_message ".concat(e)},this.SUB_MESSAGES[e]))}},{key:"render_images",value:function(){return React.createElement("ul",{className:"images_container"},this.render_image("left"),this.render_image("center"),this.render_image("right"))}},{key:"render_content",value:function(){return React.createElement("div",null,this.render_title(),this.render_subtitle(),this.render_images())}}])&&I(n.prototype,r),o&&I(n,o),t}(y.a);Scribd.addComponent("Recommenders.Modules.DocEducationBanner",L);var z=n(41);n(219);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=B(this,F(t).call(this,e))).enclosing_class("auto__recommenders_modules_hero_content_type_banner"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(r=[{key:"render_content",value:function(){return React.createElement("section",{className:"banner_wrapper single_banner"},React.createElement("div",{className:"hero_banner content_type_banner"},React.createElement("div",{className:"header_content content_type"},React.createElement("div",{className:"icon ".concat(this.props.icon_class)}),React.createElement("div",{className:"header_title"},React.createElement("h1",{className:"title"},this.props.title),React.createElement("span",{className:"sub_title"},this.props.subtitle)))),this.render_bread_crumbs())}}])&&A(n.prototype,r),o&&A(n,o),t}(z.a);Scribd.addComponent("Recommenders.Modules.HeroContentTypeBanner",W);n(205),n(221);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,G(t).call(this,e))).enclosing_class("auto__recommenders_modules_hero_interest_banner"),n.state={has_browse:n.has_browse()},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(r=[{key:"has_browse",value:function(){return window.location.pathname.match(/\/explore/)}},{key:"get_banner_image",value:function(){var e=this.props.banner_url.length?this.props.banner_url:null;return{backgroundImage:"url(".concat(e,")")}}},{key:"render_title",value:function(){return React.createElement("h1",{className:"title"},React.createElement("span",{className:"content"},this.props.title))}},{key:"render_description",value:function(){if(this.props.description)return React.createElement("em",{className:"description"},React.createElement("span",{className:"content"},this.props.description))}},{key:"render_crumb_parts",value:function(e,t){var n=e[0],r=e[1];if(!this.dont_show_browse_crumb(n))return t<this.props.crumbs.length-1?this.render_crumb_link(n,r):this.render_current_page(n)}},{key:"dont_show_browse_crumb",value:function(e){return!this.state.has_browse&&"Browse"===e}},{key:"render_content",value:function(){return React.createElement("section",{className:"banner_wrapper multi_banner"},React.createElement("div",{className:"hero_banner",style:this.get_banner_image()},React.createElement("div",{className:"header_content"},this.render_title(),this.render_description(),React.createElement(P,this.props.filter_props))),this.render_bread_crumbs())}}])&&V(n.prototype,r),o&&V(n,o),t}(z.a);Scribd.addComponent("Recommenders.Modules.HeroInterestBanner",X);n(222);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ee(this,te(t).call(this,e))).enclosing_class("auto__recommenders_modules_hero_publication_banner"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"render_publication_header",value:function(){return React.createElement("a",{href:this.props.publication_url,"data-object_type":"publication","data-object_id":this.props.recommendation_id,"data-track":!0,"data-track_uuid":this.props.recommendation_uuid},React.createElement("img",{src:this.props.img_url,srcSet:this.props.retina_url,alt:this.props.publication_name}))}},{key:"render_content",value:function(){return React.createElement("div",{className:"banner_wrapper single_banner"},React.createElement("div",{className:"hero_banner"},React.createElement("div",{className:"header_content publication"},React.createElement("h1",{className:"title publication"},this.render_publication_header()),React.createElement("em",{className:"sub_title publication"},this.props.subtitle))))}}])&&Q(n.prototype,r),o&&Q(n,o),t}(z.a);Scribd.addComponent("Recommenders.Modules.HeroPublicationBanner",re);n(194),n(224);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,se(t).call(this,e))).state={hidden:!1,loading:!1,reading_history_data:null},n.enclosing_class("auto__looking_for_jump_back_in_promo"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.submit_close_request(!1)}},{key:"handle_close_click",value:function(e){e.preventDefault(),this.setState({hidden:!0}),this.submit_close_request(!0)}},{key:"fetch_reading_history",value:function(e){var t=this;return e.preventDefault(),this.state.reading_history_data?this.render_history_hero_modal():(this.setState({loading:!0}),$.get(this.props.reading_history_url).then((function(e){var n=e.data;t.setState({reading_history_data:n},t.render_history_hero_modal)})).fail(this.flash_fetch_error).always((function(){return t.setState({loading:!1})})))}},{key:"submit_close_request",value:function(e){var t={id:this.props.promo_id};return!0===e&&(t=Object.assign({},t,{hard_close:!0})),$.post(this.props.close_promo_url,t)}},{key:"flash_fetch_error",value:function(){Scribd.Flasher.toast("error","recommenders.modules.looking_for_jump_back_in_promo.error_retrieving_reading_history")}},{key:"render_history_hero_modal",value:function(){var e=Scribd.Home.LoggedIn.History.HeroModal;Scribd.Lightbox.open_react("history_hero_modal",React.createElement(e,{items:this.state.reading_history_data,on_remove:this.update_removed_item,on_save:this.update_saved_item}))}},{key:"get_item",value:function(e,t){return e.reading_history_data.documents.find((function(e){return e.id===t}))}},{key:"update_saved_item",value:function(e){var t=Object.assign({},this.state);this.get_item(t,e).in_library=!0,this.setState(t)}},{key:"update_removed_item",value:function(e){var t=Object.assign({},this.state);this.get_item(t,e).in_library=!1,this.setState(t)}},{key:"render_content",value:function(){return React.createElement("div",{className:classNames("looking_for_jump_back_in_promo_wrapper",{hidden:this.state.hidden})},React.createElement("a",{className:"close_link",onClick:this.handle_close_click,href:"#"},React.createElement("span",{className:"icon icon-ic_close","aria-hidden":"true"}),React.createElement("span",{className:"visually_hidden"},I18n.t("recommenders.modules.looking_for_jump_back_in_promo.dismiss_message"))),React.createElement("h2",{className:"title"},I18n.t("recommenders.modules.looking_for_jump_back_in_promo.title")),React.createElement("p",{className:"description"},I18n.t("recommenders.modules.looking_for_jump_back_in_promo.description")),React.createElement("div",{className:"button_container"},React.createElement(v.c,{className:"flat_btn outline_btn slim",text:I18n.t("recommenders.modules.looking_for_jump_back_in_promo.find_out_more"),onClick:this.fetch_reading_history,disabled:this.state.loading})))}}])&&ie(n.prototype,r),o&&ie(n,o),t}(y.a);Scribd.addComponent("Recommenders.Modules.LookingForJumpBackInPromo",le);n(225),n(227),n(229),n(231);var ue=n(133);n(33);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pe(this,fe(t).call(this,e))).bind_carousel_functions(),n.enclosing_class("auto__recommenders_modules_recommended_carousel"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,e),n=t,(r=[{key:"bind_carousel_functions",value:function(){this.align_carousel_paddles=this.align_carousel_paddles.bind(this),this.get_forward_paddle_scroll_position=this.get_forward_paddle_scroll_position.bind(this),this.get_back_paddle_scroll_position=this.get_back_paddle_scroll_position.bind(this)}},{key:"componentDidMount",value:function(){he(fe(t.prototype),"componentDidMount",this).call(this),this.carousel_tracking=new Scribd.RecommendationTracking.Module(this.container,{compilation_id:this.props.compilation_id,widget_name:this.props.widget_name,module_id:this.props.module_id})}},{key:"track_and_get_back_paddle_scroll_position",value:function(e){e.preventDefault(),this.carousel_tracking.track_module_click("ap"),this.get_back_paddle_scroll_position(e)}},{key:"track_and_get_forward_paddle_scroll_position",value:function(e){e.preventDefault(),this.carousel_tracking.track_module_click("an"),this.get_forward_paddle_scroll_position(e)}},{key:"render_back_paddle",value:function(){var e=this;if(this.state.render_back_paddle)return React.createElement("a",{onClick:this.track_and_get_back_paddle_scroll_position,ref:function(t){return e.back_paddle=t},href:"#",className:"paddle page_left back_paddle"},React.createElement("span",{className:"paddle_icon icon left icon-ic_right_caret_alt"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.content_carousel.carousel_previous")))}},{key:"render_forward_paddle",value:function(){var e=this;if(this.state.render_forward_paddle)return React.createElement("a",{href:"#",ref:function(t){return e.forward_paddle=t},className:"paddle page_right forward_paddle",onClick:this.track_and_get_forward_paddle_scroll_position},React.createElement("span",{className:"paddle_icon icon icon-ic_right_caret_alt"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.content_carousel.carousel_next")))}}])&&de(n.prototype,r),o&&de(n,o),t}(ue.a);Scribd.addComponent("Recommenders.Modules.RecommendedCarousel",be);n(233),n(195),n(206),n(34),n(189),n(207),n(65),n(208),n(172),n(173),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(201),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251)},205:function(e,t,n){"use strict";(function(e){n(220);var t=n(2),r=n(41),o=n(32),i=n(64),a=n(25),s=n(46);n(33),n(151);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,m,b,g=function(n){function r(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=_(this,p(r).call(this,t))).enclosing_class("auto__recommenders_modules_hero_document"),n.resize_handler=e.throttle((function(){n.resize_description_text(),n.forceUpdate()}),50),n}var c,f,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,n),c=r,(f=[{key:"componentDidMount",value:function(){d(p(r.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this.resize_handler),this.resize_description_text()}},{key:"resize_description_text",value:function(){this.is_narrow()||$(this.hero_description).dotdotdot({height:70,ellipsis:"... ",keep:".more_link"})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize_handler)}},{key:"dont_render_star_ratings",value:function(){return!this.props.item_star_rating_props||!this.is_narrow()||this.props.item_star_rating_props.system_rating<4}},{key:"render_star_ratings",value:function(){if(!this.dont_render_star_ratings())return React.createElement(i.a,this.props.item_star_rating_props)}},{key:"is_narrow",value:function(){return window.innerWidth<=550}},{key:"use_slim_btn",value:function(){return window.innerWidth<=700}},{key:"get_header_markup",value:function(){return{__html:I18n.t("recommenders.modules.hero_document.today_s_span_top_span_pick_html")}}},{key:"handle_read_redirect_click",value:function(){this.props.under_dunning_lock&&Object(s.async_render_lock_shock_roadblock)({payment_fix_url:this.props.payment_fix_url})}},{key:"render_hero_information_link",value:function(){var e=this;return React.createElement("a",{href:this.props.book_preview_url,"data-track":!0,"data-track_uuid":this.props.recommender_uuid,className:"hero_information_link book_link"},React.createElement("h2",{className:"top_pick_header",id:"section_heading",dangerouslySetInnerHTML:this.get_header_markup()}),React.createElement("div",{className:"hero_title"},this.props.title),React.createElement("div",{className:"hero_author"},I18n.t("recommenders.modules.hero_document.by_this_props_author",{this_props_author:this.props.author})),React.createElement("div",{className:"hero_description",ref:function(t){return e.hero_description=t}},this.props.subtitle,"..",React.createElement("span",{className:"more_link"},I18n.t("recommenders.modules.hero_document.more"))),React.createElement("div",{className:"hero_star_ratings"},this.render_star_ratings()))}},{key:"get_common_button_data_props",value:function(){return{track:!0,track_rats:"rc",track_uuid:this.props.recommender_uuid}}},{key:"get_read_now_text",value:function(){return{__html:I18n.t("recommenders.modules.hero_document.span_this_props_cta_text_span_classname_visually_hidden_this_props_title_span_now_span_html",{this_props_cta_text:this.props.cta_text,this_props_title:this.props.title})}}},{key:"get_read_url",value:function(){return this.props.under_dunning_lock?void 0:this.props.read_url}},{key:"render_hero_ctas",value:function(){return React.createElement("div",{className:classNames("hero_ctas",{is_audiobook:this.props.is_audiobook})},React.createElement(t.c,{onClick:this.handle_read_redirect_click,href:this.get_read_url(),data_props:this.get_common_button_data_props(),className:classNames("flat_btn read_btn",{slim:this.use_slim_btn()})},React.createElement("span",{dangerouslySetInnerHTML:this.get_read_now_text()})),React.createElement(o.default,l({show_tooltip:this.is_narrow(),show_text:!this.is_narrow()},this.props.save_button_props)))}},{key:"render_hero_information",value:function(){return React.createElement("div",{className:classNames("hero_information",{is_audiobook:this.props.is_audiobook})},this.render_hero_information_link(),this.render_hero_ctas())}},{key:"render_hero_image",value:function(){return React.createElement("a",{className:classNames("hero_image",{is_audiobook:this.props.is_audiobook}),"data-track":!0,"data-track_uuid":this.props.recommender_uuid,href:this.get_read_url(),onClick:this.handle_read_redirect_click},React.createElement(a.a,{alt_text:this.props.title,aria_label_text:this.props.title,image_url:this.props.image_url,lazy_load:!1,retina_image_url:this.props.retina_image_url}))}},{key:"render_content",value:function(){return React.createElement("section",{"aria-labelledby":"section_heading",className:"hero_document_banner"},React.createElement("div",{className:"hero_document_container"},this.render_hero_information(),this.render_hero_image()))}}])&&u(c.prototype,f),m&&u(c,m),r}(r.a);b={under_dunning_lock:!1},(m="defaultProps")in(f=g)?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b,Scribd.addComponent("Recommenders.Modules.HeroDocument",g)}).call(this,n(4))},206:function(e,t){Scribd.Recommenders=Scribd.Recommenders||{},Scribd.Recommenders.Modules=Scribd.Recommenders.Modules||{},Scribd.Recommenders.UI=Scribd.Recommenders.UI||{}},207:function(e,t,n){},208:function(e,t,n){},21:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n(82);var r=n(2),o=n(0),i=n(49);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(t){function n(t){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,i=c(n).call(this,t),r=!i||"object"!==a(i)&&"function"!=typeof i?l(o):i,_(l(r),"set_suggestions_ref",(function(e){r.suggestions_ref=e})),r.enclosing_class("auto__search_input_show"),r.state={focused:!1,keep_suggestions_on_blur:r.props.keep_suggestions_on_blur,query:r.props.query,query_history:r.get_history(),suggested_query:"",suggestion_index:-1,suggestions_xhr:null,suggestion_items:[],trust_suggestion_items:!0,show_suggestions:!1},r.memoized_queries={},r.get_suggestions=e.debounce(r.get_suggestions,180),r}var o,d,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,t),o=n,p=[{key:"get_search_session_id",value:function(){var e=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return JSON.stringify(e)},t=new CookieJar({path:"/"});return t.get("search_session")||t.put("search_session",e()),t.get("search_session")||e()}},{key:"get_pruned_search_html",value:function(e){return e.replace(/<\/?em>/g,"")}}],(d=[{key:"enclosing_element_args",value:function(){return{role:"search"}}},{key:"component_classes",value:function(){return classNames("search_input_container",this.props.extra_classes)}},{key:"componentDidMount",value:function(){$(document.body).on("header:search_page:focus_input",this.focus_search),$(document.body).on("click",this.handle_container_click),document.addEventListener("click",this.handle_hide_suggestions)}},{key:"componentWillUnmount",value:function(){$(document.body).off("header:search_page:focus_input",this.focus_search),$(document.body).off("click",this.handle_container_click),document.removeEventListener("click",this.handle_hide_suggestions)}},{key:"focus_search",value:function(){this.state.focused||this.search_input.focus()}},{key:"handle_hide_suggestions",value:function(e){this.search_form_node&&!this.search_form_node.contains(e.target)&&this.hide_suggestions()}},{key:"handle_container_click",value:function(e){if(this.should_show_suggestions()){this.setState({suggestions_open:!1});var t=this.container;$(e.target).closest(t)[0]||this.suggestions_ref.getBoundingClientRect().bottom>n.HEADER_HEIGHT&&e.preventDefault()}}},{key:"get_history",value:function(){var e=(new Scribd.UI.SearchStorage).read();return e?e.terms:[]}},{key:"invalidate_suggestions_xhr",value:function(){this.setState({suggestions_xhr:null})}},{key:"use_query_history",value:function(){this.setState({query:"",suggestion_items:Array.from(this.state.query_history),trust_suggestion_items:!1,show_suggestions:Array.from(this.state.query_history).length>0})}},{key:"get_suggestions",value:function(t){var n,r=this;this.state.suggestions_xhr&&this.state.suggestions_xhr.abort(),t?this.memoized_queries[t]?this.setState({query:t,suggestion_items:this.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:this.memoized_queries[t].length>0}):((n=$.get("/query_suggestions/web",{query:t},(function(n){n.query_suggestions?(r.memoized_queries[t]=e.map(n.query_suggestions,(function(e){return e.suggestion})),r.setState({suggestion_items:r.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:r.memoized_queries[t].length>0})):r.setState({suggestion_items:[],show_suggestions:!1})}))).always(this.invalidate_suggestions_xhr),this.setState({query:t,suggestions_xhr:n})):this.use_query_history()}},{key:"track_rendered_search_items",value:function(){var e=this.get_input_value(),t=n.get_search_session_id(),r="search:drop_down_suggest:show",o=this.get_page();e?this.track_rats(r,{layout:"query_suggestions",query:e,search_session_id:t,page:o}):this.track_rats(r,{layout:"search_history",query:e,search_session_id:t,page:o})}},{key:"get_suggested_query",value:function(e){return Scribd.Search.Input.Show.get_pruned_search_html(this.state.suggestion_items[e])}},{key:"get_source",value:function(){return this.state.query?"query_suggester":"recent_search"}},{key:"get_page",value:function(){return window.location.pathname.split("/")[1]||"home"}},{key:"get_input_value",value:function(){return this.state.suggestion_index>-1?this.state.suggested_query:this.state.query}},{key:"set_history",value:function(e){e&&((new Scribd.UI.SearchStorage).save_history(e),this.setState({query_history:this.get_history()}))}},{key:"navigate_to_app",value:function(e){window.location.href=this.props.search_url+"?"+$.param(e)}},{key:"navigate_suggestions",value:function(e){var t=Math.min(this.state.suggestion_items.length-1,Math.max(this.state.suggestion_index+e,-1));-1===t?this.setState({suggested_query:"",suggestion_index:t}):this.setState({suggested_query:this.get_suggested_query(t),suggestion_index:t})}},{key:"get_search_params",value:function(e){var t={query:e},n=(new Scribd.UI.SearchStorage).read(),r=n?n.query_preferences:{};return Object.assign({},t,r[e])}},{key:"submit_search",value:function(e,t){var n=this;this.set_history(t);var r=this.get_search_params(t);this.setState({query:t},(function(){n.close_suggestions(),n.navigate_to_app(r)}))}},{key:"close_suggestions",value:function(){this.setState({suggestion_index:-1,suggested_query:"",suggestion_items:[],show_suggestions:!1})}},{key:"should_show_suggestions",value:function(){var e=(this.state.focused||this.props.keep_suggestions_on_blur)&&this.state.suggestion_items.length>0;this.state.show_suggestions!==e&&this.setState({show_suggestions:e})}},{key:"handle_click",value:function(){this.track_rats("search:box:click",{page:this.get_page(),search_session_id:Scribd.Search.Input.Show.get_search_session_id()})}},{key:"handle_close_suggestions_click",value:function(e){e.preventDefault(),this.close_suggestions()}},{key:"handle_search_button_click",value:function(e){this.handle_submit(e)}},{key:"handle_submit",value:function(e){e.preventDefault(),(this.state.suggested_query||this.state.query)&&(-1!==this.state.suggestion_index&&this.track_rats("search:drop_down_suggest:submit",{page:this.get_page(),search_session_id:Scribd.Search.Input.Show.get_search_session_id(),source:this.get_source(),query:this.state.suggested_query}),this.submit_search(e,this.get_input_value()))}},{key:"handle_change",value:function(e){var t=this;e.persist(),this.setState({query:e.target.value,suggestion_index:-1},(function(){t.get_suggestions(e.target.value)}))}},{key:"handle_keydown",value:function(e){var t=Scribd.KeyMappings,n=t.up_arrow,r=t.down_arrow,o=t.esc,i=t.tab;switch(e.keyCode){case n:e.preventDefault(),this.navigate_suggestions(-1);break;case r:e.preventDefault(),this.navigate_suggestions(1);break;case o:e.preventDefault(),this.close_suggestions();break;case i:this.state.suggestion_items.length>0&&(this.close_suggestions(),$(e.currentTarget).focus())}}},{key:"hide_suggestions",value:function(){this.setState({focused:!1,suggestion_index:-1,suggestion_items:[],show_suggestions:!1})}},{key:"handle_focus",value:function(){var e=this;this.setState({focused:!0},(function(){e.get_suggestions(e.state.query)})),this.track_rendered_search_items()}},{key:"render_close_suggestions_btn",value:function(){return React.createElement("button",{type:"button",onClick:this.handle_close_suggestions_click,className:classNames({visible_close_button:this.state.show_suggestions},"close_related_search_button icon-ic_close")},React.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.close_suggestions")))}},{key:"render_visually_hidden_results_count",value:function(){if(this.state.focused){var e=null;return e=this.state.show_suggestions?I18n.t("search.input.show.props_items_length_result_s_are_available_use_up",{props_items_length:this.state.suggestion_items.length}):I18n.t("search.input.show.no_search_results"),React.createElement("span",{className:"visually_hidden","aria-atomic":"true",role:"status","aria-live":"polite",id:"aria_live_status_container"},e)}}},{key:"render_suggestions",value:function(){if(this.state.show_suggestions)return React.createElement(i.a,{handle_click:this.submit_search,items:this.state.suggestion_items,label_text:0===this.state.query.length?I18n.t("search.input.show.recent_searches"):null,list_id:"suggestions_list",page:this.get_page(),query:this.state.query,selected_index:this.state.suggestion_index,source:this.get_source(),trust:this.state.trust_suggestion_items,set_suggestions_ref:this.set_suggestions_ref})}},{key:"render_content",value:function(){var e=this,t=this.get_input_value(),n=this.props.placeholder_text||I18n.t("search.input.show.search"),o=this.render_close_suggestions_btn();return React.createElement("form",{className:"search_form",autoComplete:"off",onSubmit:this.handle_submit,ref:function(t){return e.search_form_node=t}},React.createElement("label",null,React.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.search")),React.createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off",className:classNames("search_input",{focused:this.state.focused}),name:"query",onChange:this.handle_change,onClick:this.handle_click,onFocus:this.handle_focus,onKeyDown:this.handle_keydown,placeholder:this.state.focused?null:n,type:"search",value:t,ref:function(t){e.search_input=t}})),React.createElement(r.c,{className:"search_button no_spinner",onClick:this.handle_search_button_click,type:"submit",node_ref:function(t){return e.search_button=t}},this.render_icon("search search_icon"),this.render_visually_hidden(I18n.t("search.input.show.search"))),this.render_suggestions(),o,this.render_visually_hidden_results_count())}}])&&s(o.prototype,d),p&&s(o,p),n}(o.a);_(d,"defaultProps",{keep_suggestions_on_blur:!1,query:"",placeholder_text:null}),_(d,"HEADER_HEIGHT",62),Scribd.addComponent("Search.Input.Show",d)}).call(this,n(4))},210:function(e,t,n){var r;n(211),n(151),r=function(e){this.container=$(e),this.article_text=this.container.find(".article_text"),this.article_text.dotdotdot()},Scribd.addComponent("Recommenders.Modules.ArticleRow",r)},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}};n(33),r=function(){function e(e,t){var n;this.opts=null!=t?t:{},this.track_recommendations=o(this.track_recommendations,this),this.ready=o(this.ready,this),this.container=$(e),this.opts.on_in_view||(this.opts.on_in_view=(n=this,function(e){return n.tracking=e,n.track_recommendations(n.container.find("[data-track_uuid]"))})),this.ready()}return e.prototype.ready=function(){return new Scribd.RecommendationTracking.Module(this.container,{compilation_id:this.opts.compilation_id,widget_name:this.opts.widget_name,module_id:this.opts.module_id,on_in_view:this.opts.on_in_view})},e.prototype.track_recommendations=function(e){return $(e).each((t=this,function(e,n){return $(n).one("inview",(function(){return Scribd.RecommendationTracking.track_obj_view(t.tracking.view_id,$(n).data("track_uuid"))}))}));var t},e}(),Scribd.addComponent("Recommenders.Modules.Base",r)},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0);n(84);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__shared_react_persona_icon"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return classNames("persona_icon",this.props.size,this.props.extra_css_classes,{"icon-ic_user_circle":!this.props.author&&!this.props.image_url})}},{key:"enclosing_element_args",value:function(){return{"aria-hidden":!0}}},{key:"render_initials",value:function(){if(!this.props.image_url&&this.props.author)return React.createElement("span",{key:"initials","aria-hidden":"true"},this.props.initials)}},{key:"render_image",value:function(){if(this.props.image_url)return React.createElement("img",{key:"image",src:this.props.image_url,srcSet:"".concat(this.props.retina_image_url," 2x"),alt:""})}},{key:"render_content",value:function(){return[this.render_image(),this.render_initials()]}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);Scribd.addComponent("Shared.React.PersonaIcon",l)},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){var r={}.hasOwnProperty;n(226),Scribd.Recommenders.Modules.ProfileBanner=function(e){function t(e,n){this.opts=null!=n?n:{},t.__super__.constructor.call(this,e,this.opts),this.setup_events()}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,Scribd.Recommenders.Modules.Base),t.prototype.setup_events=function(){var e;return e=this.container.find(".description_wrapper"),this.container.dispatch("click",{read_more:function(t){return e.toggleClass("show_full")},read_less:function(t){return e.toggleClass("show_full")}})},t}()},226:function(e,t,n){},227:function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty;n(228),Scribd.Recommenders.Modules.Promo=function(e){function t(e,n){this.opts=null!=n?n:{},this.track_view=r(this.track_view,this),t.__super__.constructor.apply(this,arguments),this.setup_events()}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Scribd.Recommenders.Modules.Base),t.prototype.setup_events=function(){return this.container.one("inview",this.track_view),this.container.dispatch("click",{close_btn:(e=this,function(t){return e.close()}),bundles_promo:function(e){return function(t){return e.container.track_rats("bundles:banner:click"),"continue"}}(this)});var e},t.prototype.close=function(){return this.container.trigger("close_promo_wrapper"),this.container.hide(),$.ajax({type:"POST",url:this.opts.close_url,data:{id:this.opts.promo_id}})},t.prototype.track_view=function(e,t){var n,r,o,i,a;if(t){for(this.container.track_rats(this.opts.promo_type+":banner:view",{loc:this.opts.track_category}),a=[],n=0,o=(i=this.container[0].querySelectorAll("img[data-src]")).length;n<o;n++)r=i[n],a.push(r.src=r.dataset.src);return a}},t}()},228:function(e,t,n){},229:function(e,t,n){var r={}.hasOwnProperty;n(230),Scribd.Recommenders.Modules.PublicationList=function(e){function t(e){this.container=$(e),this.setup_click_events()}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,Scribd.Recommenders.Modules.Base),t.prototype.setup_click_events=function(){return this.container.dispatch("click",{open_lightbox:function(e,t){return t.preventDefault(),Scribd.Lightbox.open("publications_dialog")}})},t}()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(22),o=n(0),i=n(24),a=n(2);n(85);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,_(t).call(this,e))).enclosing_class("auto__shared_user_menu_button"),n.state={menu_open:n.props.user_menu_open},n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){$(document.body).on("click",this.handle_body_click)}},{key:"componentWillUnmount",value:function(){$(document.body).off("click",this.handle_body_click)}},{key:"handle_body_click",value:function(e){var t=$(e.target).closest(".user_menu, .user_row, .user_util, .user_util_btn").length>0;this.menu_open()&&!t&&this.close_menu()}},{key:"menu_open",value:function(){return this.props.handle_externally?this.props.user_menu_open:this.state.menu_open}},{key:"handle_join_click",value:function(e){e.preventDefault(),Scribd.SignIn.open({initial_view:"join",next_url:this.props.subscribe_url,join_type:"pmp",track_location:"header"})}},{key:"handle_login_click",value:function(e){e.preventDefault(),Scribd.SignIn.open({initial_view:"login",track_location:"header",subscribe_url:this.props.subscribe_url})}},{key:"close_menu",value:function(){this.props.handle_click&&this.props.handle_click(!1),this.setState({menu_open:!1},this.user_util_btn_ref.focus())}},{key:"toggle_menu",value:function(e){if(e.preventDefault(),this.props.handle_click){var t=this.menu_open();this.props.handle_click(!t)}this.props.handle_externally||this.setState({menu_open:!this.menu_open()})}},{key:"render_user_button",value:function(){return this.props.icon_button?React.createElement("button",{type:"button",key:"icon_button",className:"responsive_sign_in_overflow user_util_btn icon_button",onClick:this.toggle_menu},React.createElement("span",{className:"overflow_icon icon-ic_overflowmenu"})):this.props.logged_out?this.render_logged_out_buttons():this.render_logged_in_button()}},{key:"render_logged_out_buttons",value:function(){return React.createElement("div",{key:"logged_out_buttons",className:"signup_buttons flex_row"},this.render_sign_in_button(),this.render_join_button())}},{key:"render_sign_in_button",value:function(){return React.createElement(a.c,{className:"outline_btn sign_in_button",href:this.props.subscribe_url,key:"sign_in_button",text:I18n.t("shared.user_menu.button.sign_in"),onClick:this.handle_login_click})}},{key:"render_join_button",value:function(){return React.createElement(a.c,{className:"outline_btn join_button",href:this.props.subscribe_url,text:I18n.t("shared.user_menu.button.join"),key:"join_button",onClick:this.handle_join_click})}},{key:"render_arrow",value:function(){if(!this.props.no_arrow)return React.createElement("span",{className:"icon icon-ic_dropdown_alt down_arrow arrow user_util"})}},{key:"render_logged_in_button",value:function(){var e=this;if(this.props.persona_icon_props)return React.createElement("a",{className:"user_util user_util_btn",href:"#user-util-view-profile","aria-label":I18n.t("shared.user_menu.button.user_settings"),"aria-expanded":this.menu_open(),onClick:this.toggle_menu,key:"logged_in_button",ref:function(t){return e.user_util_btn_ref=t}},React.createElement("div",{className:"button_content flex_row"},React.createElement(r.a,this.props.persona_icon_props),this.render_arrow()))}},{key:"render_menu",value:function(){if(this.menu_open())return React.createElement(i.a,c({key:"menu"},this.props.user_menu_props,{from_sidebar:this.props.from_sidebar,from_hybrid:this.props.from_hybrid,handle_close:this.close_menu}))}},{key:"render_content",value:function(){return[this.render_user_button(),this.render_menu()]}}])&&l(n.prototype,o),s&&l(n,s),t}(o.a);Scribd.addComponent("Shared.UserMenu.Button",p)},230:function(e,t,n){},231:function(e,t,n){var r={}.hasOwnProperty;n(232),Scribd.Recommenders.Modules.PublicationsCarousel=function(e){function t(e,n){this.container=e,this.opts=null!=n?n:{},this.container=$(this.container),this.setup_click_events(),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,Scribd.UI.Carousel),t.prototype.setup_click_events=function(){return this.container.dispatch("click",{open_lightbox:function(e,t){return t.preventDefault(),Scribd.Lightbox.open("publications_dialog")}})},t}()},232:function(e,t,n){},233:function(e,t,n){(function(e){var t={}.hasOwnProperty;n(234),Scribd.Recommenders.Modules.SidebarDocumentCells=function(n){function r(e,t){var n;this.opts=null!=t?t:{},r.__super__.constructor.call(this,e,this.opts),this.container.find("img[data-src]").one("inview",(n=this,function(e){return n.show_image(e.currentTarget)}))}return function(e,n){for(var r in n)t.call(n,r)&&(e[r]=n[r]);function o(){this.constructor=e}o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype}(r,Scribd.Recommenders.Modules.Base),r.prototype.show_image=function(e){var t,n,r,o;if(n=(t=(e=$(e)).data()).src,r=t.srcset,n)return e.attr("src",""),e.on("load",(o=this,function(t){return o._load_queue||(o._load_queue=[]),o._load_queue.push(e[0]),o.flush_images()})),e.attr("src",n),e.attr("srcset",r),e.removeData("src"),e.removeData("srcset")},r.prototype.flush_images=function(){var t,n;return n=this,t=function(){var e;if(null!=(e=n._load_queue)?e.length:void 0)return $(n._load_queue).addClass("loaded"),n._load_queue=[]},this.flush_images=e.debounce(t,10),this.flush_images()},r}()}).call(this,n(4))},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},24:function(e,t,n){"use strict";var r=n(7),o=n.n(r);t.a=o()({loader:function(){return n.e(62).then(n.bind(null,171))},loading:function(){return null}})},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0);n(175);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,_(t).call(this,e))).enclosing_class("auto__shared_react_document_image"),n.state={loaded:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return classNames(e,"react_document_image")}},{key:"componentDidMount",value:function(){if(this.props.lazy_load&&!this.props.use_in_carousel)return $(this.container).one("inview",this.handle_load)}},{key:"componentWillUnmount",value:function(){if(this.props.lazy_load&&!this.props.use_in_carousel)return $(this.container).off("inview",this.handle_load)}},{key:"handle_load",value:function(e,t){t&&this.setState({loaded:!0})}},{key:"get_image_opts",value:function(){var e=this.retina_image_url(),t={"aria-label":this.props.aria_label_text,role:this.props.role};return!this.state.loaded&&this.props.lazy_load||this.props.use_in_carousel?s({},t,{"data-src":this.props.image_url,"data-srcset":e}):s({},t,{className:"loaded",src:this.props.image_url,srcSet:e})}},{key:"retina_image_url",value:function(){return this.props.retina_image_url?"".concat(this.props.retina_image_url," 2x"):""}},{key:"render_content",value:function(){return React.createElement("img",i({},this.get_image_opts(),{alt:this.props.alt_text}))}}])&&l(n.prototype,r),o&&l(n,o),t}(r.a);Scribd.addComponent("Shared.React.DocumentImage",p)},250:function(e,t,n){},251:function(e,t,n){},26:function(e,t,n){(function(e){Scribd.scroll_to=function(e,t,n,r,o){o||(o="scrollTop"),r||(r=1e3);var i=null,a=e[o],s=t-a;window.requestAnimationFrame((function t(c){i||(i=c);var l=c-i;e[o]=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}(l,a,s,r),l<r?window.requestAnimationFrame(t):"function"==typeof n&&n()}))},Scribd.addComponent=function(e,t){var n=Scribd,r=e.split(/\/|\./),o=r.pop();r.length>0&&r.reduce((function(e,t){return void 0===e[t]&&(e[t]={}),n=e[t]}),Scribd),n[o]&&null===Scribd.rails_env.match(/production/)&&console.error("Whoops! "+e+" is already defined. Make sure you're not overwriting something!"),n[o]=t},Scribd.update_polite_live_region=function(e,t){if(this.memo=this.memo||{},this.memo[t]!==e){this.memo[t]=e;var n=t?$(document.body).find("#"+t+"[aria-live*='polite']"):$(document.body).find("[aria-live*='polite']");if(n.length>0)setTimeout((function(){$(n[0]).text(e)}),250);else{var r=$("<span class='visually_hidden polite_aria_live_region' role='status' aria-live='polite' aria-atomic='true'></span>");t&&r.attr("id",t),r.text(e),$(document.body).append(r)}}},Scribd.KeyMappings={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,"caps lock":20,esc:27,space:32,page_up:33,page_down:34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window_key:91,right_window_key:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,numpad_4:100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,subtract:109,decimal_point:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,back_slash:220,close_bracket:221,single_quote:222},Scribd.localize_utc_date=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return"";(e=e.replace(/-/g,"/")).match(/UTC/)||null===Scribd.rails_env.match(/production/)&&console.error("Date may not be a UTC date");var r=new Date(e),o=r.getTimezoneOffset(),i=new Date(r.getTime()+6e4*o);try{i=i.toLocaleDateString(t,n)}catch(e){console.error("could not read locale, using default"),i=i.toLocaleDateString()}return i},Scribd.setup_cookie_jar=function(){return new CookieJar({domain:window.location.host,expires:31536e4,path:"/"})},
/*!
 * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
Scribd.deparam=function(t,n){var r={},o={true:!0,false:!1,null:null};return e.each(t.replace(/\+/g," ").split("&"),(function(t){var i,a=t.split("="),s=decodeURIComponent(a[0]),c=r,l=0,u=s.split("]["),_=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[_])?(u[_]=u[_].replace(/\]$/,""),_=(u=u.shift().split("[").concat(u)).length-1):_=0,2===a.length)if(i=decodeURIComponent(a[1]),n&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==o[i]?o[i]:i),_)for(;l<=_;l++)c=c[s=""===u[l]?c.length:u[l]]=l<_?c[s]||(u[l+1]&&isNaN(u[l+1])?{}:[]):i;else e.isArray(r[s])?r[s].push(i):void 0!==r[s]?r[s]=[r[s],i]:r[s]=i;else s&&(r[s]=n?void 0:"")})),r};var t=function(e,t){var n=e.getBoundingClientRect(),r=n.top<=t.bottom,o=n.bottom>=t.top,i=n.right>=t.left,a=n.left<=t.right,s=null!==e.offsetParent&&n.width>0&&n.height>0;return r&&o&&i&&a&&s};Scribd.in_view=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight};return n===window?t(e,r):t(n,r)&&t(e,n.getBoundingClientRect())}}).call(this,n(4))},28:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));n(113);var r=n(6),o=n(2),i=n(16),a=n(1);n(26);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,p,h,f=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,u(n).call(this,e))).enclosing_class("auto__shared_login_join_lightbox"),t.state={errors:[],hidden_error:""},t}var r,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,t),r=n,(s=[{key:"componentDidMount",value:function(){var t=this,n=$(this.container);e.defer((function(){t.trigger(a.e,a.t)})),n.find("input").on("focus",this.handle_input_focus),n.find("input").on("blur",this.handle_input_blur)}},{key:"componentWillUnmount",value:function(){var e=$(this.container);e.find("input").off("focus",this.handle_input_focus),e.find("input").off("blur",this.handle_input_blur)}},{key:"componentDidUpdate",value:function(t,n){if(e.difference(this.state.errors,n.errors).length>0){var r="";this.state.errors.forEach((function(e){r+="".concat(e.message," ")})),this.setState({hidden_error:r})}}},{key:"component_classes",value:function(){return classNames("lightbox_join_archive",{have_email:"have_email"===this.props.type})}},{key:"handle_error_response",value:function(e){e.errors.length&&this.handle_error(e.errors[0])}},{key:"handle_error",value:function(e){if(e){var t,n=$(this.container),r=e.msg||I18n.t("shared.login.join_lightbox.we_couldn_t_complete_your_request"),o=e.input_name,i=[{input:o,message:r}];if("email_taken"===r)return t=e.data&&e.data.email?e.data.email:n.find("[name='email_address[email]']").val(),this.trigger(a.e,a.g,{error_type:"existing_email",error_message:r}),void this.trigger("login:show_have_email",t);this.trigger(a.e,a.g,{error_type:o,error_message:r}),this.setState({errors:i,loading:!1})}}},{key:"handle_input_focus",value:function(e){$(e.currentTarget).data("initial_val",$(e.currentTarget).val().trim())}},{key:"handle_input_blur",value:function(e){var t=$(e.currentTarget);this.state.loading||t.data("ignore_blur")||t.val().trim()!==t.data("initial_val")&&this.validate(!1,t.attr("name"))}},{key:"handle_form_submit_success",value:function(e){return e.errors?(this.handle_error_response(e),!1):(this.trigger(a.e,a.s,{method:a.a}),this.trigger(a.d,this.props.type,e),!1)}},{key:"handle_form_submit_error",value:function(){this.setState({loading:!1,errors:[{input:null,message:I18n.t("shared.login.join_lightbox.we_couldn_t_complete_your_request")}]})}},{key:"focus_error",value:function(e){var t=$(this.container),n=t.find("input:focus").data("ignore_blur",!0);t.focus();var r=t.find("[name='".concat(e.input,"']"));setTimeout((function(){r.focus(),n.data("ignore_blur",!1)}),150)}},{key:"render_content",value:function(){return[this.render_header(),this.render_alt_logins(),this.render_hidden_errors(),this.render_form()]}},{key:"render_form",value:function(){switch(this.props.type){case"login":return this.render_form_tag("login_form",this.render_login_form());case"join":return this.render_form_tag("join_form",this.render_join_form());case"have_email":return this.render_form_tag("password_form",this.render_password_form());default:return}}},{key:"render_alt_logins",value:function(){if("have_email"!==this.props.type)return[React.createElement("div",{key:"facebook_row",className:"facebook_row"},this.render_facebook_button()),React.createElement("div",{key:"google_row",className:"google_row"},this.render_google_button()),React.createElement("div",{key:"break",className:"break"},React.createElement("span",null,I18n.t("shared.login.join_lightbox.or_with_email")))]}},{key:"render_hidden_errors",value:function(){return React.createElement("div",{key:"hidden_errors",id:"hidden_errors",className:"visually_hidden","aria-live":"polite","aria-atomic":"true"},this.state.hidden_error)}},{key:"get_archive_header",value:function(e){return e.is_pmp?I18n.t("shared.login.join_lightbox.sign_in_to_try_scribd_for"):e.is_archived?I18n.t("shared.login.join_lightbox.sign_up_today_for_unlimited_downloads_"):I18n.t("shared.login.join_lightbox.sign_up_to_download_document_title",{document_title:e.title})}},{key:"get_header_sub_title",value:function(){var e="";return"have_email"===this.props.type&&(e=I18n.t("shared.login.join_lightbox.this_email_address_already_has_an")),e}},{key:"get_default_join_header_text",value:function(){var e="";if("pmp"===this.props.join_type)e=I18n.t("shared.login.join_lightbox.join_today_and_read_free_for");else if("archive"===this.props.join_type){var t=Scribd.current_doc;e=t?this.get_archive_header(t):I18n.t("shared.login.join_lightbox.sign_in_or_join_to_continue")}else e=I18n.t("shared.login.join_lightbox.sign_up_to_start_your_free");return e}},{key:"get_header_main_title",value:function(){var e="";switch(this.props.type){case"login":e=this.props.login_header_text||I18n.t("shared.login.join_lightbox.sign_in_");break;case"join":e=this.props.join_header_text||this.get_default_join_header_text();break;case"have_email":e=I18n.t("shared.login.join_lightbox.welcome_back")}return e}},{key:"render_header",value:function(){var e,t,n=this.get_header_main_title(),r=this.get_header_sub_title();return"have_email"===this.props.type&&(e=React.createElement("strong",{className:"current_email"},this.props.email)),r&&(t=React.createElement("div",{className:"sub_title"},r)),React.createElement("div",{key:"header"},React.createElement("h2",{className:"title",id:this.uid("lb_labelledby")},n),e,t)}},{key:"handle_show_join_click",value:function(e){this.trigger(a.e,a.p),this.trigger("login:show_join"),e.preventDefault()}},{key:"handle_show_login_click",value:function(e){this.trigger(a.e,a.q),this.trigger("login:show_login"),e.preventDefault()}},{key:"render_password_form",value:function(){return[React.createElement("input",{type:"hidden",name:"login_or_email",value:this.props.email,key:"pass0"}),React.createElement("div",{className:"inputs",key:"pass1"},this.render_input_row({required:!0,hide_required:!0,type:"password",className:"input",name:"login_password",label:I18n.t("shared.login.join_lightbox.password")})),React.createElement("div",{className:"button_container",key:"pass2"},React.createElement(o.c,{type:"submit",className:"submit_btn",text:I18n.t("shared.login.join_lightbox.sign_in"),loading:this.state.loading}),React.createElement(o.c,{className:"text_btn forgot_password_btn no_spinner",href:"#",onClick:this.handle_forgot_password_click,text:I18n.t("shared.login.join_lightbox.forgot_password")})),React.createElement("div",{className:"login_alt",key:"pass3"},React.createElement(o.c,{href:"#",className:"text_btn last_lb_item no_spinner",onClick:this.handle_show_join_click,text:I18n.t("shared.login.join_lightbox.join_with_another_email_address")}))]}},{key:"render_join_form",value:function(){return React.createElement("fieldset",{className:"join_form_fields"},React.createElement("legend",{className:"visually_hidden"},I18n.t("shared.login.join_lightbox.sign_up_with_email")),React.createElement("div",{className:"inputs"},this.render_input_row({required:!0,hide_required:!0,type:"text",className:"input username_input",name:"word_user[name]",label:I18n.t("shared.login.join_lightbox.name"),maxLength:50}),this.render_input_row({required:!0,hide_required:!0,type:"text",ref:"email_input",className:"input email_input",name:"email_address[email]",label:I18n.t("shared.login.join_lightbox.email")}),this.render_input_row({required:!0,hide_required:!0,type:"password",className:"input password_input",name:"word_user[password]",label:I18n.t("shared.login.join_lightbox.password"),help_text:" "+I18n.t("shared.login.join_lightbox.at_least_6_characters")})),React.createElement("label",{className:"join_option"},React.createElement("input",{type:"checkbox",defaultChecked:this.props.optin,name:"optin",value:"y"}),React.createElement("span",null,I18n.t("shared.login.join_lightbox.send_me_updates_from_scribd"))),React.createElement("div",{className:"button_container"},React.createElement(o.c,{type:"submit",className:"submit_btn",text:I18n.t("shared.login.join_lightbox.sign_up"),loading:this.state.loading})),this.render_disclaimer(),React.createElement("div",{className:"login_alt"},React.createElement("div",null,I18n.t("shared.login.join_lightbox.already_have_an_account")+" ",React.createElement("a",{href:"#",className:"last_lb_item",onClick:this.handle_show_login_click},I18n.t("shared.login.join_lightbox.sign_in")))))}},{key:"handle_forgot_password_click",value:function(e){this.trigger(a.e,a.k),this.trigger("login:show_forgot_password"),e.preventDefault()}},{key:"render_login_form",value:function(){return React.createElement("fieldset",{className:"login_form_fields"},React.createElement("legend",{className:"visually_hidden"},I18n.t("shared.login.join_lightbox.sign_in_with_email")),React.createElement("div",{className:"inputs"},this.render_input_row({required:!0,hide_required:!0,type:"text",className:"input username_input",name:"login_or_email",label:I18n.t("shared.login.join_lightbox.email")}),this.render_input_row({required:!0,hide_required:!0,type:"password",className:"input password_input",name:"login_password",label:I18n.t("shared.login.join_lightbox.password")})),React.createElement("div",{className:"form_options"},React.createElement("label",{className:"remember_me"},React.createElement("input",{type:"checkbox",name:"rememberme",defaultChecked:!0}),React.createElement("span",{className:"label_text"},I18n.t("shared.login.join_lightbox.remember_me")))),React.createElement("div",{className:"button_container"},React.createElement(o.c,{type:"submit",className:"submit_btn",text:I18n.t("shared.login.join_lightbox.sign_in"),loading:this.state.loading})),React.createElement("a",{href:"#",className:"forgot_password",onClick:this.handle_forgot_password_click},I18n.t("shared.login.join_lightbox.forgot_password")),React.createElement("div",{className:"login_alt"},I18n.t("shared.login.join_lightbox.new_to_scribd")+" ",React.createElement("a",{href:"#",className:"join_today_link last_lb_item",onClick:this.handle_show_join_click},I18n.t("shared.login.join_lightbox.sign_up"))))}},{key:"get_form_action",value:function(){switch(this.props.type){case"login":case"have_email":return this.props.login_path;default:return this.props.login_signup_path}}},{key:"handle_form_submit",value:function(e){var t=this;e.preventDefault(),this.trigger(a.e,a.r);var n=$(this.container);if(n.find("input[name*=password]").attr("type","password"),!this.validate(!0))return e.stopPropagation(),!1;for(var r,o={},i=n.find("input"),s=0;s<i.length;s++)("checkbox"!==(r=i[s].getAttribute("type"))||"checkbox"===r&&i[s].checked)&&(o[i[s].name]=i[s].value);o.signup_location=document.location.href,$.ajax({type:"post",url:n.find("form").attr("action"),data:o,success:this.handle_form_submit_success,error:this.handle_form_submit_error,always:function(){t.setState({loading:!1,errors:t.state.errors})}}),this.setState({loading:!0,errors:[]})}},{key:"render_form_tag",value:function(e,t){return React.createElement("form",{key:e,action:this.get_form_action(),method:"post",className:classNames(e,"form"),"data-type":!0,onSubmit:this.handle_form_submit},this.render_login_params(),t)}},{key:"render_login_params",value:function(){var e,t=[];for(var n in this.props.login_params)e=this.props.login_params[n],t.push(React.createElement("input",{type:"hidden",name:"this.props.login_params[".concat(n,"]"),value:e,key:"input-".concat(n)}));return t}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.state.loading){var n="validate_".concat(this.props.type);return"function"==typeof this[n]?this[n](e,t):(console.info("no method to validate login form of type '".concat(this.props.type,"'")),!0)}}},{key:"validate_login",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=$(this.container),o=r.find("input[name=login_or_email]").val().trim();r.find("input[name=login_password]").val().trim();var i=[];return n&&(i=e.reject(this.state.errors,(function(e){e.input}))),!e.isEmpty(o)||n&&"login_or_email"!==n||i.push({input:"login_or_email",message:I18n.t("shared.login.join_lightbox.please_enter_an_email")}),i.length&&(this.setState({errors:i,loading:!1}),t&&this.focus_error(i[0])),!i.length}},{key:"validate_join",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=$(this.container),o=r.find("input[name='word_user[name]']").val().trim(),a=r.find("input[name='email_address[email]']").val().trim(),s=r.find("input[name='word_user[password]']").val().trim(),c=[];return n&&(c=e.reject(this.state.errors,(function(e){e.input}))),n&&"word_user[name]"!==n||(e.isEmpty(o)?c.push({input:"word_user[name]",message:I18n.t("shared.login.join_lightbox.please_enter_a_name")}):i.b.test(o)||c.push({input:"word_user[name]",message:I18n.t("shared.login.join_lightbox.invalid_character_in_name_please_remove")})),n&&"email_address[email]"!==n||(e.isEmpty(a)?c.push({input:"email_address[email]",message:I18n.t("shared.login.join_lightbox.please_enter_a_valid_email")}):i.a.test(a)||c.push({input:"email_address[email]",message:I18n.t("shared.login.join_lightbox.that_doesn_t_appear_to_be_a")})),!(e.isEmpty(s)||s.length<6)||n&&"word_user[password]"!==n||c.push({input:"word_user[password]",message:I18n.t("shared.login.join_lightbox.please_enter_a_password_that_is")}),this.setState({errors:c,loading:!1}),c.length&&t&&this.focus_error(c[0]),!c.length}},{key:"validate_have_email",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=$(this.container).find("input[name='login_password']").val().trim(),o=[];return n&&(o=e.reject(this.state.errors,(function(e){e.input}))),e.isEmpty(r)&&o.push({input:"login_password",message:I18n.t("shared.login.join_lightbox.please_enter_password_to_sign_in")}),this.setState({errors:o}),o.length&&t&&this.focus_error(o[0]),!o.length}}])&&c(r.prototype,s),d&&c(r,d),n}(r.a);h={join_type:"pmp",login_params:{},optin:!0},(p="defaultProps")in(d=f)?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h}).call(this,n(4))},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s}));var r="extra_narrow",o="narrow",i="medium",a="wide",s="extra_wide"},30:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));n(110);var r=n(0),o=n(2),i=n(35);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(t){function n(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,u(n).call(this,e))).enclosing_class("auto__shared_react_forms_text_input"),t.state={focus:!1,show_password:!1},e.input_mask){var r=e.input_mask,o=r.pattern,a=r.placeholder;t.input_mask=new i.a(o,a,e.input_mask_definitions,t.set_value)}return t}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,t),r=n,(a=[{key:"component_classes",value:function(){return"text_input_component"}},{key:"componentDidUpdate",value:function(e){var t=!e.input_mask&&this.props.input_mask,n=e.input_mask&&this.props.input_mask&&e.input_mask.pattern!==this.props.input_mask.pattern;if(t||n){var r=this.props.input_mask,o=r.pattern,a=r.placeholder;this.input_mask=new i.a(o,a,this.props.input_mask_definitions)}else this.props.input_mask||(this.input_mask=null)}},{key:"toggle_show_password",value:function(){this.setState({show_password:!this.state.show_password})}},{key:"toggle_focus",value:function(){this.setState({focus:!this.state.focus})}},{key:"handle_focus",value:function(e){this.toggle_focus(),this.props.onFocus(e)}},{key:"handle_blur",value:function(e){this.toggle_focus(),this.props.onBlur(e)}},{key:"handle_change",value:function(e){if(!this.props.input_mask)return this.props.onChange(e);e.preventDefault();var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.target.value;if(n.length<this.props.value.length){var r=this.input_mask.delete_character(t);r&&(n=r)}else n=this.input_mask.update_value(n);t.target.value=n,this.props.onChange(t)}},{key:"render_show_button",value:function(){var e=this.state.show_password?I18n.t("shared.react.forms.text_input.hide"):I18n.t("shared.react.forms.text_input.show"),t=classNames("text_btn password_toggle_btn no_spinner",{hide:this.state.show_password});return React.createElement(o.c,{className:t,onClick:this.toggle_show_password},React.createElement("span",{key:"copy",className:"password_action"},e),React.createElement("span",{key:"pw",className:"visually_hidden"},I18n.t("shared.react.forms.text_input.password")))}},{key:"render_visually_hidden_required",value:function(){if(this.props.required)return React.createElement("em",{className:classNames("input_required",{visually_hidden:this.props.hide_required})},I18n.t("shared.react.forms.text_input.required"))}},{key:"render_input_mask",value:function(){var e=this.props,t=e.input_mask,n=e.value;if(t&&this.state.focus){var r=t.placeholder.substr(n.length);return React.createElement("div",{className:"input_mask","aria-hidden":"true"},React.createElement("i",null,n),r)}}},{key:"render_content",value:function(){var t=[],n=e.where(this.props.errors,{input:this.props.name}),r=n.length,o={id:this.props.id,name:this.props.name,type:this.props.type,className:classNames(this.props.className||{},{field_err:r,disabled:this.props.disabled,has_input_mask:this.props.input_mask}),placeholder:this.props.placeholder,disabled:this.props.disabled,value:this.props.value,onChange:this.handle_change,onFocus:this.handle_focus,onBlur:this.handle_blur,ref:this.props.input_ref,maxLength:this.props.maxLength,onKeyUp:this.props.onKeyUp,onKeyDown:this.props.onKeyDown};return o.id=o.id?o.id:this.props.name,"password"===this.props.type&&this.state.show_password&&(o.type="text"),r&&(t=n.map((function(e,t){return React.createElement("span",{key:t,className:"error_msg"},React.createElement("span",{className:"icon-ic_warn","aria-hidden":"true"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.forms.text_input.error")+" "),React.createElement("span",null,e.message))}))),React.createElement("div",{className:classNames("input_row",o.name,o.type,this.props.type,this.props.wrapper_class,{has_error:r})},React.createElement("label",{htmlFor:o.id},this.render_label_text(),r?React.createElement("strong",{className:"visually_hidden"},I18n.t("shared.react.forms.text_input.invalid"),","):null,this.props.help_text&&React.createElement("span",{className:"help"},this.props.help_text),this.props.children,React.createElement("div",{className:"input_wrapper"},this.props.input_children,React.createElement("input",o),"password"===this.props.type&&this.render_show_button(),this.render_input_mask()),t))}},{key:"render_label_text",value:function(){var e=this.props,t=e.label,n=e.hide_label,r=e.use_asterisk,o=e.show_optional_label,i=e.required;if(t){var a,s,c="".concat(this.props.label," ");return o&&!i&&(a=React.createElement("span",{className:"optional"},I18n.t("shared.react.forms.text_input.optional"))),r&&(s=React.createElement("span",{className:"asterisk_require"},"*")),React.createElement("span",{className:classNames("label_text",{visually_hidden:n})},c,a,s,this.render_visually_hidden_required())}}}])&&c(r.prototype,a),p&&c(r,p),n}(r.a);d(p,"defaultProps",{disabled:!1,help_text:"",hide_required:!1,input_mask_definitions:{"*":".","#":"[0-9]",A:"[a-zA-Z]",X:"[a-zA-Z0-9]"},input_ref:null,label:"",onBlur:function(){},onChange:function(){},onFocus:function(){},required:!1,show_optional_label:!1,type:"text",value:void 0}),Scribd.addComponent("Shared.React.Forms.TextInput",p)}).call(this,n(4))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(91);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c,l,u,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_react_forms_radio"),n.state={focused:!1},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"handle_focus",value:function(){this.setState({focused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus()}},{key:"handle_blur",value:function(){this.setState({focused:!1})}},{key:"component_classes",value:function(){return classNames(this.props.class,"radio_component",{focused:this.state.focused},{with_description:this.props.description})}},{key:"render_content",value:function(){var e=this.props,t=e.onChange,n=e.label_text,r=e.description,o=e.value,i=e.disabled,a=e.selected,s=a?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty",c=r?React.createElement("span",{className:"description",id:this.uid("description")},r):null;return React.createElement("label",{className:classNames("radio_label ".concat(s),{checked:a},{focused:this.state.focused},{with_description:r}),htmlFor:this.props.id||this.uid(o),onFocus:this.handle_focus,onBlur:this.handle_blur,onKeyDown:this.props.onKeyDown},React.createElement("input",{id:this.props.id||this.uid(o),onChange:t,type:"radio",value:o,checked:a,disabled:i,name:this.props.name,className:"radio_input visually_hidden radio","aria-describedby":r?this.uid("description"):null}),n?React.createElement("span",{className:classNames("input_text",this.props.label_text_class)},n):null,c,this.props.children)}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);u={options:[],description:"",class:"",label_text:""},(l="defaultProps")in(c=_)?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,Scribd.addComponent("Shared.React.Forms.Radio",_)},32:function(e,t,n){"use strict";n.r(t);n(145);var r=n(0),o=n(2),i=(n(146),n(10)),a=n(57),s=n(66);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,_(t).call(this,e))).enclosing_class("auto__shared_react_lists_modals_delete_item_in_list"),n.state={selected:!1},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;return $(this.container).on("Scribd:lightbox:closed",(function(){e.handle_loading(!1)}))}},{key:"handle_loading",value:function(e){"function"==typeof this.props.on_loading&&this.props.on_loading(e)}},{key:"handle_checked",value:function(e){e.persist(),this.setState({selected:e.target.checked},(function(){new CookieJar({expires:""}).put("library:confirm_delete_item_in_list",!e.target.checked)}))}},{key:"handle_cancel_button_click",value:function(e){e.preventDefault(),Scribd.StackedLightbox.close(),this.handle_loading(!1)}},{key:"handle_confirm_click",value:function(e){e.preventDefault(),Scribd.StackedLightbox.close(),"function"==typeof this.props.on_confirm&&this.props.on_confirm(),this.handle_loading(!1)}},{key:"render_content",value:function(){return React.createElement(i.a,{stacked:!0,title:I18n.t("shared.react.modals.delete_item_in_list.this_title_is_also_in_a")},this.render_note(),this.render_form())}},{key:"render_note",value:function(){return React.createElement("div",{className:"note"},I18n.t("shared.react.modals.delete_item_in_list.removing_from_saved_will_also_delete"))}},{key:"render_form",value:function(){return React.createElement("form",null,React.createElement(s.a,null,React.createElement(a.a,{name:"confirm_delete",label_text:I18n.t("shared.react.modals.delete_item_in_list.do_not_ask_me_again"),selected:this.state.selected,on_change:this.handle_checked})),this.render_actions())}},{key:"render_actions",value:function(){return React.createElement("div",{className:"actions"},React.createElement(o.c,{className:"text_btn cancel_btn",onClick:this.handle_cancel_button_click,type:"button",text:I18n.t("shared.react.modals.delete_item_in_list.cancel")}),React.createElement(o.c,{type:"button",className:"delete_btn",onClick:this.handle_confirm_click,text:I18n.t("shared.react.modals.delete_item_in_list.delete")}))}}])&&l(n.prototype,r),c&&l(n,c),t}(r.a);Scribd.addComponent("Shared.React.Lists.Modals.DeleteItemInList",p);n(144),n(147);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return v}));var v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=m(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?b(r):o).enclosing_class("auto__shared_react_save_button"),n.state={item:n.props.item,loading:!1},n.set_loading=n.set_loading.bind(b(n)),n.handle_update_done=n.handle_update_done.bind(b(n)),n.handle_click=n.handle_click.bind(b(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return classNames(this.props.classes,"save_button",{with_icon:this.props.show_icon})}},{key:"componentWillReceiveProps",value:function(e){e.item!==this.props.item&&this.setState({item:e.item}),e.loading!==this.state.loading&&this.set_loading(e.loading)}},{key:"componentDidMount",value:function(){var e=new CookieJar({expires:""});e.get(t.COOKIE_NAME)||e.put(t.COOKIE_NAME,!0)}},{key:"should_confirm_delete",value:function(){return"true"===(new CookieJar).get(t.COOKIE_NAME)}},{key:"set_loading",value:function(e){this.props.in_menu||this.setState({loading:e}),this.props.on_loading&&this.props.on_loading(e)}},{key:"set_in_library_state",value:function(e){this.props.in_menu||this.setState({item:Object.assign({},this.state.item,{in_library:e})})}},{key:"get_tooltip_text",value:function(){var e;if(this.props.show_tooltip)return this.state.item.in_library?(e=I18n.t("shared.react.save_button.remove_from_saved_cap"),this.props.cta_remove||e):(e=I18n.t("shared.react.save_button.save_for_later_cap"),this.props.cta_save||e)}},{key:"manual_clamp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=150;return e&&e.length>t?"".concat(e.slice(0,t),""):e}},{key:"get_short_title",value:function(){return this.state.item.short_title||this.manual_clamp(this.state.item.title)}},{key:"get_save_cta",value:function(){return this.props.cta_save?this.props.cta_save:I18n.t("shared.react.save_button.save_for_later_cap")}},{key:"get_remove_cta",value:function(){return this.props.cta_remove?this.props.cta_remove:I18n.t("shared.react.save_button.remove_from_saved_cap")}},{key:"get_cta_text",value:function(){if(this.props.show_text)return this.state.item.in_library?this.get_remove_cta():this.get_save_cta()}},{key:"get_aria_text",value:function(){return this.state.item.in_library?I18n.t("shared.react.save_button.remove_short_title_from_saved",{short_title:this.get_short_title()}):I18n.t("shared.react.save_button.save_short_title_for_later",{short_title:this.get_short_title()})}},{key:"get_save_icon_class_name",value:function(){var e=this.props.use_thick_icon?"2px":"1px",t=this.state.item.in_library?"saved":"save";return"icon icon-ic_".concat(t,"_for_later_").concat(e)}},{key:"handle_xhr_fail",value:function(e){Scribd.Flasher.standard("error",e)}},{key:"handle_add_success",value:function(){this.set_in_library_state(!0),this.props.on_save&&this.props.on_save(this.state.item.id)}},{key:"handle_add_failure",value:function(){this.set_in_library_state(!1),this.handle_xhr_fail(I18n.t("shared.react.save_button.failed_to_save_title"))}},{key:"handle_remove_success",value:function(e,t){this.set_in_library_state(!1),this.props.on_remove&&this.props.on_remove(e,t)}},{key:"handle_remove_failure",value:function(){this.set_in_library_state(!0),this.handle_xhr_fail(I18n.t("shared.react.save_button.failed_to_remove_title")),this.set_loading(!1)}},{key:"handle_update_done",value:function(){this.set_loading(!1)}},{key:"handle_update",value:function(){this.state.item.in_library?this.handle_remove_from_saved():this.handle_add_to_saved()}},{key:"handle_remove_from_saved",value:function(e){var t=this;Scribd.Shared.LibraryAPI.remove(this.state.item.id).done((function(){return t.handle_remove_success(t.state.item.id,e)})).fail(this.handle_remove_failure).always(this.handle_update_done)}},{key:"handle_add_to_saved",value:function(){Scribd.Shared.LibraryAPI.add(this.state.item.id).done(this.handle_add_success).fail(this.handle_add_failure).always(this.handle_update_done)}},{key:"open_delete_confirmation_modal",value:function(e){var t=this;e.collection_ids.length?(this.set_loading(!1),Scribd.Lightbox.open_react("delete_item_in_list",React.createElement(p,{on_confirm:function(){t.handle_remove_from_saved(e.collection_ids)},on_loading:this.set_loading}))):this.handle_update()}},{key:"handle_save_or_remove",value:function(){var e=this;this.set_loading(!0),Scribd.kill_tooltips(),this.state.item.in_library&&this.should_confirm_delete()?Scribd.Shared.CollectionAPI.collections_containing_document(this.state.item.id).done((function(t){return e.open_delete_confirmation_modal(t)})).fail(this.handle_remove_failure):this.handle_update()}},{key:"handle_click",value:function(e){this.props.on_click&&this.props.on_click(e),this.track_rats("library_btn:add_to_library:click",{doc_id:this.state.item.id,action:this.state.item.in_library?"remove":"add"}),Scribd.with_login({join_header_text:I18n.t("shared.react.save_button.sign_up_to_save"),initial_view:"join",join_type:"pmp",track_location:"add_to_library"},this.handle_save_or_remove)}},{key:"render_icon",value:function(){if(this.props.show_icon)return React.createElement("span",{className:this.get_save_icon_class_name(),"aria-hidden":"true",key:"icon"})}},{key:"render_aria_span",value:function(){return React.createElement("span",{className:"visually_hidden"},this.get_aria_text())}},{key:"render_content",value:function(){return React.createElement(o.c,{type:"button",className:classNames("edit_saved_btn",{loading:this.state.loading,disabled:this.state.loading,text_btn:this.props.text_btn,icon_only:!this.props.show_text}),onClick:this.handle_click,"data-tooltip":this.get_tooltip_text(),"data-label":this.get_tooltip_text(),"aria-label":this.get_aria_text()},this.render_icon(),this.get_cta_text(),this.render_aria_span())}}])&&f(n.prototype,r),i&&f(n,i),t}(r.a);y(v,"COOKIE_NAME","library:confirm_delete_item_in_list"),y(v,"defaultProps",{cta_remove:"",cta_save:"",show_icon:!0,show_text:!0,show_tooltip:!0,text_btn:!0,use_thick_icon:!1}),Scribd.addComponent("Shared.React.SaveButton",v)},33:function(e,t,n){(function(e){var t=function(e,t){return function(){return e.apply(t,arguments)}},n=[].slice;Scribd.RecommendationTracking=function(){function r(){throw"Scribd.RecommendationTracking is not instantiatable"}return r._page_count=0,r._compilation_ids={},r._seen_rv_events={},r.Module=function(){function e(e,n){var r;this.opts=null!=n?n:{},this.ready=t(this.ready,this),this.container=$(e),this.container.on("scribd:enclosing_tracking_module",(r=this,function(e,t){return t(r)})),this.with_tracking=$.Deferred(function(e){return function(t){return t.done((function(t){var n;return e.tracking=t,"function"==typeof(n=e.opts).on_tracking?n.on_tracking(e.tracking):void 0}))}}(this)),this.opts.compilation_id?Scribd.RecommendationTracking.page_view_deferred(this.opts.compilation_id).done(function(e){return function(t){return e.ready(t,e.opts.widget_name)}}(this)):this.container.on("scribd:setup_tracking",function(e){return function(t,n,r){return e.ready(n,r)}}(this))}return e.prototype.setup_inview_tracking=function(){return null==this.tracking?"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0:(this.container.one("inview",(e=this,function(){var t;return Scribd.RecommendationTracking.track_module_view(e.tracking.view_id,e.tracking.module_id,e.tracking.widget_name),null!=(t=e.opts.on_in_view)?t.call(e,e.tracking):void 0})),Scribd.RecommendationTracking.trigger_inview_check());var e},e.prototype.setup_click_tracking=function(e){var t,n,r,o,i,a,s;if(null==e&&(e=this.container.find("[data-track_uuid]")),null==this.tracking)return"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0;for(this.container.data("track_uuid")&&(e=e.add(this.container)),a=[],r=0,o=e.length;r<o;r++)t=e[r],i="mc"===(n=(t=$(t)).data("track_rats")||"rc")?"mi":"ri",(s={vi:this.tracking.view_id})[i]=t.data("track_uuid"),t.attr("data-track_rats",n),a.push(t.attr("data-track_rats_value",JSON.stringify(s)));return a},e.prototype.ready=function(e,t){var n;if(n=this.opts.module_id||this.container.data("track_uuid"))return this.with_tracking.resolve({widget_name:t,view_id:e,module_id:n}),this.setup_inview_tracking(),this.setup_click_tracking()},e.prototype.track_module_click=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this.with_tracking.done((function(t){var r;return(r=Scribd.RecommendationTracking).track_module_click.apply(r,[t.view_id,t.module_id].concat(n.call(e)))}))},e}(),r.page_view_deferred=function(e){var t;return e?(r._view_id_deferred||(r._view_id_deferred={}),(t=r._view_id_deferred[e])||(t=$.Deferred(),r._view_id_deferred[e]=t,Scribd.RecommendationTracking.track_page_view(e,(function(e){return t.resolve(e)}))),t):(console.debug("attempted page view without compilation id"),$.Deferred())},r.track_page_view=function(e,t){var n;return null==(n=this._compilation_ids[e])&&(n=this._compilation_ids[e]=this._page_count++),$rat.root().withVid((function(r){return r=r+"."+n,$rat("pv",{vi:r,ci:e}),"function"==typeof t?t(r):void 0}))},r.track_module_view=function(e,t,n){var r;if(!this.seen_event(e,t))return r={vi:e,mi:t},null!=n&&(r.w=n),$rat("mv",r)},r.track_module_click=function(e,t,n){var r;return r={vi:e,mi:t},null!=n&&(r.t=n),$rat("mc",r)},r.track_obj_view=function(e,t){if(!this.seen_event(e,t))return $rat("rv",{vi:e,ri:t})},r.seen_event=function(e,t){var n;return n=e+"#"+t,!!this._seen_rv_events[n]||(this._seen_rv_events[n]=!0,!1)},r.track_obj_click=function(e,t){return $rat("rc",{vi:e,ri:t})},r.trigger_inview_check=function(){return this.trigger_inview_check=e.debounce((function(){return $.event.special.inview.run()}),0),this.trigger_inview_check()},r}()}).call(this,n(4))},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(99);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c,l,u,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_message_promo"),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.on_mount()}},{key:"component_classes",value:function(){return"message_promo"}},{key:"handle_close",value:function(e){e.preventDefault(),this.props.on_close(e)}},{key:"render_content",value:function(){var e=classNames("promo_banner_wrapper",this.props.extra_classes,{hidden:this.props.hidden});return React.createElement("div",{className:e},React.createElement("div",{className:"promo_banner_container"},React.createElement("div",{className:"styling_triangle"}),React.createElement("a",{className:"icon icon-ic_close",onClick:this.handle_close,href:"#"},React.createElement("span",{className:"visually_hidden"},I18n.t("shared.message_promo.dismiss_message"))),React.createElement("h2",{className:"promo_header"},this.props.header),React.createElement("span",{className:"promo_sub_header"},this.props.subheader)))}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);u={on_mount:function(){},on_close:function(){},extra_classes:""},(l="defaultProps")in(c=_)?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,Scribd.addComponent("Shared.MessagePromo",_)},35:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pattern=t,this.placeholder=n,this.definitions=r,this.value=""}var t,n,o;return t=e,(n=[{key:"_add_character",value:function(e){if(!this._validate_character(e))return"";for(var t=e,n="",r=this.value.length+1,o=this.pattern.length-1;r<o&&(n=this.pattern[r],!this.definitions[n]);r++)t+=n;return t}},{key:"_validate_character",value:function(e){var t=this.definitions,n=this.pattern,r=this.placeholder,o=this.value;if(o.length===r.length)return!1;var i=n.slice(o.length,o.length+1);return new RegExp(t[i]).test(e)}},{key:"_get_start_value",value:function(){var e,t="",n=!0,r=!1,o=void 0;try{for(var i,a=this.pattern[Symbol.iterator]();!(n=(i=a.next()).done)&&(e=i.value,!this.definitions[e]);n=!0)t+=e}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"delete_character",value:function(e){var t=e.target.selectionStart;if(e.target.selectionEnd!==t){var n=this.value.slice(0,t)+this.value.slice(e.target.selectionEnd);return this.update_value(n),e.target.selectionEnd=t,this.value}if(0===t)return e.target.value;if(t!==e.target.value.length){var r=this.value.slice(0,t-1)+this.value.slice(t);return this.update_value(r),e.target.selectionEnd=t-1,this.value}for(var o,i=this.value.length;i--&&(o=this.pattern[i],!this.definitions[o]););return this.value=this.value.slice(0,i),this.value}},{key:"update_value",value:function(e){var t;this.value=this._get_start_value();var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)t=i.value,this.value+=this._add_character(t)}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.value}}])&&r(t.prototype,n),o&&r(t,o),e}()},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),o=n(2),i=(n(56),n(47),n(1));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).enclosing_class("auto__shared_login_facebook_login_button"),n.state={},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"do_login",value:function(e){var t,n={};for(t in e)n["facebook_session[".concat(t,"]")]=e[t];if(this.props.login_params)for(t in this.props.login_params)n[t]=this.props.login_params[t];return n.optin=$(".join_form input[name=optin]:checked").val(),n.signup_location=document.location.href,$.ajax({type:"post",url:this.props.facebook_session_path,dataType:"json",data:Scribd.CSRF.with_token(n)})}},{key:"trigger",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$(this.container).trigger(e,n)}},{key:"handle_click",value:function(e){if(e.preventDefault(),this.state.loading)return!1;this.trigger(i.e,i.h),this.setState({loading:!0,facebook_failed:!1}),this.do_facebook_auth()}},{key:"do_facebook_auth",value:function(){var e=this;Scribd.facebook||Scribd.Facebook.setup(),Scribd.Facebook.loaded.then((function(){Scribd.facebook.login((function(t){t?t.authResponse?e.do_login(t.authResponse).then((function(t){e.setState({loading:!1}),t.success?t.email_missing?e.trigger("login:show_missing_email",t):(e.trigger(i.e,i.j),e.trigger(i.e,i.s,{method:i.b}),e.trigger(i.d,e.props.type,t)):(e.trigger(i.e,i.i),e.setState({facebook_failed:!0}))})):e.setState({loading:!1,facebook_failed:!0}):e.setState({loading:!1})}))}))}},{key:"render_error",value:function(){if(this.state.facebook_failed)return React.createElement("p",{key:"error",className:"fb_fail_message error_msg"},I18n.t("shared.login.facebook_login_button.sorry_we_are_unable_to_log"),React.createElement("br",null),I18n.t("shared.login.facebook_login_button.please_try_again_later"))}},{key:"render_button",value:function(){return React.createElement(o.c,{key:"button",className:classNames("facebook no_spinner",{loading:this.state.loading}),disabled:this.state.loading,onClick:this.handle_click},React.createElement("span",{className:"fb_btn_label",key:"label"},this.props.label||I18n.t("shared.login.facebook_login_button.sign_in_with_facebook")),React.createElement("span",{key:"hidden",className:"visually_hidden"}," "+I18n.t("shared.login.facebook_login_button.opens_in_a_new_window")))}},{key:"render_content",value:function(){return[this.render_error(),this.render_button()]}}])&&s(n.prototype,r),a&&s(n,a),t}(r.a)},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(115);var r=n(0),o=n(2),i=(n(47),n(1));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.Scribd.Google={loaded:$.Deferred(),auth2:null,sign_out:function(e){Scribd.Google.auth2.signOut().then((function(){"function"==typeof e&&e()}))}},window.googleOnLoad=function(){gapi.load("auth2",(function(){"development"===Scribd.rails_env?Scribd.Google.auth2={attachClickHandler:function(){}}:Scribd.Google.auth2=gapi.auth2.init({client_id:Scribd.google_auth_web_client_id,cookiepolicy:"single_host_origin"}),Scribd.Google.loaded.resolve()}))};var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).enclosing_class("auto__shared_login_google_login_button"),n.state={},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"handle_google_success",value:function(e){e.email_missing?this.trigger("login:show_missing_email",e):(this.trigger(i.e,i.o),this.trigger(i.e,i.s,{method:i.c}),this.trigger(i.d,this.props.type,e))}},{key:"handle_google_error",value:function(){this.trigger(i.e,i.n),this.setState({loading:!1,google_failed:!0})}},{key:"do_login",value:function(e){var t={token:e,signup_source:"google_signup"};if(this.props.login_params)for(var n in this.props.login_params)t[n]=this.props.login_params[n];t.optin=$(".join_form input[name=optin]:checked").val(),t.signup_location=document.location.href,this.setState({loading:!0,google_failed:!1}),$.ajax({type:"post",url:this.props.google_session_path,dataType:"json",data:Scribd.CSRF.with_token(t),success:this.handle_google_success,error:this.handle_google_error})}},{key:"track_btn_click",value:function(){this.trigger(i.e,i.m)}},{key:"handle_google_loaded",value:function(){var e=this,t=$(this.container),n=t.find("#gbtn");t.on("click",".google.flat_btn",this.track_btn_click),Scribd.Google.auth2.attachClickHandler(n[0],{},(function(t){e.google_user=t,e.do_login(e.google_user.getAuthResponse().id_token)}),(function(e){console.error("google sign in error",JSON.stringify(e))}))}},{key:"componentDidMount",value:function(){Scribd.Google.loaded.then(this.handle_google_loaded)}},{key:"render_error",value:function(){if(this.state.google_failed)return React.createElement("p",{key:"error",className:"google_fail_message error_msg"},I18n.t("shared.login.google_login_button.google_sign_in_failed"))}},{key:"render_content",value:function(){return[this.render_error(),this.render_button()]}},{key:"render_button",value:function(){return React.createElement(o.c,{key:"button",className:"google",id:"gbtn",loading:this.state.loading,disabled:this.state.loading},React.createElement("span",{className:"google_btn_label",key:"label"},this.props.label||I18n.t("shared.login.google_login_button.sign_in_with_google")),React.createElement("span",{key:"hidden",className:"visually_hidden"}," "+I18n.t("shared.login.google_login_button.opens_in_a_new_window")))}}])&&s(n.prototype,r),a&&s(n,a),t}(r.a)},38:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n(116);var r=n(6),o=n(2),i=n(16),a=n(1);n(26);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,u(n).call(this,e))).enclosing_class("auto__shared_login_forgot_password_lightbox"),t.state={errors:[]},t}var r,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,t),r=n,(s=[{key:"componentDidMount",value:function(){this.trigger(a.e,a.l)}},{key:"componentDidUpdate",value:function(){if(this.state.errors.length){this.container.focus();var e=$(this.container).find("[name='".concat(this.state.errors[0].input,"']"));setTimeout((function(){e.focus()}),150)}}},{key:"handle_form_submit_success",value:function(e){if(e.need_login)return this.setState({login_required:!0}),this.trigger(a.e,a.g,{error_type:"login_required"}),!1;this.setState({loading:!1,success:!0})}},{key:"handle_form_submit_error",value:function(){var e=I18n.t("shared.login.forgot_password_lightbox.we_couldn_t_complete_your_request");this.trigger(a.e,a.g,{error_type:"server_error",error_message:e}),this.setState({loading:!1,errors:[{input:"email",message:e}]})}},{key:"validate_form",value:function(){var t=$(this.container).find("input[name=email]").val().trim(),n=[];return e.isEmpty(t)?n.push({input:"email",message:I18n.t("shared.login.forgot_password_lightbox.please_enter_your_email")}):i.a.test(t)?this.validated_email=t:n.push({input:"email",message:I18n.t("shared.login.forgot_password_lightbox.that_doesn_t_appear_to_be_a")}),this.setState({errors:n}),!n.length}},{key:"render_title",value:function(){return React.createElement("h2",{key:"title",className:"title",id:this.uid("lb_labelledby")},I18n.t("shared.login.forgot_password_lightbox.reset_password"))}},{key:"render_inner_content",value:function(){return this.state.success?this.render_success():[React.createElement("div",{key:"enter_your_email_disclaimer"},I18n.t("shared.login.forgot_password_lightbox.enter_your_email_address_and_we_ll")),this.render_email_form()]}},{key:"handle_submit",value:function(e){var t=this;if(e.preventDefault(),this.trigger(a.e,a.r),!this.validate_form())return e.stopPropagation(),!1;for(var n={},r=$(this.container),o=r.find("input"),i=0;i<o.length;i++)n[o[i].name]=o[i].value;$.ajax({type:"post",url:r.find("form").attr("action"),data:n,success:this.handle_form_submit_success,error:this.handle_form_submit_error,always:function(){t.setState({loading:!1,errors:t.state.errors})}}),this.setState({loading:!0,errors:[]})}},{key:"render_email_input",value:function(){return this.render_input_row({name:"email",type:"text",className:"input",label:I18n.t("shared.login.forgot_password_lightbox.email")})}},{key:"render_login_required",value:function(){if(this.state.login_required)return React.createElement("div",{className:"input_row login_required"},React.createElement("p",{className:"label_message"},I18n.t("shared.login.forgot_password_lightbox.you_need_to_provide_a_login")),React.createElement("label",null,React.createElement("input",{type:"text",name:"login",className:"input",placeholder:I18n.t("shared.login.forgot_password_lightbox.login")})))}},{key:"render_button_container",value:function(){return React.createElement("div",{className:"button_container"},React.createElement(o.c,{className:"submit_btn",type:"submit",loading:this.state.loading},I18n.t("shared.login.forgot_password_lightbox.submit")))}},{key:"handle_login_alt_click",value:function(e){this.trigger(a.e,a.q),this.trigger("login:show_login"),e.preventDefault()}},{key:"render_login_alt",value:function(){return React.createElement("div",{className:"login_alt"},React.createElement("a",{href:"#",className:"back_link last_lb_item",onClick:this.handle_login_alt_click},I18n.t("shared.login.forgot_password_lightbox.back_to_sign_in")))}},{key:"render_email_form",value:function(){return React.createElement("form",{action:this.props.forgot_password_path,method:"post",className:"form","data-type":"json",onSubmit:this.handle_submit,key:"email_form"},this.render_email_input(),this.render_login_required(),this.render_button_container(),this.render_login_alt())}},{key:"render_success",value:function(){var e=classNames("success_message",{truncate:this.validated_email.length>25});return React.createElement(React.Fragment,null,React.createElement("h3",null,I18n.t("shared.login.forgot_password_lightbox.success")),React.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:I18n.t("shared.login.forgot_password_lightbox.we_ve_sent_an_email_to_strong_escape_validated_email_strong_html",{escape_validated_email:escape(this.validated_email)})}}))}},{key:"render_content",value:function(){return[this.render_title(),this.render_inner_content()]}}])&&c(r.prototype,s),d&&c(r,d),n}(r.a)}).call(this,n(4))},39:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n(117);var r=n(6),o=n(2),i=n(16),a=(n(26),n(1));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,u(n).call(this,e))).enclosing_class("auto__shared_login_email_missing_lightbox"),t}var r,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,t),r=n,(s=[{key:"component_classes",value:function(){return"lightbox_email_missing"}},{key:"componentDidMount",value:function(){var e=this,t=$(this.container);t.on("ajax:success",(function(n,r){r.success?t.trigger(a.d,e.props.type):e.setState({errors:[{input:"word_user[primary_email]",message:I18n.t("shared.login.email_missing_lightbox.there_was_a_problem_setting_your")}]})})),t.on("ajax:error",(function(){e.setState({errors:[{input:"word_user[primary_email]",message:I18n.t("shared.login.email_missing_lightbox.we_couldn_t_complete_your_request")}]})})),this.trigger(a.e,a.f)}},{key:"render_content",value:function(){return[React.createElement("h2",{key:"title",className:"title",id:this.uid("lb_labelledby")},I18n.t("shared.login.email_missing_lightbox.one_more_thing")),React.createElement("div",{key:"notice"},I18n.t("shared.login.email_missing_lightbox.we_ve_successfully_connected_your_facebook_account")),this.render_form()]}},{key:"submit",value:function(){var e=this;$.ajax({type:"put",url:this.props.account_settings_path,data:{word_user:{primary_email:this.email_ref.value}},success:function(t){t.error&&"email_taken"===t.error?e.setState({errors:[{message:I18n.t("shared.login.email_missing_lightbox.that_email_is_taken_by_another"),input:e.email_ref.name}],loading:!1}):e.handle_redirect()},fail:function(){e.setState({errors:[{message:I18n.t("shared.login.email_missing_lightbox.there_was_a_problem_setting_your"),input:e.email_ref.name}],loading:!1})}})}},{key:"handle_redirect",value:function(){window.location=this.props.next_url}},{key:"handle_submit",value:function(e){if(e.preventDefault(),!this.validate())return e.stopPropagation(),!1;this.setState({loading:!0,error_message:null},this.submit)}},{key:"render_form",value:function(){var e=this;return React.createElement("form",{key:"form",action:this.props.account_settings_path,method:"put",className:"form","data-json":!0,onSubmit:this.handle_submit},this.render_input_row({"data-autofocus":!0,type:"text",className:"input email_missing_input",name:"word_user[primary_email]",placeholder:I18n.t("shared.login.email_missing_lightbox.email_address"),label:I18n.t("shared.login.email_missing_lightbox.email"),input_ref:function(t){return e.email_ref=t}}),React.createElement("div",{className:"button_container"},React.createElement(o.c,{className:classNames("last_lb_item",{loading:this.state.loading}),type:"submit",disabled:this.state.loading},I18n.t("shared.login.email_missing_lightbox.submit"))))}},{key:"validate",value:function(){var t=$(this.container).find("input[name='word_user[primary_email]']").val().trim(),n=[];return e.isEmpty(t)?n.push({input:"word_user[primary_email]",message:I18n.t("shared.login.email_missing_lightbox.please_enter_a_valid_email")}):i.a.test(t)||n.push({input:"word_user[primary_email]",message:I18n.t("shared.login.email_missing_lightbox.that_doesn_t_appear_to_be_a")}),this.setState({errors:n}),!n.length}}])&&c(r.prototype,s),d&&c(r,d),n}(r.a)}).call(this,n(4))},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(118);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,s(t).call(this,e))).enclosing_class("auto__shared_login_loading_lightbox"),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return"loading_lb"}},{key:"enclosing_element_args",value:function(){var e=a(s(t.prototype),"enclosing_element_args",this).call(this);return e.show_close="false",e}},{key:"get_label",value:function(){return"join"===this.props.login_type?I18n.t("shared.login.loading_lightbox.sign_up_successful"):I18n.t("shared.login.loading_lightbox.sign_in_successful")}},{key:"render_content",value:function(){return[React.createElement("h2",{id:this.uid("lb_labelledby"),className:"title",key:"loading0"},this.get_label()),React.createElement("div",{key:"loading1"},I18n.t("shared.login.loading_lightbox.now_bringing_you_back")),React.createElement("div",{className:"scribd_spinner loader","data-size":30,key:"loading2"})]}}])&&o(n.prototype,r),l&&o(n,l),t}(n(6).a)},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(54);n(218);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,c(t).call(this,e))).enclosing_class("auto__recommenders_modules_hero_banner"),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(o=[{key:"render_crumb_parts",value:function(e,t){var n=e[0],r=e[1];return t<this.props.crumbs.length-1?this.render_crumb_link(n,r):this.render_current_page(n)}},{key:"render_crumb_link",value:function(e,t){return React.createElement("span",null,React.createElement(r.c,{text:e,href:t,className:"text_btn breadcrumb_link"}),React.createElement("span",{className:"breadcrumb_caret icon-ic_right_caret_alt","aria-hidden":"true"}))}},{key:"render_current_page",value:function(e){return React.createElement("span",{className:"breadcrumb_link curent_page"},e)}},{key:"render_bread_crumbs",value:function(){var e=this;if(this.props.crumbs)return React.createElement("nav",null,React.createElement("ul",{className:"breadcrumb"},this.props.crumbs.map((function(t,n){return React.createElement("li",{key:n},e.render_crumb_parts(t,n))}))))}},{key:"render_content",value:function(){}}])&&a(n.prototype,o),i&&a(n,i),t}(o.a);Scribd.addComponent("Recommenders.Modules.HeroBanner",u)},42:function(e,t,n){"use strict";n.r(t);var r=n(18),o=n(20),i=(n(155),n(156),n(12)),a=n.n(i),s=(n(148),n(47),n(149),n(143),n(150),n(27),n(158),n(56),n(159),n(160),n(161),n(26),n(162),n(163),n(164),n(165),n(166),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(48),n(65),n(71),n(63),n(81),n(102),n(0)),c=n(15);n(104);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,d(t).call(this,e))).enclosing_class("auto__shared_navigation_language_footer_selector"),n.state={selected_language:e.current_language,menu_open:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"get_language_click",value:function(e){var t=this;return function(){t.track_rats("language_picker:footer:language:click",{locale:e.lang,current_locale:t.props.current_language.lang})}}},{key:"handle_button_click",value:function(){this.track_rats("language_picker:footer:clicked",{current_locale:this.props.current_language.lang})}},{key:"render_links",value:function(){var e=this;return this.props.languages.map((function(t){return React.createElement("li",{className:"item",key:"language_item-".concat(t.lcid)},React.createElement("a",{href:t.href,className:classNames("language_link",{selected:t.prefix===e.props.current_language.prefix}),lang:t.lcid,onClick:e.get_language_click(t)},t.name))}))}},{key:"render_menu",value:function(){return React.createElement("ul",{className:"language_list flex_col"},this.render_links())}},{key:"render_btn",value:function(){var e=this.props,t=e.current_language,n=e.extra_classes;return React.createElement("a",{className:classNames("text_btn language_btn flex_row",n),href:"#language","aria-haspopup":"true","aria-expanded":this.state.menu_open,onClick:this.handle_button_click},React.createElement("span",{className:"name icon_button_text"},t.name),this.render_english_label(),React.createElement("span",{className:"visually_hidden",lang:t.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return React.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return React.createElement(c.default,{button:this.render_btn(),menu:this.render_menu(),autoclose:!1,is_open:this.state.menu_open,on_hide:this.close_menu,on_show:this.show_menu,skip_aria_and_data_props:!0})}}])&&u(n.prototype,r),o&&u(n,o),t}(s.a);Scribd.addComponent("Navigation.Language.Footer",h);n(67),n(106);n.p=window.Scribd.webpack_public_path,window.i18next=r.default,window.I18n=r.default,r.default.key=function(e){return e},window.i18next_lng&&window.i18next_fallback&&(r.default.init({lng:i18next_lng,fallbackLng:i18next_fallback,debug:i18next_debug,interpolation:{prefix:"{{",suffix:"}}",escapeValue:!1},saveMissing:!0,returnEmptyString:!1,returnNull:!1,resources:window._translations}),r.default.on("missingKey",(function(e,t,n){var r="i18next missing translation for key: ".concat(n," in language: ").concat(e);Object(o.a)(new Error(r))}))),function(){var e=window.Scribd&&window.Scribd.Sentry;if(e){var t,n,r=e.disabled,i=e.dsn,a=e.environment,s=e.page,c=e.release;if(!r)t={async:!0,crossorigin:"anonymous",id:"sentry_script_tag",integrity:"sha384-/Cqa/8kaWn7emdqIBLk3AkFMAHBk0LObErtMhO+hr52CntkaurEnihPmqYj3uJho",path:"https://browser.sentry-cdn.com/5.6.3/bundle.min.js",onload:function(){window.Sentry.init({blacklistUrls:[/qa[0-9]*\\.scribd\\.com/],dsn:i,environment:a,release:c}),Object(o.b)(s),Object(o.c)()}},n=document.createElement("script"),t.path&&(n.src=t.path),t.crossorigin&&(n.crossOrigin=t.crossorigin),t.integrity&&(n.integrity=t.integrity),t.content&&(n.innerHTML=t.content),t.id&&(n.id=t.id),t.async&&(n.async=1),t.onload&&(n.onload=t.onload),(t.element||document.head).appendChild(n)}}(),window.classNames=a.a},43:function(e,t){var n,r=[].slice;n=function(){function e(){}return e.bridge=window.jsBridge,e.present=null!=e.bridge,e.send=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null==t&&(t=""),console.log.apply(console,["Scribd.AndroidJsBridge.send:",t].concat(r.call(e))),null!=(n=this.bridge)&&"function"==typeof n[t]?n[t].apply(n,e):void 0},e}(),Scribd.addComponent("AndroidJsBridge",n)},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=e.event,n=e.children,r=e.exit_function,o=e.tab_cycle;if(0!==n.length){var i=n[0],a=n[n.length-1],s=Scribd.KeyMappings,c=s.esc,l=s.up_arrow,u=s.down_arrow,_=s.tab,d=n.indexOf(document.activeElement);switch("function"!=typeof r&&(r=function(){}),t.keyCode){case u:t.preventDefault(),a===document.activeElement?i.focus():n[d+1].focus();break;case l:t.preventDefault(),i===document.activeElement?a.focus():n[d-1].focus();break;case _:if(t.shiftKey)if(t.preventDefault(),i===document.activeElement){if(!o)return r(t);a.focus()}else n[d-1].focus();else if(a===document.activeElement){if(!o)return r(t);t.preventDefault(),i.focus()}break;case c:return r(t);default:return}}}},459:function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}};n(460),Scribd.SharingButtons=function(){var e;function t(e,t){var n;this.opts=t,this.share_pinterest=r(this.share_pinterest,this),this.share_twitter=r(this.share_twitter,this),this.share_facebook=r(this.share_facebook,this),this.share_linkedin=r(this.share_linkedin,this),this.container=$(e),this.container.dispatch("click",{share_facebook_btn:this.share_facebook,share_twitter_btn:this.share_twitter,share_pinterest_btn:this.share_pinterest,share_linkedin_btn:this.share_linkedin}),this.container.on("click",".email a, .share_email_btn",(n=this,function(e){var t;n.trigger_share("email"),"function"==typeof(t=n.opts).click_fn&&t.click_fn("email")}))}return e=function(e,t,n){var r;return null==t&&(t=500),null==n&&(n=450),"function"==typeof(r=window.open(e,"","width="+t+",height="+n+",resizable=1,scrollbars=1")).focus?r.focus():void 0},t.prototype.trigger_share=function(e){return this.container.trigger("scribd:share:"+e),this.container.trigger("scribd:share",[e])},t.prototype.share_linkedin=function(){var t;return this.trigger_share("linkedin"),e("http://www.linkedin.com/shareArticle?"+$.param({title:this.opts.title,url:this.opts.url,source:"Scribd",summary:this.opts.description&&Scribd.truncate(this.opts.description)})),"function"==typeof(t=this.opts).click_fn?t.click_fn("linkedin"):void 0},t.prototype.share_facebook=function(){var e;switch(this.trigger_share("facebook"),this.opts.facebook_share_type){case"share":FB.ui({method:"share",href:this.opts.url,display:"popup"});break;default:FB.ui({method:"feed",name:this.opts.title,link:this.opts.url,picture:this.opts.thumbnail_url,display:"popup"})}return"function"==typeof(e=this.opts).click_fn?e.click_fn("facebook"):void 0},t.prototype.share_twitter=function(t){var n,r;return this.trigger_share("twitter"),r=t.data("text")||this.opts.twitter_message,e("https://twitter.com/share?"+$.param({text:r,url:this.opts.url,original_referer:this.opts.url})),"function"==typeof(n=this.opts).click_fn?n.click_fn("twitter"):void 0},t.prototype.share_pinterest=function(){var t,n;return this.trigger_share("pinterest"),n=this.opts.message||this.opts.title+" on Scribd",e("http://www.pinterest.com/pin/create/button/?"+$.param({url:this.opts.url,media:this.opts.thumbnail_url,description:n})),"function"==typeof(t=this.opts).click_fn?t.click_fn("pinterest"):void 0},t}()},46:function(e,t,n){"use strict";n.r(t),n.d(t,"async_render_lock_shock_roadblock",(function(){return i}));var r=n(7),o=n.n(r)()({loader:function(){return n.e(61).then(n.bind(null,263))},loading:function(){return null}});function i(e){Scribd.Lightbox.open_react("lock_shock_roadblock",React.createElement(o,e))}Scribd.addComponent("Shared.React.AsyncLockShockRoadblockModalOpener",i)},460:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(83);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__search_input_suggestions"),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"handle_click",value:function(e,t){t.preventDefault();var n=Scribd.Search.Input.Show.get_pruned_search_html(e);this.track_rats("search:drop_down_suggest:click",{page:window.location.pathname,search_session_id:Scribd.Search.Input.Show.get_search_session_id(),source:this.props.source,query:n}),this.props.handle_click(t,n)}},{key:"raw_html",value:function(e){return{__html:e}}},{key:"render_suggestion_label",value:function(){if(this.props.label_text)return React.createElement("div",{className:"suggestion_label"},this.props.label_text)}},{key:"render_link",value:function(e){return this.props.trust?React.createElement("a",{href:"#",dangerouslySetInnerHTML:this.raw_html(e)}):React.createElement("a",{href:"#"},e)}},{key:"render_items",value:function(){var e=this;return this.props.items.map((function(t,n){var r=classNames("suggestion",{selected:e.props.selected_index===n}),o=classNames({selected_suggestion:e.props.selected_index===n});return React.createElement("li",{className:r,id:o,key:n.toString(),onClick:e.handle_click.bind(e,t)},e.render_link(t))}))}},{key:"set_ref",value:function(e){this.suggestions=e,this.props.set_suggestions_ref&&this.props.set_suggestions_ref(e)}},{key:"render_content",value:function(){return React.createElement("div",{className:"suggestions",id:this.props.list_id,ref:this.set_ref},this.render_suggestion_label(),React.createElement("ul",null,this.render_items()))}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);Scribd.addComponent("Search.Input.Suggestions",c)},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),o=n(14),i=n(34);n(100);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).state={show:!1},n.cookie_jar=new CookieJar,n.enclosing_class("auto__shared_navigation_language_message"),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.should_show_language_message()&&(this.setState({show:!0}),$(document.body).on("language_picker:message:close",this.handle_close))}},{key:"componentWillUnmount",value:function(){$(document.body).off("language_picker:message:close",this.handle_close)}},{key:"component_classes",value:function(){return classNames("language_message",{logged_out:!this.props.current_user})}},{key:"handle_learn_more_click",value:function(e){var t=this;e.preventDefault(),$.get(this.props.language_modal_props_url).done((function(e){Scribd.Lightbox.open_react("language_lightbox",React.createElement(o.a,e)),t.handle_close()}))}},{key:"handle_close",value:function(){var e=this;this.setState({show:!1},(function(){e.cookie_jar.put("language_picker_message:closed",!0)}))}},{key:"language_picker_not_closed",value:function(){return void 0===this.cookie_jar.get("language_picker_message:closed")}},{key:"should_show_language_message",value:function(){return this.language_picker_not_closed()}},{key:"get_subheader",value:function(){var e=this.props.current_language_name;return React.createElement("div",{className:"flex_col"},React.createElement("div",{className:"message"},I18n.t("shared.navigation.language.message.your_recommendations_have_been_switched_to",{current_language_name:e})," "),React.createElement("a",{className:"learn_more_link",onClick:this.handle_learn_more_click,href:"#learn-more"},I18n.t("shared.navigation.language.message.learn_more")))}},{key:"render_content",value:function(){if(this.state.show)return React.createElement(i.a,{header:I18n.t("shared.navigation.language.message.language_options"),subheader:this.get_subheader(),on_close:this.handle_close})}}])&&s(n.prototype,r),a&&s(n,a),t}(r.a)},51:function(e,t,n){"use strict";var r=n(0),o=n(21),i=n(23);n(86);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _,d,p,h=function(e){var t=e.content_type,n=e.href,r=e.text,o=e.icon_className,i=e.onClick;return React.createElement("li",null,React.createElement("a",{href:n,onClick:i.bind(void 0,t)},React.createElement("span",{className:"icon ".concat(o),"aria-hidden":"true"}),React.createElement("span",{className:"text"},r)))},f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).enclosing_class("auto__shared_navigation_header_explore_menu"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handle_keydown),this.props.expanded&&this.hide_body_scroll()}},{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded?this.hide_body_scroll():!this.props.expanded&&e.expanded&&this.replace_body_scroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handle_keydown),this.replace_body_scroll()}},{key:"hide_body_scroll",value:function(){$(document.body).addClass("header_overlay_open")}},{key:"replace_body_scroll",value:function(){$(document.body).removeClass("header_overlay_open")}},{key:"handle_keydown",value:function(e){this.props.expanded&&e.which===Scribd.KeyMappings.esc&&this.props.handle_close_click(e)}},{key:"handle_content_type_click",value:function(e){this.track_rats("top_nav:".concat(e,":click"),{loc:"browse_menu"})}},{key:"handle_interest_click",value:function(e){this.track_rats("top_nav:interest:click",{interest:e,loc:"browse_menu"})}},{key:"render_sub_interests",value:function(e){var t=this;return e.sub_interests.map((function(e,n){return React.createElement("li",{key:n,className:"child_interest"},React.createElement("a",{className:"interest_btn interest_link",href:e.href,onClick:t.handle_interest_click.bind(t,e.name)},e.name))}))}},{key:"render_interest_lists",value:function(){var e=this;return this.props.interests.map((function(t){return React.createElement("div",{className:"interest_group",key:"interest_group_".concat(t.name)},React.createElement("h3",{className:"interest"},React.createElement("a",{href:t.href,className:"interest_btn interest_link",onClick:e.handle_interest_click.bind(e,t.name)},t.name)),React.createElement("ul",{className:"sub_interests"},e.render_sub_interests(t)))}))}},{key:"render_explore_by_content_type",value:function(){return React.createElement("section",{className:"content_types","aria-labelledby":"explore_by_content_type"},React.createElement("h2",{className:"title",id:"explore_by_content_type"},I18n.t("shared.navigation.header.explore_menu.explore_formats")),React.createElement("ul",null,React.createElement(h,{content_type:"books",href:this.props.books_url,text:I18n.t("shared.navigation.header.explore_menu.books"),icon_className:"icon-ic_small_book_fill",onClick:this.handle_content_type_click}),React.createElement(h,{content_type:"audiobooks",href:this.props.audiobooks_url,text:I18n.t("shared.navigation.header.explore_menu.audiobooks"),icon_className:"icon-ic_small_audiobook_fill",onClick:this.handle_content_type_click}),React.createElement(h,{content_type:"articles",href:this.props.magazines_url,text:I18n.t("shared.navigation.header.explore_menu.news_magazines"),icon_className:"icon-ic_small_magazine_fill",onClick:this.handle_content_type_click}),React.createElement(h,{content_type:"sheet_music",href:this.props.sheet_music_url,text:I18n.t("shared.navigation.header.explore_menu.sheet_music"),icon_className:"icon-ic_small_songbook_fill",onClick:this.handle_content_type_click})))}},{key:"render_explore_by_interest",value:function(){return React.createElement("section",{className:"interests","aria-labelledby":"explore_by_interest"},React.createElement("h2",{className:"title",id:"explore_by_interest"},I18n.t("shared.navigation.header.explore_menu.explore_interests")),React.createElement("div",{className:"interests_content"},this.render_interest_lists()))}},{key:"render_close_button",value:function(){return React.createElement("a",{href:"#explore_close_button",id:"explore_close_button",className:"close_button","aria-label":I18n.t("shared.navigation.header.explore_menu.close_explore_menu"),onClick:this.props.handle_close_click},this.render_icon("close"))}},{key:"render_content",value:function(){if(this.props.expanded)return React.createElement("div",null,React.createElement("div",{className:classNames("explore_menu")},React.createElement("div",{className:"menu_wrapper"},React.createElement("nav",{className:"menu_content","aria-label":I18n.t("shared.navigation.header.explore_menu.explore_by_interests_or_content_type")},this.render_close_button(),this.render_explore_by_interest(),this.render_explore_by_content_type()))))}}])&&s(n.prototype,r),o&&s(n,o),t}(r.a);p={expanded:!1},(d="defaultProps")in(_=f)?Object.defineProperty(_,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):_[d]=p;var m=n(2);n(87);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,v(t).call(this,e))).enclosing_class("auto__archive_flow_header_progress_bar"),n.state={selected:e.current_step},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"render_step",value:function(e,t){var n="";return t<this.state.selected?n="completed":t===this.state.selected&&(n="active"),React.createElement("li",{className:"step_component ".concat(n," icon-ic_checkmark"),key:"step_".concat(t)},React.createElement("div",{className:"step_label"},e.label))}},{key:"render_content",value:function(){var e=this,t=this.props.steps.map((function(t,n){return e.render_step(t,n)}));return React.createElement("div",{className:"progress_bar_container container"},React.createElement("div",{className:"progress_title"}," ",this.props.title," "),React.createElement("ul",{className:"progress_bar progressbar"},t))}}])&&g(n.prototype,r),o&&g(n,o),t}(r.a);Scribd.addComponent("ArchiveFlow.Header.ProgressBar",w);n(88);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,x(t).call(this,e))).enclosing_class("auto__archive_flow_header_progress_step_counter"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(r=[{key:"get_step_string",value:function(){return"".concat(this.props.current_step+2,"/").concat(this.props.num_steps)}},{key:"render_content",value:function(){return React.createElement("div",null,I18n.t("archive_flow.header.progress_step_counter.step_this_get_step_string",{this_get_step_string:this.get_step_string()}))}}])&&E(n.prototype,r),o&&E(n,o),t}(r.a);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(j,"defaultProps",{num_steps:3});var N=n(8),P=n(13);n(90);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return L}));var L=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,D(t).call(this,e))).enclosing_class("auto__shared_navigation_header_header"),n.state={responsive_search:!1,user_menu_expanded:!1,explore_menu_expanded:!1,page_width:"medium",search_focused:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return classNames({bare:this.props.bare,payments_header:this.props.payments})}},{key:"enclosing_tag",value:function(){return"header"}},{key:"enclosing_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"is_narrow",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"is_wide",value:function(){return["wide","extra_wide"].includes(this.props.page_width)}},{key:"handle_responsive_search_click",value:function(e){e.preventDefault(),this.props.search_props.search_page&&"hybrid"!==this.props.global_nav_test?this.set_focus_on_secondary_search():this.setState({responsive_search:!0,search_focused:!0})}},{key:"set_focus_on_secondary_search",value:function(){this.container.dispatchEvent(new Event("header:search_page:focus_input"))}},{key:"handle_close_search",value:function(){this.setState({responsive_search:!1,search_focused:!1})}},{key:"handle_user_menu_click",value:function(e){var t={user_menu_expanded:e};this.state.explore_menu_expanded&&(t=Object.assign(t,{explore_menu_expanded:!1})),this.setState(t)}},{key:"handle_explore_menu_click",value:function(e){e.preventDefault();var t={explore_menu_expanded:!this.state.explore_menu_expanded};this.state.user_menu_expanded&&(t=Object.assign(t,{user_menu_expanded:!1})),this.setState(t)}},{key:"render_color_divider",value:function(){return React.createElement(P.a,{key:"color_divider"})}},{key:"render_logo",value:function(){return React.createElement("div",{className:"logo_container flex_col"},React.createElement("a",{className:"icon_button logo_button",href:this.props.root_url,target:this.props.new_tab?"_blank":null},React.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:this.props.logo_src})))}},{key:"render_explore_menu",value:function(){return React.createElement(f,Object.assign(this.props.explore_menu_props,{expanded:this.state.explore_menu_expanded,key:"explore_menu_right",handle_close_click:this.handle_explore_menu_click}))}},{key:"render_explore_text_button",value:function(){var e=this.state.explore_menu_expanded?"icon-ic_up_arrow":"icon-ic_down_arrow";return React.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_left",onClick:this.handle_explore_menu_click},React.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}),React.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.explore")),React.createElement("span",{"aria-hidden":"true",className:"arrow ".concat(e),role:"presentation"}))}},{key:"render_explore_icon_button",value:function(){return React.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_right",onClick:this.handle_explore_menu_click},React.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}))}},{key:"render_explore_button",value:function(){return"extra_wide"===this.props.page_width?[this.render_explore_text_button(),this.render_explore_menu()]:[this.render_explore_icon_button(),this.render_explore_menu()]}},{key:"render_right_tools_icon_button_text",value:function(e){if("extra_wide"===this.props.page_width)return React.createElement("span",{className:"icon_button_text"},e)}},{key:"render_upload_button",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button",href:this.props.uploads_url,key:"upload"},React.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_upload",role:"presentation"}),this.render_upload_button_label(e))}},{key:"render_upload_button_label",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!e.icon_only)return React.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"render_search",value:function(){return this.is_wide()?React.createElement(o.a,I({},this.props.search_props,{focused:this.state.focus_search})):React.createElement("a",{"aria-expanded":this.state.responsive_search,"aria-label":I18n.t("shared.navigation.header.header.search"),className:"icon_button search_button",href:"#search",id:"search",key:"search",onClick:this.handle_responsive_search_click},React.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_search",role:"presentation"}))}},{key:"render_saved_new_items_indicator",value:function(){if(this.props.saved_new_items)return React.createElement("span",{className:"new_items_indicator"})}},{key:"render_saved_button",value:function(){return React.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.go_to_your_saved_titles"),className:"icon_button saved_button",href:this.props.saved_url,key:"saved"},React.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_saved saved_icon",role:"presentation"},this.render_saved_new_items_indicator()),this.render_right_tools_icon_button_text(I18n.t("shared.navigation.header.header.saved")))}},{key:"render_user_menu",value:function(){var e=this.props,t=e.logged_in,n=e.page_width,r=!1;return(t&&this.is_narrow()||!t&&"extra_wide"!==n)&&(r=!0),React.createElement(i.a,I({},this.props.user_button_props,{icon_button:r,from_sidebar:!1,handle_click:this.handle_user_menu_click,logged_out:!this.props.logged_in,user_menu_open:this.state.user_menu_expanded,handle_externally:!0,key:"user_button"}))}},{key:"render_right_tools_for_wide",value:function(){return this.props.logged_in?["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_saved_button(),this.render_user_menu()]:["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_user_menu()]}},{key:"render_bestsellers_icon_button",value:function(){return React.createElement("a",{href:this.props.bestsellers_url,className:"icon_button responsive_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers"),key:"best_sellers_icon_button"},React.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}))}},{key:"render_bestsellers_text_button",value:function(){var e=this.props.bestsellers_url;return React.createElement("a",{href:e,className:"icon_button full_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers_")},React.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}),React.createElement("div",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.bestsellers_")))}},{key:"render_responsive_header",value:function(){return React.createElement(N.a,null,React.createElement("div",{className:"left_tools",key:"left_tools"},this.render_logo()),React.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_explore_button(),this.render_bestsellers_icon_button(),this.render_search(),this.props.logged_in?this.render_saved_button():null,this.render_user_menu()))}},{key:"render_full_header",value:function(){return React.createElement(N.a,null,React.createElement("div",{className:"left_tools flex_row",key:"left_tools"},this.render_logo(),this.render_explore_button(),"extra_wide"===this.props.page_width?this.render_bestsellers_text_button():null,this.render_search()),React.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_right_tools_for_wide()))}},{key:"render_responsive_search_bar",value:function(){return React.createElement(N.a,{key:"responsive_search_bar"},React.createElement(m.c,{className:"search_back_btn text_btn flat_btn",onClick:this.handle_close_search},React.createElement("span",{className:"icon-ic_back_arrow icon"}),React.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.header.header.back"))),React.createElement(o.a,I({},this.props.search_props,{focused:this.state.focus_search,extra_classes:"search_responsive_input"})))}},{key:"render_archive_payments_bar",value:function(){if(this.props.payments){if(this.props.show_progress_as_step_counter&&this.props.progress_step_counter_props)return React.createElement(j,this.props.progress_step_counter_props);if(this.props.progress_bar_props)return React.createElement(w,this.props.progress_bar_props)}}},{key:"render_bare_header",value:function(){return React.createElement(N.a,null,this.render_logo(),this.render_archive_payments_bar())}},{key:"render_content",value:function(){return this.props.bare?this.render_bare_header():this.is_wide()?this.render_full_header():this.state.responsive_search?this.render_responsive_search_bar():this.render_responsive_header()}}])&&T(n.prototype,r),a&&T(n,a),t}(r.a);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(L,"defaultProps",{page:1}),Scribd.addComponent("Shared.Navigation.Header.Header",L)},52:function(e,t,n){"use strict";var r=n(21),o=n(23),i=n(0),a=n(15),s=n(14);n(96);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,_(t).call(this,e))).enclosing_class("auto__shared_navigation_language_picker"),n.state={selected_language:e.current_language,menu_open:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return classNames("icon_button language_picker with_right_border",{logged_out:!this.props.current_user})}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:header:language:click",{locale:e.lang,current_locale:t.props.current_language.lang}),t.setState({selected_language:e})}}},{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"handle_picker_click",value:function(e){e.preventDefault(),this.track_rats("language_picker:header:clicked",{current_locale:this.props.current_language.lang}),$(this.container).trigger("language_picker:message:close")}},{key:"handle_learn_more_click",value:function(){this.track_rats("language_picker:learn_more:click",{current_locale:this.props.current_language.lang}),this.close_menu(),$.get(this.props.language_modal_props_url).done((function(e){Scribd.Lightbox.open_react("language_lightbox",React.createElement(s.a,e))}))}},{key:"render_radio_buttons",value:function(){var e=this;return this.props.languages.map((function(t){var n=e.state.selected_language.lang===t.lang,r=n?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty";return React.createElement("li",{role:"none",key:"list-item-".concat(t.lcid)},React.createElement("a",{className:"radio_row flex_row language_radio",onClick:e.handle_select(t),href:t.href,role:"menuitem"},React.createElement("span",{className:classNames("mock_radio radio_label",r,{checked:n})}),React.createElement("div",{className:"label",lang:t.lcid},t.name),n&&React.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.language.picker.selected"))))}))}},{key:"render_learn_more",value:function(){return React.createElement("div",{className:"learn_more_section"},React.createElement("a",{href:"#",onClick:this.handle_learn_more_click,className:"learn_more_link"},I18n.t("shared.navigation.language.picker.learn_more")))}},{key:"render_menu",value:function(){return React.createElement("div",{className:"language_picker_dropdown"},React.createElement("ul",{role:"menu",className:"radio_list"},this.render_radio_buttons(),this.render_learn_more()))}},{key:"render_arrow",value:function(){var e=this.props.from_sidebar?"icon-ic_right_caret_1px":"icon-ic_dropdown_alt";return React.createElement("span",{className:classNames("down_arrow",e),"aria-hidden":"true"})}},{key:"render_btn",value:function(){var e=this.props,t=e.current_language,n=e.extra_classes;return React.createElement("a",{className:classNames("text_btn language_btn flex_row",n),href:"#language",onClick:this.handle_picker_click,"aria-haspopup":"true","aria-expanded":this.state.menu_open},React.createElement("span",{className:"icon icon-ic_language","aria-hidden":"true"}),React.createElement("span",{className:"prefix icon_button_text"},t.prefix),this.render_arrow(),this.render_english_label(),React.createElement("span",{className:"visually_hidden",lang:t.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return React.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return React.createElement(a.default,{button:this.render_btn(),menu:this.render_menu(),autoclose:!1,is_open:this.state.menu_open,on_hide:this.close_menu,on_show:this.show_menu,force_position:"left bottom",skip_aria_and_data_props:!0})}}])&&l(n.prototype,r),o&&l(n,o),t}(i.a),h=n(11),f=n.n(h),m=n(12),b=n.n(m),g=(n(97),"auto__shared_navigation_global_nav_hamburger");function y(e){var t=e.opened;return f.a.createElement("span",{className:b()(g,{opened:t}),"aria-hidden":!0},f.a.createElement("span",{className:"top"}),f.a.createElement("span",{className:"middle"}),f.a.createElement("span",{className:"bottom"}))}y.defaultProps={opened:!1};var v=n(13),k=n(8),w=n(3);n(98);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return N}));var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,R(t).call(this,e))).enclosing_class("auto__shared_navigation_header_header_hybrid"),n.state={explore_menu_expanded:!1,responsive_search:!1,search_focused:!1,user_menu_expanded:!1},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(i=[{key:"enclosing_element_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"enclosing_tag",value:function(){return"header"}},{key:"componentDidMount",value:function(){this.check_for_language_settings_change()}},{key:"check_for_language_settings_change",value:function(){var e=Scribd.deparam(window.location.search.slice(1));e&&e.language_settings_changed&&Scribd.Flasher.standard("success",I18n.t("shared.navigation.header.header_hybrid.preferred_language_set_to_query_language_settings_changed",{query_language_settings_changed:e.language_settings_changed}))}},{key:"is_narrow",value:function(){return[w.a,w.d,w.c].includes(this.props.page_width)}},{key:"is_wide",value:function(){return[w.e,w.b].includes(this.props.page_width)}},{key:"handle_user_menu_click",value:function(e){var t={user_menu_expanded:e};this.state.explore_menu_expanded&&(t=Object.assign(t,{explore_menu_expanded:!1})),this.setState(t)}},{key:"render_logo",value:function(){return React.createElement("div",{className:"logo_container flex_col"},React.createElement("a",{className:"logo_button icon_button flex_row",href:this.props.root_url,target:this.props.new_tab?"_blank":null},React.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:this.props.logo_src})))}},{key:"render_color_divider",value:function(){return React.createElement(v.a,{key:"color_divider"})}},{key:"render_right_tools_icon_button_text",value:function(e){return React.createElement("span",{className:"icon_button_text"},e)}},{key:"render_user_menu",value:function(){return React.createElement(o.a,E({},this.props.user_button_props,{icon_button:!1,from_sidebar:!1,handle_click:this.handle_user_menu_click.bind(this),logged_out:!this.props.logged_in,from_hybrid:!0,user_menu_open:this.state.user_menu_expanded}))}},{key:"render_hybrid_search",value:function(e){var t=this.props.search_props.search_page?this.props.search_term:"";return React.createElement(r.a,E({},this.props.search_props,{extra_classes:e,focused:this.state.search_focused,query:t}))}},{key:"get_aria_hidden_text",value:function(){var e=this.props.sidebar_open;return{visually_hidden_text:e?I18n.t("shared.navigation.header.header_hybrid.close_navigation_menu"):I18n.t("shared.navigation.header.header_hybrid.open_navigation_menu"),aria_expanded:e}}},{key:"render_logo_menu",value:function(e){if(["wide","extra_wide"].includes(this.props.page_width))return this.render_logo();var t=this.get_aria_hidden_text(),n=t.visually_hidden_text,r=t.aria_expanded,o=this.props.logo_src,i="";return"small"===e&&(o=this.props.small_logo_src,i="smallest_logo_button"),React.createElement("div",{className:"logo_container flex_col"},React.createElement("a",{className:"logo_button flex_row",href:"#sidebar",onClick:this.props.handle_toggle_sidebar,"aria-expanded":r},React.createElement(y,{opened:this.props.sidebar_open}),React.createElement("img",{alt:"Scribd",className:classNames(i,"logo"),src:o}),React.createElement("span",{className:"visually_hidden"},n)))}},{key:"render_wide_upload_button",value:function(){this.show_upload_icon()&&this.render_upload_button({icon_only:!this.props.logged_in})}},{key:"render_right_tools_for_wide",value:function(){return React.createElement("div",{className:"right_tools flex_row"},this.render_wide_upload_button(),this.render_user_menu())}},{key:"render_upload_button",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button with_right_border",href:this.props.uploads_url,key:"upload"},this.render_icon("globalnav_upload"),this.render_upload_button_label(e))}},{key:"render_upload_button_label",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!e.icon_only)return React.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"show_upload_icon",value:function(){return[w.a,w.d].includes(this.props.page_width)}},{key:"render_hybrid_upload_button",value:function(){return this.is_wide()?this.render_upload_button():this.props.page_width===w.c?this.render_upload_button({icon_only:!0}):void 0}},{key:"render_language_picker",value:function(){var e=this.props.language_picker_props;if(["wide","extra_wide"].includes(this.props.page_width)&&e)return React.createElement(p,e)}},{key:"render_referral_button",value:function(){if(this.props.is_subscriber){var e=this.props.free_referral?I18n.t("shared.navigation.header.header.read_for_free"):I18n.t("shared.navigation.header.header.invite_friends");return React.createElement("a",{className:"referral_text with_right_border",href:this.props.referrals_url},e)}}},{key:"render_full_header",value:function(){var e=this.props.page_width===w.c?"small":null;return React.createElement(k.a,{key:"full_header",extra_classes:"hybrid_test_header"},this.render_logo_menu(e),this.render_hybrid_search("hybrid_nav_search"),React.createElement("div",{className:"right_tools flex_row"},this.render_referral_button(),this.render_hybrid_upload_button(),this.render_language_picker(),this.render_user_menu()))}},{key:"render_simple_header",value:function(){return React.createElement(k.a,{key:"simple_header",extra_classes:"hybrid_test_header hybrid_simple"},this.render_logo_menu("small"),this.render_hybrid_search("hybrid_wide_search"))}},{key:"render_content",value:function(){return[w.a,w.d].includes(this.props.page_width)?[this.render_simple_header(),this.render_color_divider()]:[this.render_full_header(),this.render_color_divider()]}}])&&O(n.prototype,i),a&&O(n,a),t}(i.a)},53:function(e,t,n){"use strict";var r=n(0),o=n(22),i=n(24),a=n(2),s=n(14);n(93);function c(e){var t=e.redirect_url;return React.createElement("a",{className:"auto__shared_navigation_membership_info membership_info_container",href:t},React.createElement("p",{className:"text"},I18n.t("shared.navigation.membership_info.learn_more_about_scribd_membership")),React.createElement("span",{className:"icon icon-ic_right_caret_alt","aria-hidden":"true"}))}var l=n(13),u=n(45);n(94);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return b}));var b=function(e){function t(e){var n,r,o,i,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=h(t).call(this,e),n=!o||"object"!==_(o)&&"function"!=typeof o?f(r):o,i=f(n),s=function(){var e;return e=n.props.logged_in?n.render_home_and_saved_vertical_tabs():n.render_membership_info(),React.createElement("ul",{className:"top_section"},e)},(a="render_top_section")in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,n.enclosing_class("auto__shared_navigation_sidebar"),n.state={scroll_position:0,selected_content_type:e.selected_content_type,user_menu_open:!1,show:!1,side_nav_test:!1},n}var n,r,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.is_responsive()&&document.body.classList.add("no_scroll")}},{key:"componentWillUnmount",value:function(){document.body.classList.contains("no_scroll")&&document.body.classList.remove("no_scroll")}},{key:"component_classes",value:function(){return classNames("global_nav_sidebar hybrid_sidebar",{show_user_section:this.is_narrow(),full_width_background:this.is_responsive()})}},{key:"handle_tab_click",value:function(e,t){this.track_rats("tabs:tab:click",{page:"home",type:e.key,position:t})}},{key:"is_narrow",value:function(){return"narrow"===this.props.page_width||"extra_narrow"===this.props.page_width}},{key:"render_visually_hidden_text",value:function(e){if(e.type===this.state.selected_content_type)return React.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.sidebar.selected"))}},{key:"render_vertical_tab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=e.type===this.state.selected_content_type,o=r?e.icon_filled:e.icon;return React.createElement("li",{className:classNames("nav_row",e.type,{selected:r}),key:"nav_row_".concat(e.name)},React.createElement("a",{href:e.url,className:"nav_link flex_row",onClick:t},React.createElement("span",{className:"icon ".concat(o)}),React.createElement("div",{className:"title_container flex_col"},React.createElement("div",{className:"flex_row"},React.createElement("div",{className:"nav_title"},e.name),n?React.createElement("span",{className:"icon-ic_right_caret_1px side_arrow","aria-hidden":"true"}):null,this.render_visually_hidden_text(e)))))}}},{key:"handle_language_click",value:function(e){var t=this;e.preventDefault(),this.track_rats("language_picker:sidebar:open"),$.get(this.props.language_modal_props_url).done((function(e){Scribd.Lightbox.open_react("language_lightbox",React.createElement(s.a,d({handle_lightbox_close:t.props.focus_on_header},e))),$(t.container).trigger("language_picker:message:close")})),this.props.close_sidebar()}},{key:"toggle_user_menu",value:function(){this.setState({user_menu_open:!this.state.user_menu_open})}},{key:"close_user_menu",value:function(){this.setState({user_menu_open:!1}),this.user_button_ref.focus()}},{key:"is_full_sidebar",value:function(){return"full"===this.props.global_nav_test}},{key:"is_responsive",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"handle_key_down",value:function(e){if(this.is_responsive()){var t=this.get_focusable_children();Object(u.a)({event:e,children:t,exit_function:this.props.handle_toggle_sidebar})}}},{key:"handle_join_click",value:function(e){e.preventDefault(),Scribd.SignIn.open({initial_view:"join",next_url:this.props.subscribe_url,join_type:"pmp",track_location:"sidebar"})}},{key:"handle_login_click",value:function(e){e.preventDefault(),Scribd.SignIn.open({initial_view:"login",track_location:"sidebar",subscribe_url:this.props.subscribe_url})}},{key:"handle_user_button_keypress",value:function(e){e.preventDefault(),e.which===Scribd.KeyMappings.enter&&this.toggle_user_menu()}},{key:"render_logo",value:function(){if(this.is_full_sidebar()&&!this.is_responsive())return React.createElement("li",{className:"logo_container flex_row",role:"presentation"},React.createElement("a",{className:"logo",href:this.props.home.url},React.createElement("img",{src:this.image_url("landing/home2_landing/scribd_logo_horiz_small.svg"),alt:"Scribd"})))}},{key:"render_membership_info",value:function(){return React.createElement("li",{className:"membership_info_button_row"},React.createElement(c,{redirect_url:this.props.subscribe_now_landing_url}))}},{key:"render_home_and_saved_vertical_tabs",value:function(){return React.createElement(React.Fragment,null,!this.props.subscriber&&this.render_membership_info(),this.render_vertical_tab(this.props.home),this.render_vertical_tab(this.props.saved))}},{key:"render_bestsellers_btn",value:function(){return this.render_vertical_tab(this.props.bestsellers)}},{key:"render_categories_section",value:function(){var e=this;return React.createElement("ul",{className:"categories",key:"sidebar_nav_categories",ref:function(t){return e.sidebar_nav_categories=t}},this.render_bestsellers_btn(),this.props.categories_array.map((function(t){if("mixed"!==t)return e.render_vertical_tab(e.props.categories[t])})))}},{key:"render_divider",value:function(){if(this.props.logged_in)return React.createElement("div",{className:"divider"})}},{key:"render_upload_button",value:function(){if(this.is_narrow())return this.render_vertical_tab(this.props.upload)}},{key:"render_user_section",value:function(){var e=this;return this.props.logged_in?React.createElement("li",{className:"nav_row user_button",key:"bottom_menu_user_section"},React.createElement("a",{href:"#",className:"flex_row unstyled_link",onClick:this.toggle_user_menu,ref:function(t){return e.user_button_ref=t},"aria-haspopup":"true","aria-expanded":this.state.user_menu_open,onKeyPress:this.handle_user_button_keypress},React.createElement(o.a,this.props.persona_icon_props),React.createElement("div",{className:"user_copy"},React.createElement("span",{className:"greeting"},I18n.t("shared.navigation.sidebar.hi_this_props_username",{this_props_username:this.props.username})),React.createElement("div",{className:"profile_button flex_row"},React.createElement("span",{className:"label"},I18n.t("shared.navigation.sidebar.your_profile")),React.createElement("span",{className:"icon icon-ic_right_caret_1px","aria-hidden":"true"}))))):React.createElement("li",{className:"login_section"},React.createElement(a.c,{className:"flat_btn",href:this.props.subscribe_url,onClick:this.handle_join_click},I18n.t("shared.navigation.sidebar.read_free_for_30_days")),React.createElement(a.c,{className:"flat_btn outline_btn",href:this.props.subscribe_url,onClick:this.handle_login_click},I18n.t("shared.navigation.sidebar.sign_in")))}},{key:"render_bottom_section",value:function(){return this.is_narrow()?React.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker(),this.render_color_divider(),this.render_user_section()):React.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker())}},{key:"render_color_divider",value:function(){return React.createElement("li",{role:"presentation",key:"color"},React.createElement(l.a,null))}},{key:"render_language_picker",value:function(){if(this.is_responsive())return React.createElement(React.Fragment,null,this.render_divider(),this.render_vertical_tab(this.props.language,this.handle_language_click,!0))}},{key:"render_vertical_tabs",value:function(){return React.createElement("nav",{key:"vertical_nav",onKeyDown:this.handle_key_down,className:"vertical_nav"},React.createElement("div",{className:"sidebar_container flex_col"},React.createElement("div",{className:"upper"},this.render_top_section(),this.render_divider(),this.render_categories_section()),this.render_bottom_section()))}},{key:"render_opac_background",value:function(){if(this.is_responsive())return React.createElement("div",{key:"opac_background",onClick:this.props.handle_toggle_sidebar,className:"opac_background"})}},{key:"render_title",value:function(){return React.createElement("h2",{id:"home_content_tabs",className:"visually_hidden",key:"content_tabs_title"},I18n.t("shared.sidebar_nav.sidebar.explore_by_content_type"))}},{key:"render_user_menu",value:function(){if(this.state.user_menu_open)return React.createElement(i.a,d({},this.props.user_menu_props,{from_sidebar:!0,handle_close:this.close_user_menu,key:"user_menu"}))}},{key:"render_content",value:function(){return React.createElement(React.Fragment,null,this.render_opac_background(),this.render_vertical_tabs(),this.render_user_menu())}}])&&p(n.prototype,r),b&&p(n,b),t}(r.a);Scribd.addComponent("Shared.Navigation.Sidebar",b)},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0);n(33);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).enclosing_class("auto__recommenders_modules_recommended_component"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){return this.props.widget_css_classes?this.props.widget_css_classes.join(" "):""}},{key:"componentDidMount",value:function(){this.instantiate_tracking()}},{key:"instantiate_tracking",value:function(){var e=this;this.recommendation_tracking=new Scribd.RecommendationTracking.Module(this.container,{compilation_id:this.props.compilation_id,widget_name:this.props.widget_name,module_id:this.props.module_id,on_in_view:function(t){e.track_recommendations(t)}})}},{key:"track_recommendations",value:function(e){$(this.container).find("[data-track_uuid]").each((function(t,n){$(n).one("inview",(function(){"none"!==$(n).css("display")&&Scribd.RecommendationTracking.track_obj_view(e.view_id,$(n).data("track_uuid"))}))}))}},{key:"render_content",value:function(){}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a);Scribd.addComponent("Recommenders.Modules.RecommendedComponent",l)},55:function(e,t,n){n(123),Scribd.DocumentCell={add_flags:function(e,t){var n,r,o,i,a,s,c;for(null==t&&(t=".document_cell.has_flag"),s=[],o=0,i=(a=e.find(t).add(e.filter(t))).length;o<i;o++)n=a[o],(c=(r=$(n).find(".flag")).data("text"))?s.push(r.append("<span>"+c+"</span>")):s.push(void 0);return s}}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(141);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c,l,u,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_react_forms_checkbox"),n.state={focused:!1},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"on_focus",value:function(){this.setState({focused:!0})}},{key:"on_blur",value:function(){this.setState({focused:!1})}},{key:"input_label_id",value:function(){return this.props.id||this.uid(this.props.value)}},{key:"component_classes",value:function(){return classNames(this.props.class,"checkbox_component")}},{key:"handle_key_press",value:function(e){13===e.which&&this.props.on_change(!this.props.selected)}},{key:"handle_change",value:function(e){this.props.on_change(e)}},{key:"render_description",value:function(){return this.props.description&&React.createElement("span",{className:"description",id:this.uid("description")},this.props.description)}},{key:"render_content",value:function(){var e=this.props,t=e.label_text,n=e.description,r=e.value,o=e.disabled,i=e.selected,a=i?"icon-ic_small_checkbox_fill":"icon-ic_small_checkbox_outline",s=this.input_label_id();return React.createElement("label",{className:classNames("checkbox_label ".concat(a),{checked:i,focused:this.state.focused,with_description:n}),htmlFor:s},React.createElement("input",{id:s,name:this.props.name,onChange:this.handle_change,onFocus:this.on_focus,onBlur:this.on_blur,type:"checkbox",value:r,checked:i,disabled:o,className:"checkbox_input visually_hidden checkbox","aria-describedby":n?this.uid("description"):null,onKeyPress:this.handle_key_press}),React.createElement("span",{className:"input_text"},t),this.render_description())}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);u={options:[],legend:"",description:"",class:"",label_text:""},(l="defaultProps")in(c=_)?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,Scribd.addComponent("Shared.React.Forms.Checkbox",_)},58:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n(0),o=n(28),i=n(38),a=n(39),s=n(40),c=(n(27),n(1));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,f,m,b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,d(t).call(this,e))).enclosing_class("auto__shared_login_lightboxes"),n.state={view:n.props.initial_view||"join",login_params:Object.assign({},n.props.login_params)},n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"set_login_params",value:function(e){this.setState({login_params:e})}},{key:"component_classes",value:function(){return classNames("lightbox_".concat(this.state.view),"sign_in_container")}},{key:"get_next_url",value:function(e){var t;if("join"===e&&null===Scribd.current_user&&this.props.subscribe_url)t=this.props.subscribe_url;else if(this.props.next_url)t=this.props.next_url;else if(t=window.location.href,Scribd.current_doc&&Scribd.read_page&&Scribd.read_page.epub&&!t.match(/#/)){var n=Scribd.read_page.epub.startPositionCharOffset();t="".concat(this.props.next_url,"#position=").concat(n)}return t}},{key:"componentDidMount",value:function(){var e=this,t=$(this.container);$("#overlay").addClass("login_mode"),t.on(c.d,(function(t,n,r){setTimeout((function(){e.setState({login_type:n,resolved:!0},(function(){var t=e.get_next_url(n);if(t.resolve)Scribd.Lightbox.close(),t.resolve(n,r);else{if(e.switch_view("loading"),"#"===t)return;var o=document.createElement("a");o.href=t,"".concat(o.hostname).concat(o.pathname).concat(o.search)==="".concat(window.location.hostname).concat(window.location.pathname).concat(window.location.search)?(window.location=t,window.location.reload()):window.location=t}}))}),50)})),t.on("login:show_have_email",(function(t,n){e.setState({email:n}),e.switch_view("have_email"),$(".lightbox").focus()})),t.on("login:show_missing_email",(function(){e.switch_view("missing_email")})),t.on("login:show_join",(function(){e.switch_view("join")})),t.on("login:show_login",(function(){e.switch_view("login")})),t.on("login:show_forgot_password",(function(){e.switch_view("forgot_password")})),t.on(c.e,(function(n,r,o){var i=Object.assign({loc:e.props.track_location,page:e.props.track_page||Scribd.page_name,type:e.state.view},o);t.track_rats(r,i)})),t.on("Scribd:lightbox:closed",(function(){if(!e.state.resolved){var t=e.get_next_url();t.reject&&t.reject()}}))}},{key:"switch_view",value:function(e){var t=this;this.setState({view:e},(function(){$(t.container).trigger("login:view_changed",e)}))}},{key:"render_content",value:function(){var e=this.state.view,t=Object.assign({},this.props,{key:e,type:e,email:this.state.email,login_params:this.state.login_params,login_type:this.state.login_type});switch(e){case"join":case"login":case"have_email":return React.createElement(o.a,t);case"forgot_password":return React.createElement(i.a,t);case"missing_email":return React.createElement(a.a,t);case"loading":return React.createElement(s.a,t);default:return console.error("Invalid view: ".concat(this.state.view)),React.createElement(o.a,t)}}}])&&u(n.prototype,r),l&&u(n,l),t}(r.a);m={inline_display:!1},(f="defaultProps")in(h=b)?Object.defineProperty(h,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[f]=m,Scribd.addComponent("Shared.Login.Lightboxes",b)},59:function(e,t,n){},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(114);var r=n(0),o=n(36),i=n(37),a=n(30),s=n(10);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,f,m,b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,d(t).call(this,e))).enclosing_class("auto__shared_login_base_lightbox"),n.state={errors:[]},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"trigger",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$(this.container).trigger(e,n)}},{key:"render_disclaimer",value:function(){var e=this.props.static_terms_path,t=this.props.static_privacy_path,n=I18n.t("shared.login.base_lightbox.by_registering_a_scribd_account_you",{terms_href:e,privacy_href:t});return React.createElement("div",{className:"join_disclaimer",dangerouslySetInnerHTML:{__html:n}})}},{key:"get_facebook_button_label",value:function(e){return"login"===e||"continue"===e?I18n.t("shared.login.base_lightbox.continue_with_facebook"):I18n.t("shared.login.base_lightbox.sign_up_with_facebook")}},{key:"render_facebook_button",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.type;return React.createElement(o.a,{key:"facebook_button",label:this.get_facebook_button_label(e),type:this.props.type,login_params:this.props.login_params,facebook_session_path:this.props.facebook_session_path})}},{key:"get_google_button_label",value:function(e){return"login"===e||"continue"===e?I18n.t("shared.login.base_lightbox.continue_with_google"):I18n.t("shared.login.base_lightbox.sign_up_with_google")}},{key:"render_google_button",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.type;return React.createElement(i.a,{key:"google_button",label:this.get_google_button_label(e),type:this.props.type,login_params:this.props.login_params,google_session_path:this.props.google_session_path})}},{key:"render_input_row",value:function(e){return e.errors=this.state.errors,React.createElement(a.a,e)}},{key:"render_content",value:function(){return[this.render_facebook_button(),this.render_google_button()]}},{key:"render",value:function(){var e,t=this,n=this.enclosing_tag();return e=this.props.inline_display?this.render_content():React.createElement(s.a,null,this.render_content()),React.createElement(n,l({ref:function(e){t.container=e},className:this.get_component_classname()},this.enclosing_element_args()),e)}}])&&u(n.prototype,r),c&&u(n,c),t}(r.a);m={inline_display:!1,login_params:{}},(f="defaultProps")in(h=b)?Object.defineProperty(h,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[f]=m},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},628:function(e,t,n){(function(e){var t;Scribd.addComponent("ReadingProgress.external_progress_notice_seen",!1),t=function(){function t(t){var n,r,o,i,a;(this.opts=null!=t?t:{},this.enabled())&&(this.notify_external_progress(null!=(n=Scribd.current_doc)?n.reading_progress:void 0),this.opts=e.extend(this.default_opts(),this.opts),this.get_ms=(null!=(r=Scribd.ServerOptions)?r.reading_progress_throttle_get_milliseconds:void 0)||this.opts.throttle_get,this.post_ms=(null!=(o=Scribd.ServerOptions)?o.reading_progress_throttle_post_milliseconds:void 0)||this.opts.throttle_post,this.url=null!=(i=Scribd.current_doc.reading_progress)?i.update_url:void 0,this.doc_id=Scribd.current_doc.id,this.offset=null,this.offset_type=null,this.percentage=null,this.credit_redeemed=!Scribd.current_doc.is_credit_restricted,this.is_preview=this.opts.preview_restricted,this.throttled_get_handler=e.throttle((a=this,function(){return a.get()}),this.get_ms,{leading:!0,trailing:!1}),this.throttled_post_handler=e.throttle(function(e){return function(){return e.post()}}(this),this.post_ms,{leading:!1,trailing:!0}),$(window).off(this.events.focus).on(this.events.focus,this.throttled_get_handler),this.setup_active_tab_handler())}return t.prototype.events={focus:"focus.reading_progress",scroll:"scroll.reading_progress"},t.prototype.default_opts=function(){return{throttle_get:6e4,throttle_post:1e4}},t.prototype.enabled=function(){var e;return!(null==(e=Scribd.ServerOptions)||!e.reading_progress_enabled)&&!!Scribd.logged_in},t.prototype.has_external_progress=function(e){return!(null==e||!e.offset)&&(!e.from_current_device&&"browser"!==e.device_name)},t.prototype.external_progress_notification_message=function(e){return I18n.t("shared.reading_progress.base.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})},t.prototype.notify_external_progress=function(e){var t;if(this.has_external_progress(e)&&!Scribd.ReadingProgress.external_progress_notice_seen)return Scribd.ReadingProgress.external_progress_notice_seen=!0,this.create_flash_notice(this.external_progress_notification_message(e)),t=Scribd.current_doc.is_sheet_music?"sheet music":"book",$(document.body).track_rats("reading_progress:progress_moved:show",{doc_id:Scribd.current_doc.id,destination_offset:e.offset,offset_type:e.offset_type,document_type:t})},t.prototype.create_flash_notice=function(e){return Scribd.Flasher.standard("notice",e)},t.prototype.update_external_progress=function(e){if(this.has_external_progress(e))return $(window).trigger("scribd:external_reading_progress",e)},t.prototype.check_credit_threshold=function(){},t.prototype.needs_credit_spend=function(e){if({credit_redeemed:this.credit_redeemed,is_preview:this.is_preview,credit_restricted:Scribd.current_doc.is_credit_restricted},!this.is_preview&&Scribd.current_user&&!this.credit_redeemed&&Scribd.current_doc.is_credit_restricted)return this.check_credit_threshold(e)},t.prototype.pause_time=function(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session)},t.prototype.restart_time=function(){return this.start_session=Date.now()},t.prototype.reset_counters=function(){return this.time_elapsed=0,this.start_session=Date.now()},t.prototype.calc_time_elapsed=function(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session),this.time_elapsed},t.prototype.setup_active_tab_handler=function(){var e,t,n,r,o,i,a;for(n in o=[],r={hidden:"",mozHidden:"moz",msHidden:"ms",webkitHidden:"webkit"})i=r[n],"undefined"!==document[n]&&(t=n,a=i+"visibilitychange"),void 0!==document.addEventListener&&void 0!==document[t]?(e=function(e){return function(){return document[t]?e.pause_time():e.restart_time()}}(this),o.push(document.addEventListener(a,e,!1))):o.push(void 0);return o},t.prototype.get=function(){return this.calc_time_elapsed()>0?this.post(!0):this.get_progress()},t.prototype.get_progress=function(){return $.get(this.url,{doc_id:this.doc_id},(e=this,function(t){return e.update_external_progress(t.progress),e.reset_counters()}));var e},t.prototype.post=function(t){var n,r,o;return null==t&&(t=!1),r={doc_id:this.doc_id,time_in_millis:this.calc_time_elapsed()},this.updated&&(r=e.extend({},r,{offset:this.offset,offset_type:this.offset_type,percentage:this.percentage,updated:this.updated})),n=Scribd.CSRF.with_token(r),$.post(this.url,n).done((o=this,function(e){return o.update_external_progress(e.progress),o.reset_counters(),o.updated=!1,t?o.get():e.user?o.needs_credit_spend(e):window.location=o.opts.preview_url})).fail((function(e){}))},t.prototype.spend_a_credit=function(){return $.post(this.opts.pmp_document_purchases_url,{doc_id:this.doc_id}).done((e=this,function(t){return e.credit_redeemed=!0})).fail((function(e){if(422===e.status&&"not_restricted"!==e.responseJSON.message)return $(document.body).trigger("reading_progress:past_preview_lightbox:show")}));var e},t}(),Scribd.addComponent("ReadingProgress.Base",t)}).call(this,n(4))},63:function(e,t,n){(function(e){var t,r;r=n(80).default,t=n(69).default,Scribd.Flasher=function(){function n(){}return n.prototype.toast_node=null,n.prototype.mount_node=function(e){return $("<div />",{role:"alert"}).appendTo(e)[0]},n.prototype.bind_lightbox_close=e.once((function(){return $(document.body).on("Scribd:lightbox:closed Scribd:stacked_lightbox:closed",(function(){if(!Scribd.Lightbox.current_open)return $(n.lightbox_container()).find(".flash").each((function(){return ReactDOM.unmountComponentAtNode(this.parentElement)}))}))})),n.global_container=function(){return $("#flash_container")[0]},n.lightbox_container=function(){return $("#lightbox_flash_container")[0]},n.toast=function(e,t,n){var o,i,a,s,c,l,u,_;return null==n&&(n={}),o=null!=n.dismiss_speed?n.dismiss_speed:(s=60*(n.raw?$("<div />",{html:t}).text().length:t.length),s=Math.max(s,4e3),Math.min(s,11e3)),i=React.createElement(r,{content:t,type:e,raw:null!=(c=n.raw)&&c,dismiss_speed:o,animation_speed:null!=(l=n.animation_speed)?l:500,class_name:null!=(u=n.class_name)?u:""}),a=null!=(_=this.toast_node)?_:this.prototype.mount_node(this.global_container()),ReactDOM.unmountComponentAtNode(a),ReactDOM.render(i,a)},n.build_standard=function(e,n,r){var o,i,a,s,c,l;return null==r&&(r={}),React.createElement(t,{content:n,render_content:r.render_content,type:e,raw:null!=(o=r.raw)&&o,user_dismiss:null==(i=r.user_dismiss)||i,animation_speed:null!=(a=r.animation_speed)?a:250,class_name:null!=(s=r.class_name)?s:"",should_focus:null!=(c=r.should_focus)&&c,full_border:null!=(l=r.full_border)&&l})},n.standard=function(e,t,n){var r,o,i;return null==n&&(n={}),r=Scribd.StackedLightbox.instances[0]||Scribd.Lightbox.current_open?this.lightbox_container():this.global_container(),n.container&&(r=n.container),o=this.build_standard(e,t,n),(i=this.prototype.mount_node(r)).getBoundingClientRect().top>$(window).height()||$(r).hasClass("fixed")?ReactDOM.render(o,i):(r=Scribd.Lightbox.current_open?$("#lightbox_area"):document.body,$(r).animate({scrollTop:0},"slow",(function(){return ReactDOM.render(o,i)}))),this.prototype.bind_lightbox_close()},n}()}).call(this,n(4))},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),o=n(2);n(179);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).enclosing_class("auto__shared_react_star_ratings"),n.state={user_rating:n.props.user_rating||0,selected_star:0,inform_saved:!1},n.lit="icon-ic_star_small_fill light_lit",n.unlit="icon-ic_star_small_outline",n.half_lit="icon-ic_star_small_halffill light_lit",n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"component_classes",value:function(){var e="star_ratings";return this.props.active&&this.props.current_user||(e+=" static"),this.props.current_user&&(e+=" current_user"),this.state.selected_star>0&&(e+=" selecting"),this.state.user_rating>0&&(e+=" rated"),e}},{key:"componentDidUpdate",value:function(e){e.user_rating!==this.props.user_rating&&this.props.user_rating!==this.state.user_rating&&this.setState({user_rating:this.props.user_rating})}},{key:"handle_blur",value:function(){Scribd.is_mobile||this.props.active&&this.setState({selected_star:0})}},{key:"handle_clear_rating",value:function(e){e.preventDefault(),this.rate_title(0),this.props.handle_clear_rating&&this.props.handle_clear_rating()}},{key:"handle_rating",value:function(e){this.props.active&&"right"!==e.type&&(e.preventDefault(),(Scribd.is_mobile||this.state.user_rating!==this.state.selected_star)&&this.rate_title($(e.target).data("value")))}},{key:"handle_star_mouseover",value:function(e){!Scribd.is_mobile&&this.props.active&&this.setState({selected_star:e})}},{key:"handle_star_focus",value:function(e){this.props.active&&this.setState({selected_star:e})}},{key:"can_be_interactive",value:function(){return this.props.use_system_rating&&this.props.untabbable?"-1":"0"}},{key:"get_success_aria_message",value:function(){var e=this.state.user_rating;return I18n.t("shared.react.star_ratings.state_user_rating_star_rating_saved",{state_user_rating:e})+" "+I18n.t("shared.react.star_ratings.average_rating")+" "+this.get_rating_label_text()}},{key:"rate_title",value:function(e){var t=this,n={initial_view:"join",join_type:"pmp",track_location:"star_ratings",join_header_text:I18n.t("shared.react.star_ratings.sign_up_to_rate_this_title")};Scribd.with_login(n,(function(){var n=t.state.user_rating;t.setState({user_rating:e,inform_saved:!0},(function(){t.track_rats("ratings:rating:update",{word_document_id:t.props.doc_id,rating:t.state.user_rating})})),window.setTimeout((function(){t.setState({inform_saved:!1})}),1e3),"function"==typeof t.props.handle_rating_update?t.props.handle_rating_update(e):t.post_rating_request(e,n)}))}},{key:"post_rating_request",value:function(e,t){var n=this;$.post(this.props.ratings_path,{rated:e}).fail((function(){Scribd.Flasher.standard("error",I18n.t("shared.react.star_ratings.your_rating_was_not_saved_please")),n.setState({user_rating:t})}))}},{key:"update_live_region",value:function(){this.props.active&&Scribd.update_polite_live_region(this.get_success_aria_message(),"star_rating_stats")}},{key:"get_rating_label_text",value:function(){var e=this.props.rating_count;return this.state.user_rating&&e++,this.props.use_system_rating?"(".concat(this.props.system_rating,"/5)"):this.props.user_rating?"(".concat(this.props.user_rating,"/5)"):e||0===e?React.createElement("span",{dangerouslySetInnerHTML:{__html:this.get_html_label(e)}}):"(0/5)"}},{key:"get_html_label",value:function(e){var t=1===e?I18n.t("shared.react.star_ratings.rating"):I18n.t("shared.react.star_ratings.ratings");return I18n.t("shared.react.star_ratings.props_system_rating_5_count_span_class_rating_text_rating_span_html",{props_system_rating:this.props.system_rating,count:e,rating:t})}},{key:"get_tip",value:function(e){switch(e){case 1:return I18n.t("shared.react.star_ratings.i_didn_t_like_it_at_all");case 2:return I18n.t("shared.react.star_ratings.i_didn_t_like_it_that_much");case 3:return I18n.t("shared.react.star_ratings.i_thought_it_was_ok");case 4:return I18n.t("shared.react.star_ratings.i_liked_it");case 5:default:return I18n.t("shared.react.star_ratings.i_loved_it")}}},{key:"render_inform_saved",value:function(){return this.update_live_region(),React.createElement("span",{className:"inform_saved"},I18n.t("shared.react.star_ratings.saved"))}},{key:"render_star",value:function(e){var t,n=this.props.current_user_rating_only?0:this.props.system_rating,r=this.state.selected_star||this.state.user_rating||n;t=e<=r?this.lit:e===r+.5?this.half_lit:this.unlit;var o="";this.state.user_rating===e&&(o=". ".concat(I18n.t("shared.react.star_ratings.selected")));var i,s=", ".concat(this.get_tip(e));this.props.active&&(i=React.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.star_ratings.rate_as_value_out_of_5",{value:e})+s+o));var c={className:"rating_star ".concat(t),role:this.props.active?"button":null,"aria-hidden":this.props.active?"false":"true","data-value":e,onMouseOver:this.handle_star_mouseover.bind(this,e),onFocus:this.handle_star_focus.bind(this,e),onClick:this.handle_rating,onTouchStart:this.handle_rating,key:"star".concat(e)};return this.props.use_button?React.createElement("button",a({type:"button"},c),i):React.createElement("span",c,i)}},{key:"render_stars",value:function(){var e=this.props.current_user_rating_only?0:this.props.system_rating,t=this.state.selected_star||this.state.user_rating||e,n=[1,2,3,4,5].map(this.render_star);return n.push(React.createElement("span",{className:"visually_hidden",key:"rating_to_display_text"},I18n.t("shared.react.star_ratings.rating_rating_to_display_out_of_5_stars",{rating_to_display:t}))),React.createElement("span",{className:"stars",onMouseLeave:this.handle_blur,onBlur:this.handle_blur},n)}},{key:"render_stats",value:function(){if(this.props.show_stats){var e=this.get_rating_label_text(),t=this.can_be_interactive();return React.createElement("span",{className:"stats",tabIndex:t},e)}}},{key:"render_tips",value:function(){if(this.props.active&&this.props.show_tips&&this.state.selected_star>0)return this.state.inform_saved?this.render_inform_saved():React.createElement("span",{className:"tips"},React.createElement("span",{className:"tip"},this.get_tip(this.state.selected_star)))}},{key:"render_clear_rating",value:function(){var e=this;if(this.props.active&&!(this.state.selected_star>0)&&this.state.user_rating>0)return this.state.inform_saved?this.render_inform_saved():React.createElement(o.c,{ref:function(t){return e.clear_rating_ref=t},type:"button",className:"clear_rating text_btn",onClick:this.handle_clear_rating},I18n.t("shared.react.star_ratings.clear_rating"))}},{key:"render_rating_required",value:function(){if(!(!this.props.active||!this.props.rating_required||this.state.selected_star>0||this.state.user_rating>0))return React.createElement("span",{className:"rating_required_message"},React.createElement("span",{className:"icon-ic_warn","aria-hidden":"true"}),React.createElement("span",{className:"message"},I18n.t("shared.react.star_ratings.rating_required")))}},{key:"render_content",value:function(){return React.createElement("span",null,this.render_rating_required(),this.render_stars(),this.render_stats(),this.render_tips(),this.render_clear_rating())}}])&&s(n.prototype,r),i&&s(n,i),t}(r.a);Scribd.addComponent("Shared.React.StarRatings",_)},65:function(e,t,n){},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(139);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c,l,u,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this,e))).enclosing_class("auto__shared_react_forms_input_group"),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"render_content",value:function(){var e=this.props,t=e.children,n=e.legend,r=e.horizontal;return React.createElement("fieldset",{className:classNames("input_group",{horizontal:r})},n?React.createElement("legend",null,n):null,React.Children.map(t,(function(e,t){return React.cloneElement(e,{key:t})})))}}])&&o(n.prototype,r),c&&o(n,c),t}(n(0).a);u={options:[],legend:"",horizontal:!1},(l="defaultProps")in(c=_)?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,Scribd.addComponent("Shared.React.Forms.InputGroup",_)},67:function(e,t,n){(function(e){n(105),Scribd.Tooltips={Fancy:{template:e.template('<div class="fancy_tip">\n  <div class="tip_arrow sprite popup_arrow"></div>\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>'),position:function(e,t){var n;return n=e.offset(),t.css({left:Math.floor(n.left-t.outerWidth()/2+e.outerWidth()/2),top:Math.floor(n.top+12+e.outerHeight())})}},Default:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">{{ content }}</div>\n</div>'),position:function(e,t){var n,r,o,i,a,s,c;return r=e.offset(),n=t.outerHeight(),i=t.outerWidth(),a=e.outerWidth(),s=r.left-(i-a)/2,(c=r.top-n-4)<0&&(c=r.top+e.outerHeight()+4),s=Math.max(2,s),s=Math.min($(window).width()-2-i,s),o=t.parent().offsetParent().offset(),t.css({left:s-o.left,top:c-o.top})}},Under:{position:function(e,t){var n,r,o,i;return r=e.offset(),n=t.height(),o=t.width(),i=e.width(),t.css({width:500,left:r.left+Math.floor((i-o)/2),top:n+4})}},Under2:{position:function(e,t){var n,r,o,i,a,s;return n=e.offset(),t.outerHeight(),o=t.outerWidth(),i=e.outerWidth(),a=n.left-(o-i)/2,s=n.top+20,r=t.parent().offsetParent().offset(),t.css({left:a-r.left,top:s-r.top})}},Unescaped:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>')}},Scribd.hook_tooltips=function(e,t){var n,r,o,i,a,s;return null==t&&(t={}),t=$.extend({tooltip_container:"tooltip_container",template:Scribd.Tooltips.Default.template,position:Scribd.Tooltips.Default.position,sticky:!1},t),(i=$("<div class='"+t.tooltip_container+"'></div>").appendTo(e)).data("hover_count",0),n=function(e){return t.sticky?setTimeout((function(){if(0===i.data("hover_count"))return e()}),200):e()},r=function(){return i.empty()},s=Scribd.kill_tooltips,Scribd.kill_tooltips=function(){return"function"==typeof s&&s(),r()},o=function(e){var n,r,o,a,s,c,l;if(!e.is(".disabled")){if(s=e.data("tooltip_elm"),a=e.attr("data-label")||e.attr("aria-label")||e.attr("data-tooltip"),!s||a!==e.data("tooltip_elm_content")){if("{"===a[0]&&(a=JSON.parse(a)),$.isPlainObject(a))for(n in a=(l=a).default,l)if(c=l[n],e.is("."+n)){a=c;break}o=(null!=(r=Scribd.Tooltips[e.data("tooltip_template")])?r.template:void 0)||t.template,s=$(o({content:a})),e.data("tooltip_elm",s),e.data("tooltip_elm_content",a)}return s.appendTo(i),t.position(e,s),s.addClass("opaque")}},a=Scribd.is_mobile?"focusin focusout":"mouseenter mouseleave focusin focusout",t.sticky&&i.on(a,(function(e){var t;return t="mouseleave"===e.type||"focusout"===e.type?-1:1,"mouseleave"!==e.type&&"focusout"!==e.type||n(r),i.data("hover_count",i.data("hover_count")+t)})),e.on(a,"[data-tooltip]",(function(e){var t,r;return r=$(e.currentTarget),t="mouseleave"===e.type||"focusout"===e.type?-1:1,"mouseleave"===e.type||"focusout"===e.type?n((function(){var e;return null!=(e=r.data("tooltip_elm"))?e.removeClass("opaque").remove():void 0})):o(r),i.data("hover_count",i.data("hover_count")+t)})),e.on("scribd:update_tooltip","[data-tooltip]",(function(e,t){var n,r,i;if(n=$(e.currentTarget),t&&n.data("tooltip",t),i=!1,(r=n.data("tooltip_elm"))&&(i=0!==r.closest("body").length,r.removeClass("opaque").remove()),n.removeData("tooltip_elm"),i)return o(n)}))}}).call(this,n(4))},68:function(e,t,n){(function(e){n(122),n(59),n(60),n(61),n(62),n(27),n(43),n(55),n(33),n(43),null==Scribd.UI&&(Scribd.UI={}),Scribd.UI.tabbing_user=!1,Scribd.UI.backwards_tab=!1,Scribd.UI.tabbing_selector="a:visible, input:visible, button:visible",Scribd.UI.Carousel=function(){function t(t,n){var r;this.container=t,this.opts=null!=n?n:{},e.defer((r=this,function(){var t;return Scribd.UI.Carousel.carousels.push(r),r.container=$(r.container).data("carousel",r),r.container.addClass("on_first_page"),r.images_loaded=!r.container.data("lazy_images"),r.container.hasClass("cache_widget")&&(r.container=r.container.find(".carousel_widget")),r.carousel=r.container.find(".carousel"),r.scrolling=r.carousel.find(".carousel_scrolling"),t=r.check_items_inview,r.check_items_inview=e.debounce((function(){return t.apply(r)}),500),r.title_wrap=r.container.find(".title_wrap"),r.title=r.container.find(".carousel_title"),r.subtitle=r.container.find(".carousel_subtitle"),r.title_wrap.removeClass("hidden"),r.subtitle.removeClass("hidden"),r.title_link=r.container.find(".title_link"),r.carousel_skip_link=r.container.find(r.carousel_skip_selector),r.container.on("scribd:reshape_carousel",(function(){return r.reshape()})),$(window).on("resize",e.debounce((function(){var e,t,n,r,o;for(o=[],t=0,n=(r=Scribd.UI.Carousel.carousels).length;t<n;t++)e=r[t],o.push(e.reshape());return o}),500)),!1!==r.opts.tracking_module&&(r.tracking_module=new Scribd.RecommendationTracking.Module(r.container,{compilation_id:r.opts.compilation_id,widget_name:r.opts.widget_name,module_id:r.opts.module_id,on_tracking:function(e){r.tracking=e},on_in_view:function(){return r.check_items_inview()}})),r.setup_events(),r.setup_scrollbar(),r.setup_flags(),r.show_paddles(),r.reshape(),r.setup_viewport_scrolling(),r.enable_skip_links()}))}return t.prototype.anim_speed=200,t.prototype.easing="ease_in_out_cubic",t.prototype.images_loaded=!1,t.prototype.mobile_size=450,t.prototype.carousel_skip_selector=".carousel_skip_link",t.prototype.setup_viewport_scrolling=function(){var t,n,r,o,i,a,s,c,l,u,_;if(!this.images_loaded)return u=$(window),c=this.container.closest(".carousel_scroll_parent"),r=!1,c.length?(o=c,l=0,t=e.throttle((_=this,function(){return l=_.container.offset().top+c[0].scrollTop-c.offset().top-c.height()}),1e3,{trailing:!1}),n=function(e){return function(){var n;if(null!==(null!=(n=e.container[0])?n.offsetParent:void 0))return t(),c[0].scrollTop>l}}(this)):(o=u,l=null,n=function(e){return function(){var t;if(null!==(null!=(t=e.container[0])?t.offsetParent:void 0))return l||(l=e.container.offset().top),u.scrollTop()+u.height()>l||void 0}}(this)),i=function(e){return function(){if(r)return e.show_visible_images()}}(this),s=function(){return Scribd.support_passive_scroll()?(window.removeEventListener("scroll",a,{passive:!0}),o.off("resize",a)):o.off("scroll resize",a)},a=function(e){return function(){if(n())return r=!0,e.show_visible_images(),s()}}(this),u.on("resize",e.debounce(i,100)),Scribd.support_passive_scroll()?(o[0].addEventListener("scroll",a,{passive:!0}),o.on("resize",a)):o.on("scroll resize",a),e.defer(a)},t.prototype.setup_events=function(){var e;if(!this.opts.disable_click)return this.container.dispatch("click",{carousel_prev:(e=this,function(){var t;return e.on_interact(),e.scroll_items(-e.cells_to_scroll()),null!=(t=e.tracking_module)?t.track_module_click("ap"):void 0}),carousel_next:function(e){return function(){var t;return e.on_interact(),e.scroll_items(e.cells_to_scroll()),null!=(t=e.tracking_module)?t.track_module_click("an"):void 0}}(this),carousel_skip_link:function(e){return function(){var t;if((t=e.get_next_tabbed_element(e.container)).length)return t.hasClass("carousel_skip_link")&&t.css("display","inline-block"),t.focus(),!1}}(this),document_cell:function(e){return function(t,n){return $(n.target).trigger("scribd:doc_link_clicked"),e.send_android_bridge(t,n),"continue"}}(this)})},t.prototype.send_android_bridge=function(e,t){var n,r,o;if(n=e.data("object_id"),o=e.find(".under_title").text(),null!=(r=Scribd.AndroidJsBridge)?r.present:void 0)return t.preventDefault(),Scribd.AndroidJsBridge.send("openDoc",n,o)},t.prototype.get_next_tabbed_element=function(e){var t,n;return(t=e.nextAll().find(Scribd.UI.tabbing_selector+", "+this.carousel_skip_selector).first()).length?t:e.parent().length?(n=e.parent()).is(".lightbox")?$():this.get_next_tabbed_element(n):$()},t.prototype.enable_skip_links=e.once((function(){var e,t;return t=this,e=function(e){var n,r,o,i,a;switch(a=$(e.target),e.type){case"keydown":return 9===e.keyCode&&(Scribd.UI.tabbing_user=!0),Scribd.UI.backwards_tab=e.shiftKey,!0;case"click":return Scribd.UI.tabbing_user=!1,!0;case"focusin":if(!Scribd.UI.tabbing_user)return;for(r=0,o=(i=Scribd.UI.Carousel.carousels).length;r<o;r++)if(n=i[r],$.contains(n.container.get(0),a.get(0))){if(t.get_next_tabbed_element(n.container).length&&!n.carousel_skip_link.is(":visible")){if(n.container.addClass("has_skip_link"),n.carousel_skip_link.css({display:"inline-block"}),a.is(Scribd.Lightbox.last_focused_element))return;Scribd.UI.backwards_tab||(n.title_link.length?n.title_link.focus():n.carousel_skip_link.focus())}}else n.container.removeClass("has_skip_link"),n.carousel_skip_link.hide()}},$(window).on("keydown.carousel_skip_link, click.carousel_skip_link, focusin.carousel_skip_link",e)})),t.prototype.setup_scrollbar=function(){var t,n;return t=e.debounce((n=this,function(e,t,r){return n.container.toggleClass("on_first_page",0===e),n.container.toggleClass("on_last_page",e+t===r)}),100),this.update_scrollbar=function(e){return function(){var n,r,o;return n=e.scroll_width(),o=e.scrolling.innerWidth(),r=e.scrolling.scrollLeft(),t(r,o,n)}}(this),this.scrolling.on("scroll",function(e){return function(){return e.on_interact(),e.update_scrollbar(),e.check_items_inview()}}(this)),this.update_scrollbar()},t.prototype.scroll_items=function(e){var t,n,r,o,i;if(0!==(i=this.cell_width())&&!this.scrolling.is(":animated")&&(t=this.scrolling.scrollLeft(),r=this.get_target(e),(n=this.scroll_width()-this.scrolling.innerWidth())-(r=Math.max(0,Math.min(r,n)))<15&&(r=n),r<15&&(r=0),t!==r))return o=Math.floor(this.anim_speed*Math.abs((t-r)/i)),this.scrolling.animate({scrollLeft:r},{duration:o,easing:"smoothstep"})},t.prototype.cells_to_scroll=function(){var e,t,n,r;return n=Math.min(this.scrolling.width(),window.innerWidth),(r=this.get_visible_cells(n))<=1.5?1:(e=Math.ceil(r),t=Math.abs(r-e),Math.abs(r-e+.5)>t?e:e-1)},t.prototype.get_visible_cells=function(e){var t,n,r,o,i;for(r=this.current_idx(),t=0,n=0;n<=e&&r<this.object_cells().length&&!(n+(i=$(this.object_cells()[r]).outerWidth(!0))>e);)n+=i,t++,r++;return o=Math.min(this.object_cells().length-1,r),t+(e-n)/$(this.object_cells()[o]).outerWidth(!0)},t.prototype.get_target=function(e){var t,n,r;return t=this.current_idx(),r=Math.max(t+e,0),n=this.object_cells().slice(0,r),Array.from(n).reduce((function(e,t){return e+$(t).outerWidth(!0)}),0)},t.prototype.current_idx=function(){var e,t,n;for(n=this.scrolling.scrollLeft(),t=0,e=0;e<n&&t<this.object_cells().length;)e+=$(this.object_cells()[t]).outerWidth(!0),t++;return t},t.prototype.cell_width=function(){return $(this.object_cells()[0]).outerWidth(!0)},t.prototype.object_cells=function(){return this.cells?this.cells:this.cells=this.carousel.find(".object_cell")},t.prototype.scroll_width=function(){var e;return(null!=(e=this.scrolling[0])?e.scrollWidth:void 0)||0},t.prototype.reshape=function(){var e,t;return e=this.scroll_width(),t=this.scrolling.innerWidth(),this.container.toggleClass("has_no_scrolling",e-t<10),"function"==typeof this.update_scrollbar?this.update_scrollbar():void 0},t.prototype.show_visible_images=function(){var e,t,n,r,o,i;if(!this.images_loaded){for(n=this.scrolling.innerWidth(),o=[],e=0,t=(r=this.carousel.find("img[data-src]")).length;e<t&&(i=r[e]).offsetParent&&$(i.offsetParent).position().left<n;e++)o.push(this.show_image($(i)));return o}},t.prototype.show_all_images=function(){var e,t,n,r,o;if(!this.images_loaded){for(this.images_loaded=!0,r=[],e=0,t=(n=this.carousel.find("img[data-src]")).length;e<t;e++)o=n[e],r.push(this.show_image($(o)));return r}},t.prototype.setup_flags=function(){return Scribd.DocumentCell.add_flags(this.container)},t.prototype.flush_images=function(){var t,n;return n=this,t=function(){var e;if(null!=(e=n._load_queue)?e.length:void 0)return $(n._load_queue).addClass("loaded"),n._load_queue=[]},this.flush_images=e.debounce(t,10),this.flush_images()},t.prototype.show_image=function(e){var t,n,r,o;if(n=(t=(e=$(e)).data()).src,r=t.srcset,n)return e.attr("src",""),e.on("load",(o=this,function(t){return o._load_queue||(o._load_queue=[]),o._load_queue.push(e[0]),o.flush_images()})),e.attr("src",n),e.attr("srcset",r),e.removeData("src"),e.removeData("srcset")},t.prototype.show_paddles=function(e){return null==e&&(e=!0),this.container.toggleClass("paddles_visible",!!e)},t.prototype.on_interact=function(){return this.on_interact=function(){},this.show_all_images(),$(document.body).track({category:this.opts.page||"carousel",action:"click",label:"carousel:first_carousel_click"})},t.prototype.check_items_inview=function(){var e,t,n,r,o,i,a,s,c;if(null!=this.tracking){for(50,i=this.scrolling.innerWidth(),n=t=0,o=(s=this.container.find(".object_cell[data-track_uuid]")).length;t<o;n=++t)e=s[n],(e=$(e)).is(".visibility_tracked")||(r=e.position().left,r+=parseInt(e.css("marginLeft")),c=e.width(),r+50>=0&&r+c-50<=i&&(a=e.closest("[data-track_uuid]").data("track_uuid"),Scribd.RecommendationTracking.track_obj_view(this.tracking.view_id,a),e.addClass("visibility_tracked")));return null}},t}(),Scribd.UI.Carousel.carousels=[]}).call(this,n(4))},69:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r);t.default=o()({loader:function(){return n.e(57).then(n.bind(null,169))},loading:function(){return null}})},70:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(19),o=(n(180),n(25));n(181);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(t){function n(e){var t,r,o,a,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,o=l(n).call(this,e),t=!o||"object"!==i(o)&&"function"!=typeof o?s(r):o,a=s(t),u=function(){t.props.no_clamp||t.clamp_lines(),t.set_narrow()},(c="handle_resize")in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,t.state={narrow:t.props.narrow},t.enclosing_class("auto__shared_react_cells_article"),t}var r,_,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,t),r=n,(_=[{key:"componentDidMount",value:function(){this.handle_resize(),$(window).on("resize.article_cell",e.debounce(this.handle_resize,100)),c(l(n.prototype),"componentDidMount",this).call(this)}},{key:"componentWillUnmount",value:function(){$(window).off("resize.article_cell")}},{key:"get_container",value:function(){return $(this.container||ReactDOM.findDOMNode(this))}},{key:"get_image_alt_text",value:function(){return this.props.item.author}},{key:"get_article_image_css_class",value:function(){return this.props.item.article_image_url?"has_image":"no_image"}},{key:"get_narrow",value:function(){return $(this.container).width()<550&&"grid"!==this.props.display_type}},{key:"set_narrow",value:function(){this.setState({narrow:this.get_narrow()})}},{key:"clamp_lines",value:function(){if("grid"===this.props.display_type){var e=this.get_container().find(".header"),t=this.get_container().find(".article_image_container"),n=this.get_container().find(".title"),r=this.get_container().find(".description"),o=this.get_container().innerHeight()-(e.innerHeight()+(t.innerHeight()||-22)+n.innerHeight());return o<44?(r.hide(),window.$clamp(n[0],{clamp:6})):window.$clamp(r[0],{clamp:Math.floor(o/22)})}}},{key:"render_aria_description_label",value:function(){return React.createElement("span",{className:"visually_hidden"},this.props.item.description.slice(0,250))}},{key:"render_image_cta",value:function(){}},{key:"render_interest",value:function(){if(this.props.item.interest)return React.createElement("div",{className:"interest"},this.props.item.interest)}},{key:"render_article_image",value:function(){if(this.props.item.show_article_image&&this.props.item.article_image_url)return React.createElement("div",{className:"article_image_container"},React.createElement(o.a,{image_url:this.props.item.article_image_url,retina_image_url:this.props.item.retina_article_image_url,lazy_load:this.props.use_in_carousel,alt_text:this.props.item.alt_text||"",role:this.props.item.role}))}},{key:"render_stick_and_block",value:function(){if("grid"===this.props.display_type)return[React.createElement("div",{className:"spacer_stick",key:"spacer_stick"}),React.createElement("div",{className:"spacer_block",key:"spacer_block"})]}},{key:"render_description",value:function(){return React.createElement("div",{className:"description","aria-hidden":"true"},this.props.item.description)}},{key:"render_list_item_content",value:function(){return React.createElement("div",{className:classNames("wrapper",{narrow:this.state.narrow})},React.createElement("div",{className:"header"},this.render_image(!1),React.createElement("div",{className:"metadata","aria-hidden":"true"},this.render_author(!1),this.render_reading_time_estimate(),this.render_interest())),this.render_article_image(),React.createElement("div",{className:"body ".concat(this.get_article_image_css_class())},this.render_stick_and_block(),this.render_title(),this.render_description(),this.render_aria_description_label()))}}])&&a(r.prototype,_),d&&a(r,d),n}(r.a);Scribd.addComponent("Shared.React.Cells.Article",_)}).call(this,n(4))},71:function(e,t,n){(function(e){Scribd.UI||(Scribd.UI={}),Scribd.UI.SearchStorage=function(){function t(){}return t.prototype.search_data_key="search_data",t.prototype.max_search_terms=5,t.DEFAULT_DATA={terms:[],query_preferences:{}},t.prototype.read=function(){var e,t;return e=Scribd.UI.SearchStorage.DEFAULT_DATA,Scribd.with_local_storage((t=this,function(n){var r,o;return o=n.getItem(t.search_data_key),r=JSON.parse(o),Object.assign({},e,r)}))},t.prototype.current_unique_terms=function(){var t;return t=this.read().terms,t=e.uniq(t),t=e.compact(t)},t.prototype.save_terms=function(e){return Scribd.with_local_storage((t=this,function(n){var r;return r=Object.assign({},t.read(),{terms:e}),n.setItem(t.search_data_key,JSON.stringify(r))}));var t},t.prototype.clone=function(e){return e.slice(0)},t.prototype.move_existing_term_to_most_recent=function(e,t){var n,r;return r=(t=this.clone(t)).indexOf(e),n=t.splice(r,1)[0],t.unshift(n),t},t.prototype.insert_new_term=function(e,t){return(t=this.clone(t)).length>=this.max_search_terms&&(t=t.slice(0,this.max_search_terms-1)),t.unshift(e),t},t.prototype.save_history=function(e){var t,n;return 0===(null!=(t=(n=this.current_unique_terms())[0])?t.indexOf(e):void 0)?n[0]=e:n=n.includes(e)?this.move_existing_term_to_most_recent(e,n):this.insert_new_term(e,n),this.save_terms(n)},t.prototype.save_preferences=function(e,t){return Scribd.with_local_storage((n=this,function(r){var o,i;return(i=n.read().query_preferences)[e]=t,o=Object.assign(n.read(),{query_preferences:i}),r.setItem(n.search_data_key,JSON.stringify(o))}));var n},t}()}).call(this,n(4))},72:function(e,t,n){"use strict";n.r(t);n(68),n(55),n(59),n(60),n(61),n(62)},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return React.createElement("div",{className:classNames("header_container flex_row",e.extra_classes),key:"header_container"},e.children)}},80:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r);t.default=o()({loader:function(){return n.e(54).then(n.bind(null,170))},loading:function(){return null}})},81:function(e,t,n){"use strict";(function(e){var t=n(51),r=n(53),o=n(52),i=n(50),a=n(0),s=n(3),c=n(17);n(101);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(n){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=d(this,p(a).call(this,e))).enclosing_class("auto__shared_navigation_global_nav"),t.state={show_sidebar:t.should_show_components(t.get_width_var()),page_width:t.get_width_var()},t}var l,f,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,n),l=a,(f=[{key:"componentDidMount",value:function(){this.add_hybrid_class(),this.debounced_resize=e.debounce(this.handle_resize,50),window.addEventListener("resize",this.debounced_resize),this.handle_resize(),this.debounced_resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced_resize)}},{key:"add_hybrid_class",value:function(){this.props.show_global_side_nav&&$(document.body).addClass("hybrid")}},{key:"language_picker_already_closed",value:function(){return!1}},{key:"width_less_than",value:function(e){return window.matchMedia("(max-width: ".concat(e,"px)")).matches}},{key:"handle_resize",value:function(){this.width_less_than(700)||this.remove_no_scroll_class();var e=this.get_width_var();this.set_width(e)}},{key:"get_width_var",value:function(){return this.width_less_than(c.a.breakpoint_450)?s.a:this.width_less_than(c.a.breakpoint_550)?s.d:this.width_less_than(c.a.breakpoint_700)?s.c:this.width_less_than(c.a.breakpoint_950)?s.e:s.b}},{key:"set_width",value:function(e){if(this.state.page_width!==e){var t=this.should_show_components(e);this.setState({page_width:e,show_sidebar:t})}}},{key:"close_sidebar",value:function(){this.setState({show_sidebar:!1})}},{key:"remove_no_scroll_class",value:function(){var e=document.body.classList;e.contains("no_scroll")&&e.remove("no_scroll")}},{key:"should_show_components",value:function(e){var t=!1;switch(e){case s.a:case s.d:case s.c:t=!1;break;case s.e:case s.b:t=!0}return t}},{key:"toggle_sidebar",value:function(e){e.preventDefault(),this.setState({show_sidebar:!this.state.show_sidebar},this.keyboard_user_focus)}},{key:"keyboard_user_focus",value:function(){this.state.show_sidebar?this.focus_on_sidebar():this.focus_back_on_header()}},{key:"focus_back_on_header",value:function(){this.get_focusable_children()[0].focus()}},{key:"focus_on_sidebar",value:function(){this.container.querySelector(".global_nav_sidebar a").focus()}},{key:"get_header_props",value:function(){return Object.assign({},this.props.header_props,{page_width:this.state.page_width,sidebar_open:this.state.show_sidebar,handle_toggle_sidebar:this.toggle_sidebar})}},{key:"render_language_message",value:function(){var e=this.props.language_message_props;if(e)return React.createElement(i.a,e)}},{key:"render_header",value:function(){return this.props.show_global_side_nav?React.createElement(o.a,u({key:"header_hybrid"},this.get_header_props())):React.createElement(t.a,u({key:"header"},this.get_header_props()))}},{key:"render_sidebar",value:function(){if(this.props.show_global_side_nav)return this.state.show_sidebar?React.createElement(r.a,u({key:"sidebar",page_width:this.state.page_width,handle_toggle_sidebar:this.toggle_sidebar,close_sidebar:this.close_sidebar,focus_on_header:this.keyboard_user_focus},this.props.sidebar_props)):void 0}},{key:"render_content",value:function(){return[this.render_header(),this.render_sidebar(),this.render_language_message()]}}])&&_(l.prototype,f),m&&_(l,m),a}(a.a);Scribd.addComponent("Shared.Navigation.GlobalNav",f)}).call(this,n(4))},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},927:function(e,t,n){(function(e){var t,r=function(e,t){return function(){return e.apply(t,arguments)}};n(1344),n(1345),n(1346),n(67),n(68),t=function(){function t(t,n){var o;this.opts=n,this.append_url_frag=r(this.append_url_frag,this),this.container=$(t),this.view_mode=this.opts.view_mode||"scroll",this.document=$.extend(this.opts.document,{total_pages:this.get_highest_page()}),this.setup_mobile(),this.render_toolbar(),this.setup_events(),this.setup_sizing(),this.setup_buy_manager(),this.is_mobile()||Scribd.hook_tooltips(this.container.parent()),this.send_events(),this.setup_scroll_tracking(),e.defer((o=this,function(){if(o.opts.start_page&&o.opts.start_page>1)return docManager.gotoPage(o.opts.start_page)}));try{$("#embed_dialog .scribd_iframe_embed",window.parent.document.body).attr("tabindex","-1")}catch(e){}this.container.track_js_performance("embed_content")}return t.min_zoom=.6,t.max_zoom=2.5,t.prototype.setup_mobile=function(){if(this.is_mobile())return this.has_mobile_overlay=!0,this.container.addClass("show_mobile_overlay"),this.container.find("[data-mobile_doc_href]").attr("href",this.opts.document.mobile_url)},t.prototype.send_events=function(){return this.container.on("click",".mobile_overlay_btn",(function(){return $(document.body).track_rats("embed:overlay_button:click")})),e.defer((t=this,function(){return $(document.body).track_rats("embed:view",{rec_bar:t.opts.show_recommendations,width:$(window).width(),height:$(window).height(),doc_type:t.opts.document_type_for_tracking,view_mode:t.view_mode,mobile_overlay:t.container.find(".mobile_overlay").is(":visible")})}));var t},t.prototype.setup_carousels=function(){var e,t,n,r,o;if(this.setup_carousels=function(){},(t=this.container.find(".recommendation_rows")).length){for(n=0,r=(o=t.find(".document_carousel")).length;n<r;n++)e=o[n],new Scribd.UI.Carousel($(e),{tracking_module:!1});return t.find(".doc_link").attr("target","_blank"),t.on("click",".doc_link",(i=this,function(e){var t,n;if(n=$(e.currentTarget),$(document.body).track_rats("embed:rec_bar_content:click",{doc_id:n.closest(".document_cell").data("object_id"),loc:n.closest("[data-track_name]").data("track_name")}),e.currentTarget.href)return t=i.append_url_frag(e.currentTarget.href,"from_embed"),window.open(t,"_blank"),e.stopPropagation(),e.preventDefault()}));var i}},t.prototype.append_url_frag=function(e,t){var n;return(n=e.split("#"))[1]=n[1]?n[1]+"&"+t:t,n.join("#")},t.prototype.setup_events=function(){var e;return"undefined"!=typeof docManager&&null!==docManager&&docManager.addEvent("expectedFirstPageChanged",(e=this,function(t){return e.current_page=t,e.render()})),this.container.dispatch("click",{close_recs_btn:function(e){return function(){return e.recommendations_open=!e.recommendations_open,e.render()}}(this)}),new Scribd.ReadingProgress.Pdf({scroll_node:docManager.scrollParent||document.body,total_pages:this.document.total_pages,doc_id:this.document.id,container:this.container.find(".document_scroller"),is_embed:!0})},t.prototype.setup_scroll_tracking=function(){var e,t;return t=this.container.find(".document_scroller"),setTimeout((function(){return t.one("scroll",(function(){return $(document.body).track_rats("embed:scroll")}))}),500),e=function(){var n;if(n=t[0].scrollHeight,t.scrollTop()/(n-t.height())>.98)return $(document.body).track_rats("embed:scroll_end"),t.off("scroll",e)},t.on("scroll",e)},t.prototype.setup_sizing=function(){var t,n,r,o;return n=this.container.find(".document_scroller"),60,30,1e3,r=$(window),o=this,t=function(){var e,t;return"scroll"===o.view_mode?Math.min(1e3,n.width()-60):(t=(e=docManager.pages[docManager.currentPageNum()]).origWidth/e.origHeight,Math.min(1e3,n.width()-60,(n.height()-30)*t))},docManager.setViewManager(this.view_mode,function(n){return function(){return n.update_page_width=function(){var e;if(docManager.setDefaultWidth(t()),e=n.narrow,n.narrow=r.width()<520,e!==n.narrow)return n.render()},n.update_page_width(),$(window).on("resize",e.debounce((function(){return n.update_page_width()}),50))}}(this))},t.prototype.render=function(){if(window.docManager)return this.current_zoom=docManager._currentViewManager._currentZoomMultiplier,this.render_toolbar(),this.container.toggleClass("recommendations_open",!!this.recommendations_open).toggleClass("view_mode_scroll","scroll"===this.view_mode).toggleClass("view_mode_slideshow","slideshow"===this.view_mode),this.recommendations_open?this.setup_carousels():void 0},t.prototype.render_toolbar=function(){var e,t;return this.toolbar_drop||(this.toolbar_drop=this.container.find(".toolbar_drop")),e=$.extend({},this.opts.toolbar,{view_mode:this.view_mode,document:this.document,recommendations_open:this.recommendations_open,show_recommendations:this.opts.show_recommendations,is_mobile:this.is_mobile(),hide_controls:this.has_mobile_overlay||this.narrow,current_zoom:this.current_zoom,current_page:this.current_page||1,on_first_page:1===this.current_page,on_last_page:this.current_page===this.get_highest_page(),goto_page:(t=this,function(e,n){var r,o;return null==n&&(n=!1),r=e>t.current_page?1:-1,o=docManager.getClosestPageNumber(e,r),docManager.gotoPage(o,{direction:r})}),next_page:function(){return docManager.gotoNextPage()},previous_page:function(){return docManager.gotoPreviousPage()},toggle_recommendations:function(e){return function(){return $(document.body).track_rats("embed:rec_bar:click",{action:e.recommendations_open?"hide":"show"}),e.recommendations_open=!e.recommendations_open,e.render()}}(this),zoom_in:function(e){return function(){if(!(e.current_zoom>=e.constructor.max_zoom))return"undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(1.25),e.render()}}(this),zoom_out:function(e){return function(){if(!(e.current_zoom<=e.constructor.min_zoom))return"undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(.8),e.render()}}(this)}),this.toolbar=ReactDOM.render(React.createElement(Scribd.Embeds.New.Toolbar,e),this.toolbar_drop[0])},t.prototype.get_highest_page=function(){var e,t,n;if(!window.docManager)return 0;if(!(e=null!=(n=Scribd.current_doc)?n.page_count:void 0))for(t in e=0,docManager.pages)e=Math.max(e,t);return this.get_highest_page=function(){return e},e},t.prototype.setup_buy_manager=function(){return Scribd.BuyDocManager.for_current_doc()},t.prototype.is_mobile=function(){return!!navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i)},t}(),Scribd.addComponent("EmbedsShow",t)}).call(this,n(4))},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}});
//# sourceMappingURL=embeds_new.85bc1f944e9a3cefc188.js.map